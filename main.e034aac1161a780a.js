"use strict";(self.webpackChunkbcp_challenge=self.webpackChunkbcp_challenge||[]).push([[179],{2816:(Ht,Qe,R)=>{R.d(Qe,{hO:()=>ht,xv:()=>ve,Dh:()=>st,HU:()=>ot,GT:()=>zt,sI:()=>Xe,on:()=>ze,ss:()=>Ue,pX:()=>Tt,yq:()=>nt});var _=R(4408),m=R(7565);const de=new class ue extends m.v{}(class z extends _.o{constructor(_t,at){super(_t,at),this.scheduler=_t,this.work=at}schedule(_t,at=0){return at>0?super.schedule(_t,at):(this.delay=at,this.state=_t,this.scheduler.flush(this),this)}execute(_t,at){return at>0||this.closed?super.execute(_t,at):this._execute(_t,at)}requestAsyncId(_t,at,Wt=0){return null!=Wt&&Wt>0||null==Wt&&this.delay>0?super.requestAsyncId(_t,at,Wt):_t.flush(this)}});var Pe=R(4986),ke=R(8505),De=R(9468),he=R(5363),Te=R(5e3),Ee=R(5867);function Fe(){}Ht=R.hmd(Ht);class Ie{constructor(_t,at=de){this.zone=_t,this.delegate=at}now(){return this.delegate.now()}schedule(_t,at,Wt){const xt=this.zone;return this.delegate.schedule(function($t){xt.runGuarded(()=>{_t.apply(this,[$t])})},at,Wt)}}class Ae{constructor(_t){this.zone=_t,this.task=null}call(_t,at){const Wt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fe,{},Fe,Fe)),at.pipe((0,ke.b)({next:Wt,complete:Wt,error:Wt})).subscribe(_t).add(Wt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ot{constructor(_t){this.ngZone=_t,this.outsideAngular=_t.runOutsideAngular(()=>new Ie(Zone.current)),this.insideAngular=_t.run(()=>new Ie(Zone.current,Pe.z))}}function Ue(Ze){return function(at){return(at=at.lift(new Ae(Ze.ngZone))).pipe((0,De.R)(Ze.outsideAngular),(0,he.Q)(Ze.insideAngular))}}const lt=["ngOnDestroy"],Tt=(Ze,_t,at,Wt={})=>new Proxy(Ze,{get:(xt,Pt)=>at.runOutsideAngular(()=>{var $t;if(Ze[Pt])return(null===($t=null==Wt?void 0:Wt.spy)||void 0===$t?void 0:$t.get)&&Wt.spy.get(Pt,Ze[Pt]),Ze[Pt];if(lt.indexOf(Pt)>-1)return()=>{};const Ft=_t.toPromise().then(Et=>{const Vt=Et&&Et[Pt];return"function"==typeof Vt?Vt.bind(Et):Vt&&Vt.then?Vt.then(tt=>at.run(()=>tt)):at.run(()=>Vt)});return new Proxy(()=>{},{get:(Et,Vt)=>Ft[Vt],apply:(Et,Vt,tt)=>Ft.then(je=>{var et;const Oe=je&&je(...tt);return(null===(et=null==Wt?void 0:Wt.spy)||void 0===et?void 0:et.apply)&&Wt.spy.apply(Pt,tt,Oe),Oe})})})}),zt=(Ze,_t)=>{_t.forEach(at=>{Object.getOwnPropertyNames(at.prototype||at).forEach(Wt=>{Object.defineProperty(Ze.prototype,Wt,Object.getOwnPropertyDescriptor(at.prototype||at,Wt))})})},st=new Te.OlP("angularfire2.app.options"),ve=new Te.OlP("angularfire2.app.nameOrConfig"),Ne=new Te.GfV("6.1.5");function ze(Ze,_t,at){const xt="object"==typeof at&&at||{};xt.name=xt.name||"string"==typeof at&&at||"[DEFAULT]";const $t=Ee.Z.apps.filter(Ft=>Ft&&Ft.name===xt.name)[0]||_t.runOutsideAngular(()=>Ee.Z.initializeApp(Ze,xt));try{JSON.stringify(Ze)!==JSON.stringify($t.options)&&K("error",`${$t.name} Firebase App already initialized with different options${Ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ft){}return $t}const nt=()=>{K("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},K=(Ze,..._t)=>{(0,Te.X6Q)()&&"undefined"!=typeof console&&console[Ze](..._t)};function Xe(Ze,_t,at,Wt,xt){const[Pt,...$t]=globalThis.\u0275AngularfireInstanceCache.get(Ze)||[];if(Pt){try{xt.some((Ft,Et)=>{const Vt=$t[Et];return Ft&&"object"==typeof Ft?JSON.stringify(Ft)!==JSON.stringify(Vt):Ft!==Vt})&&K("error",`${_t} was already initialized on the ${at.name} Firebase App instance with different settings.${Ht.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Ft){}return Pt}{const Ft=Wt();return globalThis.\u0275AngularfireInstanceCache.set(Ze,[Ft,...xt]),Ft}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const ct={provide:class me{},useFactory:ze,deps:[st,Te.R0b,[new Te.FiY,ve]]};let ht=(()=>{class Ze{constructor(at){Ee.Z.registerVersion("angularfire",Ne.full,at.toString()),Ee.Z.registerVersion("angular",Te.q4F.full)}static initializeApp(at,Wt){return{ngModule:Ze,providers:[{provide:st,useValue:at},{provide:ve,useValue:Wt}]}}}return Ze.\u0275fac=function(at){return new(at||Ze)(Te.LFG(Te.Lbi))},Ze.\u0275mod=Te.oAB({type:Ze}),Ze.\u0275inj=Te.cJS({providers:[ct]}),Ze})()},8367:(Ht,Qe,R)=>{R.d(Qe,{Z:()=>Pt});var de,ve,_=R(655),z=R(492),m=R(2461),ue=R(4003),xe=((de={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",de["bad-app-name"]="Illegal App name: '{$appName}",de["duplicate-app"]="Firebase App named '{$appName}' already exists",de["app-deleted"]="Firebase App named '{$appName}' already deleted",de["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",de["invalid-log-argument"]="First argument to `onLog` must be null or a function.",de),Pe=new z.LL("app","Firebase",xe),ke="@firebase/app",me="[DEFAULT]",Ne=((ve={})[ke]="fire-core",ve["@firebase/analytics"]="fire-analytics",ve["@firebase/app-check"]="fire-app-check",ve["@firebase/auth"]="fire-auth",ve["@firebase/database"]="fire-rtdb",ve["@firebase/functions"]="fire-fn",ve["@firebase/installations"]="fire-iid",ve["@firebase/messaging"]="fire-fcm",ve["@firebase/performance"]="fire-perf",ve["@firebase/remote-config"]="fire-rc",ve["@firebase/storage"]="fire-gcs",ve["@firebase/firestore"]="fire-fst",ve["fire-js"]="fire-js",ve["firebase-wrapper"]="fire-js-all",ve),ze=new ue.Yd("@firebase/app"),nt=function(){function $t(Ft,Et,Vt){var tt=this;this.firebase_=Vt,this.isDeleted_=!1,this.name_=Et.name,this.automaticDataCollectionEnabled_=Et.automaticDataCollectionEnabled||!1,this.options_=(0,z.p$)(Ft),this.container=new m.H0(Et.name),this._addComponent(new m.wA("app",function(){return tt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(je){return tt._addComponent(je)})}return Object.defineProperty($t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ft){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ft},enumerable:!1,configurable:!0}),Object.defineProperty($t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty($t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),$t.prototype.delete=function(){var Ft=this;return new Promise(function(Et){Ft.checkDestroyed_(),Et()}).then(function(){return Ft.firebase_.INTERNAL.removeApp(Ft.name_),Promise.all(Ft.container.getProviders().map(function(Et){return Et.delete()}))}).then(function(){Ft.isDeleted_=!0})},$t.prototype._getService=function(Ft,Et){var Vt;void 0===Et&&(Et=me),this.checkDestroyed_();var tt=this.container.getProvider(Ft);return!tt.isInitialized()&&"EXPLICIT"===(null===(Vt=tt.getComponent())||void 0===Vt?void 0:Vt.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:Et})},$t.prototype._removeServiceInstance=function(Ft,Et){void 0===Et&&(Et=me),this.container.getProvider(Ft).clearInstance(Et)},$t.prototype._addComponent=function(Ft){try{this.container.addComponent(Ft)}catch(Et){ze.debug("Component "+Ft.name+" failed to register with FirebaseApp "+this.name,Et)}},$t.prototype._addOrOverwriteComponent=function(Ft){this.container.addOrOverwriteComponent(Ft)},$t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},$t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Pe.create("app-deleted",{appName:this.name_})},$t}();nt.prototype.name&&nt.prototype.options||nt.prototype.delete||console.log("dc");var ct=function Xe(){var $t=function fe($t){var Ft={},Et=new Map,Vt={__esModule:!0,initializeApp:function et(ln,fn){void 0===fn&&(fn={}),("object"!=typeof fn||null===fn)&&(fn={name:fn});var te=fn;void 0===te.name&&(te.name=me);var we=te.name;if("string"!=typeof we||!we)throw Pe.create("bad-app-name",{appName:String(we)});if((0,z.r3)(Ft,we))throw Pe.create("duplicate-app",{appName:we});var We=new $t(ln,te,Vt);return Ft[we]=We,We},app:je,registerVersion:function Nt(ln,fn,wt){var te,we=null!==(te=Ne[ln])&&void 0!==te?te:ln;wt&&(we+="-"+wt);var We=we.match(/\s|\//),dt=fn.match(/\s|\//);if(We||dt){var ye=['Unable to register library "'+we+'" with version "'+fn+'":'];return We&&ye.push('library name "'+we+'" contains illegal characters (whitespace or "/")'),We&&dt&&ye.push("and"),dt&&ye.push('version name "'+fn+'" contains illegal characters (whitespace or "/")'),void ze.warn(ye.join(" "))}gt(new m.wA(we+"-version",function(){return{library:we,version:fn}},"VERSION"))},setLogLevel:ue.Ub,onLog:function Kt(ln,fn){if(null!==ln&&"function"!=typeof ln)throw Pe.create("invalid-log-argument");(0,ue.Am)(ln,fn)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:gt,removeApp:function tt(ln){delete Ft[ln]},components:Et,useAsService:function Qt(ln,fn){return"serverAuth"===fn?null:fn}}};function je(ln){if(!(0,z.r3)(Ft,ln=ln||me))throw Pe.create("no-app",{appName:ln});return Ft[ln]}function gt(ln){var fn=ln.name;if(Et.has(fn))return ze.debug("There were multiple attempts to register component "+fn+"."),"PUBLIC"===ln.type?Vt[fn]:null;if(Et.set(fn,ln),"PUBLIC"===ln.type){var wt=function(dt){if(void 0===dt&&(dt=je()),"function"!=typeof dt[fn])throw Pe.create("invalid-app-argument",{appName:fn});return dt[fn]()};void 0!==ln.serviceProps&&(0,z.ZB)(wt,ln.serviceProps),Vt[fn]=wt,$t.prototype[fn]=function(){for(var dt=[],ye=0;ye<arguments.length;ye++)dt[ye]=arguments[ye];return this._getService.bind(this,fn).apply(this,ln.multipleInstances?dt:[])}}for(var te=0,we=Object.keys(Ft);te<we.length;te++)Ft[we[te]]._addComponent(ln);return"PUBLIC"===ln.type?Vt[fn]:null}return Vt.default=Vt,Object.defineProperty(Vt,"apps",{get:function Oe(){return Object.keys(Ft).map(function(ln){return Ft[ln]})}}),je.App=$t,Vt}(nt);return $t.INTERNAL=(0,_.pi)((0,_.pi)({},$t.INTERNAL),{createFirebaseNamespace:Xe,extendNamespace:function Ft(Et){(0,z.ZB)($t,Et)},createSubscribe:z.ne,ErrorFactory:z.LL,deepExtend:z.ZB}),$t}(),ht=function(){function $t(Ft){this.container=Ft}return $t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Et){if(function Ze($t){var Ft=$t.getComponent();return"VERSION"===(null==Ft?void 0:Ft.type)}(Et)){var Vt=Et.getImmediate();return Vt.library+"/"+Vt.version}return null}).filter(function(Et){return Et}).join(" ")},$t}();if((0,z.jU)()&&void 0!==self.firebase){ze.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&ze.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Wt=ct.initializeApp;ct.initializeApp=function(){for(var $t=[],Ft=0;Ft<arguments.length;Ft++)$t[Ft]=arguments[Ft];return(0,z.UG)()&&ze.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Wt.apply(void 0,$t)};var xt=ct;!function _t($t,Ft){$t.INTERNAL.registerComponent(new m.wA("platform-logger",function(Et){return new ht(Et)},"PRIVATE")),$t.registerVersion(ke,"0.6.30",Ft),$t.registerVersion("fire-js","")}(xt);const Pt=xt},2461:(Ht,Qe,R)=>{R.d(Qe,{H0:()=>ke,wA:()=>m});var _=R(655),z=R(492),m=function(){function De(he,Te,Ee){this.name=he,this.instanceFactory=Te,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return De.prototype.setInstantiationMode=function(he){return this.instantiationMode=he,this},De.prototype.setMultipleInstances=function(he){return this.multipleInstances=he,this},De.prototype.setServiceProps=function(he){return this.serviceProps=he,this},De.prototype.setInstanceCreatedCallback=function(he){return this.onInstanceCreated=he,this},De}(),ue="[DEFAULT]",de=function(){function De(he,Te){this.name=he,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return De.prototype.get=function(he){var Te=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(Te)){var Ee=new z.BH;if(this.instancesDeferred.set(Te,Ee),this.isInitialized(Te)||this.shouldAutoInitialize())try{var Fe=this.getOrInitializeService({instanceIdentifier:Te});Fe&&Ee.resolve(Fe)}catch(Ie){}}return this.instancesDeferred.get(Te).promise},De.prototype.getImmediate=function(he){var Te,Ee=this.normalizeInstanceIdentifier(null==he?void 0:he.identifier),Fe=null!==(Te=null==he?void 0:he.optional)&&void 0!==Te&&Te;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(Ie){if(Fe)return null;throw Ie}},De.prototype.getComponent=function(){return this.component},De.prototype.setComponent=function(he){var Te,Ee;if(he.name!==this.name)throw Error("Mismatching Component "+he.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=he,this.shouldAutoInitialize()){if(function Pe(De){return"EAGER"===De.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(zt){}try{for(var Fe=(0,_.XA)(this.instancesDeferred.entries()),Ie=Fe.next();!Ie.done;Ie=Fe.next()){var Ae=(0,_.CR)(Ie.value,2),Ue=Ae[1],lt=this.normalizeInstanceIdentifier(Ae[0]);try{var Tt=this.getOrInitializeService({instanceIdentifier:lt});Ue.resolve(Tt)}catch(zt){}}}catch(zt){Te={error:zt}}finally{try{Ie&&!Ie.done&&(Ee=Fe.return)&&Ee.call(Fe)}finally{if(Te)throw Te.error}}}},De.prototype.clearInstance=function(he){void 0===he&&(he=ue),this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)},De.prototype.delete=function(){return(0,_.mG)(this,void 0,void 0,function(){var he;return(0,_.Jh)(this,function(Te){switch(Te.label){case 0:return he=Array.from(this.instances.values()),[4,Promise.all((0,_.ev)((0,_.ev)([],(0,_.CR)(he.filter(function(Ee){return"INTERNAL"in Ee}).map(function(Ee){return Ee.INTERNAL.delete()}))),(0,_.CR)(he.filter(function(Ee){return"_delete"in Ee}).map(function(Ee){return Ee._delete()}))))];case 1:return Te.sent(),[2]}})})},De.prototype.isComponentSet=function(){return null!=this.component},De.prototype.isInitialized=function(he){return void 0===he&&(he=ue),this.instances.has(he)},De.prototype.getOptions=function(he){return void 0===he&&(he=ue),this.instancesOptions.get(he)||{}},De.prototype.initialize=function(he){var Te,Ee;void 0===he&&(he={});var Fe=he.options,Ie=void 0===Fe?{}:Fe,Ae=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(Ae))throw Error(this.name+"("+Ae+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ot=this.getOrInitializeService({instanceIdentifier:Ae,options:Ie});try{for(var Ue=(0,_.XA)(this.instancesDeferred.entries()),lt=Ue.next();!lt.done;lt=Ue.next()){var Tt=(0,_.CR)(lt.value,2),st=Tt[1];Ae===this.normalizeInstanceIdentifier(Tt[0])&&st.resolve(ot)}}catch(me){Te={error:me}}finally{try{lt&&!lt.done&&(Ee=Ue.return)&&Ee.call(Ue)}finally{if(Te)throw Te.error}}return ot},De.prototype.onInit=function(he,Te){var Ee,Fe=this.normalizeInstanceIdentifier(Te),Ie=null!==(Ee=this.onInitCallbacks.get(Fe))&&void 0!==Ee?Ee:new Set;Ie.add(he),this.onInitCallbacks.set(Fe,Ie);var Ae=this.instances.get(Fe);return Ae&&he(Ae,Fe),function(){Ie.delete(he)}},De.prototype.invokeOnInitCallbacks=function(he,Te){var Ee,Fe,Ie=this.onInitCallbacks.get(Te);if(Ie)try{for(var Ae=(0,_.XA)(Ie),ot=Ae.next();!ot.done;ot=Ae.next()){var Ue=ot.value;try{Ue(he,Te)}catch(lt){}}}catch(lt){Ee={error:lt}}finally{try{ot&&!ot.done&&(Fe=Ae.return)&&Fe.call(Ae)}finally{if(Ee)throw Ee.error}}},De.prototype.getOrInitializeService=function(he){var Te=he.instanceIdentifier,Ee=he.options,Fe=void 0===Ee?{}:Ee,Ie=this.instances.get(Te);if(!Ie&&this.component&&(Ie=this.component.instanceFactory(this.container,{instanceIdentifier:xe(Te),options:Fe}),this.instances.set(Te,Ie),this.instancesOptions.set(Te,Fe),this.invokeOnInitCallbacks(Ie,Te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Te,Ie)}catch(Ae){}return Ie||null},De.prototype.normalizeInstanceIdentifier=function(he){return void 0===he&&(he=ue),this.component?this.component.multipleInstances?he:ue:he},De.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},De}();function xe(De){return De===ue?void 0:De}var ke=function(){function De(he){this.name=he,this.providers=new Map}return De.prototype.addComponent=function(he){var Te=this.getProvider(he.name);if(Te.isComponentSet())throw new Error("Component "+he.name+" has already been registered with "+this.name);Te.setComponent(he)},De.prototype.addOrOverwriteComponent=function(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)},De.prototype.getProvider=function(he){if(this.providers.has(he))return this.providers.get(he);var Te=new de(he,this);return this.providers.set(he,Te),Te},De.prototype.getProviders=function(){return Array.from(this.providers.values())},De}()},4003:(Ht,Qe,R)=>{function _(){for(var Ee=0,Fe=0,Ie=arguments.length;Fe<Ie;Fe++)Ee+=arguments[Fe].length;var Ae=Array(Ee),ot=0;for(Fe=0;Fe<Ie;Fe++)for(var Ue=arguments[Fe],lt=0,Tt=Ue.length;lt<Tt;lt++,ot++)Ae[ot]=Ue[lt];return Ae}R.d(Qe,{Am:()=>Te,Ub:()=>he,Yd:()=>De,in:()=>ue});var z,m=[],ue=(()=>{return(Ee=ue||(ue={}))[Ee.DEBUG=0]="DEBUG",Ee[Ee.VERBOSE=1]="VERBOSE",Ee[Ee.INFO=2]="INFO",Ee[Ee.WARN=3]="WARN",Ee[Ee.ERROR=4]="ERROR",Ee[Ee.SILENT=5]="SILENT",ue;var Ee})(),de={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},xe=ue.INFO,Pe=((z={})[ue.DEBUG]="log",z[ue.VERBOSE]="log",z[ue.INFO]="info",z[ue.WARN]="warn",z[ue.ERROR]="error",z),ke=function(Ee,Fe){for(var Ie=[],Ae=2;Ae<arguments.length;Ae++)Ie[Ae-2]=arguments[Ae];if(!(Fe<Ee.logLevel)){var ot=(new Date).toISOString(),Ue=Pe[Fe];if(!Ue)throw new Error("Attempted to log a message with an invalid logType (value: "+Fe+")");console[Ue].apply(console,_(["["+ot+"]  "+Ee.name+":"],Ie))}},De=function(){function Ee(Fe){this.name=Fe,this._logLevel=xe,this._logHandler=ke,this._userLogHandler=null,m.push(this)}return Object.defineProperty(Ee.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Fe){if(!(Fe in ue))throw new TypeError('Invalid value "'+Fe+'" assigned to `logLevel`');this._logLevel=Fe},enumerable:!1,configurable:!0}),Ee.prototype.setLogLevel=function(Fe){this._logLevel="string"==typeof Fe?de[Fe]:Fe},Object.defineProperty(Ee.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Fe){if("function"!=typeof Fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Fe},enumerable:!1,configurable:!0}),Object.defineProperty(Ee.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Fe){this._userLogHandler=Fe},enumerable:!1,configurable:!0}),Ee.prototype.debug=function(){for(var Fe=[],Ie=0;Ie<arguments.length;Ie++)Fe[Ie]=arguments[Ie];this._userLogHandler&&this._userLogHandler.apply(this,_([this,ue.DEBUG],Fe)),this._logHandler.apply(this,_([this,ue.DEBUG],Fe))},Ee.prototype.log=function(){for(var Fe=[],Ie=0;Ie<arguments.length;Ie++)Fe[Ie]=arguments[Ie];this._userLogHandler&&this._userLogHandler.apply(this,_([this,ue.VERBOSE],Fe)),this._logHandler.apply(this,_([this,ue.VERBOSE],Fe))},Ee.prototype.info=function(){for(var Fe=[],Ie=0;Ie<arguments.length;Ie++)Fe[Ie]=arguments[Ie];this._userLogHandler&&this._userLogHandler.apply(this,_([this,ue.INFO],Fe)),this._logHandler.apply(this,_([this,ue.INFO],Fe))},Ee.prototype.warn=function(){for(var Fe=[],Ie=0;Ie<arguments.length;Ie++)Fe[Ie]=arguments[Ie];this._userLogHandler&&this._userLogHandler.apply(this,_([this,ue.WARN],Fe)),this._logHandler.apply(this,_([this,ue.WARN],Fe))},Ee.prototype.error=function(){for(var Fe=[],Ie=0;Ie<arguments.length;Ie++)Fe[Ie]=arguments[Ie];this._userLogHandler&&this._userLogHandler.apply(this,_([this,ue.ERROR],Fe)),this._logHandler.apply(this,_([this,ue.ERROR],Fe))},Ee}();function he(Ee){m.forEach(function(Fe){Fe.setLogLevel(Ee)})}function Te(Ee,Fe){for(var Ie=function(lt){var Tt=null;Fe&&Fe.level&&(Tt=de[Fe.level]),lt.userLogHandler=null===Ee?null:function(zt,st){for(var ve=[],me=2;me<arguments.length;me++)ve[me-2]=arguments[me];var Ne=ve.map(function(ze){if(null==ze)return null;if("string"==typeof ze)return ze;if("number"==typeof ze||"boolean"==typeof ze)return ze.toString();if(ze instanceof Error)return ze.message;try{return JSON.stringify(ze)}catch(nt){return null}}).filter(function(ze){return ze}).join(" ");st>=(null!=Tt?Tt:zt.logLevel)&&Ee({level:ue[st].toLowerCase(),message:Ne,args:ve,type:zt.name})}},Ae=0,ot=m;Ae<ot.length;Ae++)Ie(ot[Ae])}},492:(Ht,Qe,R)=>{R.d(Qe,{BH:()=>Ie,G6:()=>nt,LL:()=>_t,Mn:()=>Ne,Sg:()=>Ae,UG:()=>lt,ZB:()=>Ee,b$:()=>st,d:()=>ve,jU:()=>Tt,m9:()=>Ge,ne:()=>te,p$:()=>Te,r3:()=>je,ru:()=>zt,uI:()=>Ue,w1:()=>me,z$:()=>ot});var _=R(655),de=function(H){for(var I=[],U=0,ne=0;ne<H.length;ne++){var _e=H.charCodeAt(ne);_e<128?I[U++]=_e:_e<2048?(I[U++]=_e>>6|192,I[U++]=63&_e|128):55296==(64512&_e)&&ne+1<H.length&&56320==(64512&H.charCodeAt(ne+1))?(_e=65536+((1023&_e)<<10)+(1023&H.charCodeAt(++ne)),I[U++]=_e>>18|240,I[U++]=_e>>12&63|128,I[U++]=_e>>6&63|128,I[U++]=63&_e|128):(I[U++]=_e>>12|224,I[U++]=_e>>6&63|128,I[U++]=63&_e|128)}return I},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(H,I){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var U=I?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[],_e=0;_e<H.length;_e+=3){var yt=H[_e],Yt=_e+1<H.length,Tn=Yt?H[_e+1]:0,xn=_e+2<H.length,An=xn?H[_e+2]:0,di=(15&Tn)<<2|An>>6,Jn=63&An;xn||(Jn=64,Yt||(di=64)),ne.push(U[yt>>2],U[(3&yt)<<4|Tn>>4],U[di],U[Jn])}return ne.join("")},encodeString:function(H,I){return this.HAS_NATIVE_SUPPORT&&!I?btoa(H):this.encodeByteArray(de(H),I)},decodeString:function(H,I){return this.HAS_NATIVE_SUPPORT&&!I?atob(H):function(H){for(var I=[],U=0,ne=0;U<H.length;){var _e=H[U++];if(_e<128)I[ne++]=String.fromCharCode(_e);else if(_e>191&&_e<224){var yt=H[U++];I[ne++]=String.fromCharCode((31&_e)<<6|63&yt)}else if(_e>239&&_e<365){var xn=((7&_e)<<18|(63&(yt=H[U++]))<<12|(63&(Yt=H[U++]))<<6|63&H[U++])-65536;I[ne++]=String.fromCharCode(55296+(xn>>10)),I[ne++]=String.fromCharCode(56320+(1023&xn))}else{yt=H[U++];var Yt=H[U++];I[ne++]=String.fromCharCode((15&_e)<<12|(63&yt)<<6|63&Yt)}}return I.join("")}(this.decodeStringToByteArray(H,I))},decodeStringToByteArray:function(H,I){this.init_();for(var U=I?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[],_e=0;_e<H.length;){var yt=U[H.charAt(_e++)],Tn=_e<H.length?U[H.charAt(_e)]:0,An=++_e<H.length?U[H.charAt(_e)]:64,Wn=++_e<H.length?U[H.charAt(_e)]:64;if(++_e,null==yt||null==Tn||null==An||null==Wn)throw Error();ne.push(yt<<2|Tn>>4),64!==An&&(ne.push(Tn<<4&240|An>>2),64!==Wn&&ne.push(An<<6&192|Wn))}return ne},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},De=function(H){return function(H){var I=de(H);return Pe.encodeByteArray(I,!0)}(H).replace(/\./g,"")};function Te(H){return Ee(void 0,H)}function Ee(H,I){if(!(I instanceof Object))return I;switch(I.constructor){case Date:return new Date(I.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return I}for(var ne in I)!I.hasOwnProperty(ne)||!Fe(ne)||(H[ne]=Ee(H[ne],I[ne]));return H}function Fe(H){return"__proto__"!==H}var Ie=function(){function H(){var I=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(U,ne){I.resolve=U,I.reject=ne})}return H.prototype.wrapCallback=function(I){var U=this;return function(ne,_e){ne?U.reject(ne):U.resolve(_e),"function"==typeof I&&(U.promise.catch(function(){}),1===I.length?I(ne):I(ne,_e))}},H}();function Ae(H,I){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ne=I||"demo-project",_e=H.iat||0,yt=H.sub||H.user_id;if(!yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Yt=(0,_.pi)({iss:"https://securetoken.google.com/"+ne,aud:ne,iat:_e,exp:_e+3600,auth_time:_e,sub:yt,user_id:yt,firebase:{sign_in_provider:"custom",identities:{}}},H);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(Yt)),""].join(".")}function ot(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function lt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Tt(){return"object"==typeof self&&self.self===self}function zt(){var H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return ot().indexOf("Electron/")>=0}function me(){var H=ot();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ne(){return ot().indexOf("MSAppHost/")>=0}function nt(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Ze=function(H){function I(U,ne,_e){var yt=H.call(this,ne)||this;return yt.code=U,yt.customData=_e,yt.name="FirebaseError",Object.setPrototypeOf(yt,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(yt,_t.prototype.create),yt}return(0,_.ZT)(I,H),I}(Error),_t=function(){function H(I,U,ne){this.service=I,this.serviceName=U,this.errors=ne}return H.prototype.create=function(I){for(var U=[],ne=1;ne<arguments.length;ne++)U[ne-1]=arguments[ne];var _e=U[0]||{},yt=this.service+"/"+I,Yt=this.errors[I],Tn=Yt?at(Yt,_e):"Error",xn=this.serviceName+": "+Tn+" ("+yt+").",An=new Ze(yt,xn,_e);return An},H}();function at(H,I){return H.replace(Wt,function(U,ne){var _e=I[ne];return null!=_e?String(_e):"<"+ne+"?>"})}var Wt=/\{\$([^}]+)}/g;function je(H,I){return Object.prototype.hasOwnProperty.call(H,I)}function te(H,I){var U=new we(H,I);return U.subscribe.bind(U)}!function(){function H(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var I=1;I<this.blockSize;++I)this.pad_[I]=0;this.reset()}H.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},H.prototype.compress_=function(I,U){U||(U=0);var ne=this.W_;if("string"==typeof I)for(var _e=0;_e<16;_e++)ne[_e]=I.charCodeAt(U)<<24|I.charCodeAt(U+1)<<16|I.charCodeAt(U+2)<<8|I.charCodeAt(U+3),U+=4;else for(_e=0;_e<16;_e++)ne[_e]=I[U]<<24|I[U+1]<<16|I[U+2]<<8|I[U+3],U+=4;for(_e=16;_e<80;_e++)ne[_e]=4294967295&((yt=ne[_e-3]^ne[_e-8]^ne[_e-14]^ne[_e-16])<<1|yt>>>31);var Wn,di,Yt=this.chain_[0],Tn=this.chain_[1],xn=this.chain_[2],An=this.chain_[3],Yn=this.chain_[4];for(_e=0;_e<80;_e++){_e<40?_e<20?(Wn=An^Tn&(xn^An),di=1518500249):(Wn=Tn^xn^An,di=1859775393):_e<60?(Wn=Tn&xn|An&(Tn|xn),di=2400959708):(Wn=Tn^xn^An,di=3395469782);var yt=(Yt<<5|Yt>>>27)+Wn+Yn+di+ne[_e]&4294967295;Yn=An,An=xn,xn=4294967295&(Tn<<30|Tn>>>2),Tn=Yt,Yt=yt}this.chain_[0]=this.chain_[0]+Yt&4294967295,this.chain_[1]=this.chain_[1]+Tn&4294967295,this.chain_[2]=this.chain_[2]+xn&4294967295,this.chain_[3]=this.chain_[3]+An&4294967295,this.chain_[4]=this.chain_[4]+Yn&4294967295},H.prototype.update=function(I,U){if(null!=I){void 0===U&&(U=I.length);for(var ne=U-this.blockSize,_e=0,yt=this.buf_,Yt=this.inbuf_;_e<U;){if(0===Yt)for(;_e<=ne;)this.compress_(I,_e),_e+=this.blockSize;if("string"==typeof I){for(;_e<U;)if(yt[Yt]=I.charCodeAt(_e),++_e,++Yt===this.blockSize){this.compress_(yt),Yt=0;break}}else for(;_e<U;)if(yt[Yt]=I[_e],++_e,++Yt===this.blockSize){this.compress_(yt),Yt=0;break}}this.inbuf_=Yt,this.total_+=U}},H.prototype.digest=function(){var I=[],U=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&U,U/=256;this.compress_(this.buf_);var _e=0;for(ne=0;ne<5;ne++)for(var yt=24;yt>=0;yt-=8)I[_e]=this.chain_[ne]>>yt&255,++_e;return I}}();var we=function(){function H(I,U){var ne=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(function(){I(ne)}).catch(function(_e){ne.error(_e)})}return H.prototype.next=function(I){this.forEachObserver(function(U){U.next(I)})},H.prototype.error=function(I){this.forEachObserver(function(U){U.error(I)}),this.close(I)},H.prototype.complete=function(){this.forEachObserver(function(I){I.complete()}),this.close()},H.prototype.subscribe=function(I,U,ne){var yt,_e=this;if(void 0===I&&void 0===U&&void 0===ne)throw new Error("Missing Observer.");yt=function dt(H,I){if("object"!=typeof H||null===H)return!1;for(var U=0,ne=I;U<ne.length;U++){var _e=ne[U];if(_e in H&&"function"==typeof H[_e])return!0}return!1}(I,["next","error","complete"])?I:{next:I,error:U,complete:ne},void 0===yt.next&&(yt.next=ye),void 0===yt.error&&(yt.error=ye),void 0===yt.complete&&(yt.complete=ye);var Yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{_e.finalError?yt.error(_e.finalError):yt.complete()}catch(Tn){}}),this.observers.push(yt),Yt},H.prototype.unsubscribeOne=function(I){void 0===this.observers||void 0===this.observers[I]||(delete this.observers[I],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},H.prototype.forEachObserver=function(I){if(!this.finalized)for(var U=0;U<this.observers.length;U++)this.sendOne(U,I)},H.prototype.sendOne=function(I,U){var ne=this;this.task.then(function(){if(void 0!==ne.observers&&void 0!==ne.observers[I])try{U(ne.observers[I])}catch(_e){"undefined"!=typeof console&&console.error&&console.error(_e)}})},H.prototype.close=function(I){var U=this;this.finalized||(this.finalized=!0,void 0!==I&&(this.finalError=I),this.task.then(function(){U.observers=void 0,U.onNoObservers=void 0}))},H}();function ye(){}function Ge(H){return H&&H._delegate?H._delegate:H}},9670:(Ht,Qe,R)=>{R.d(Qe,{q:()=>oc});var _=R(9808),m=(R(3191),R(5e3)),de=(R(3075),R(508)),Pe=(R(6360),R(8255)),ke=R(6564);let ve=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({}),M})(),me=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({imports:[[de.si,de.BQ,ke.Q8,ve],de.BQ,ve]}),M})();var Ne=R(5245),ze=R(1314),nt=R(8962);R(925),R(1777);const $t={provide:new m.OlP("mat-tooltip-scroll-strategy"),deps:[ze.aV],useFactory:function Pt(M){return()=>M.scrollStrategies.reposition({scrollThrottle:20})}};let Oe=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({providers:[$t],imports:[[Pe.rt,_.ez,ze.U8,de.BQ],de.BQ,nt.ZD]}),M})(),Vn=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({imports:[[de.si,de.BQ],de.BQ]}),M})();var Ge=R(8966),H=R(7429),I=R(7423);let Wn=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({imports:[[ze.U8,H.eL,_.ez,I.ot,de.BQ],de.BQ]}),M})(),$o=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({imports:[[_.ez,de.BQ,H.eL,de.si,ke.Q8,Pe.rt],de.BQ]}),M})();var ki=R(7579),cr=(R(727),R(1159),R(7322)),kr=R(7531);let Co=(()=>{class M{constructor(){this.changes=new ki.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(h,b){return`${h} \u2013 ${b}`}}return M.\u0275fac=function(h){return new(h||M)},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const No={provide:new m.OlP("mat-datepicker-scroll-strategy"),deps:[ze.aV],useFactory:function Ua(M){return()=>M.scrollStrategies.reposition()}};let En=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({providers:[Co,No],imports:[[_.ez,I.ot,ze.U8,Pe.rt,H.eL,de.BQ],nt.ZD]}),M})(),Qn=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({imports:[[_.ez,de.BQ],de.BQ]}),M})();R(8996),R(1135),R(8306),R(576),R(9646),R(2722),R(5698),R(226);let Lf=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({imports:[[nt.Cl]]}),M})(),Yl=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({imports:[[Lf,de.BQ],de.BQ]}),M})(),Lr=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({}),M})();const el={provide:new m.OlP("mat-menu-scroll-strategy"),deps:[ze.aV],useFactory:function Il(M){return()=>M.scrollStrategies.reposition()}};let Zr=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({providers:[el],imports:[[_.ez,de.BQ,de.si,ze.U8],nt.ZD,de.BQ]}),M})();R(9770),R(6451),R(4968),R(5965),R(3900),R(9300),R(4004),R(8505),R(4825);const Jl={provide:new m.OlP("mat-autocomplete-scroll-strategy"),deps:[ze.aV],useFactory:function Rl(M){return()=>M.scrollStrategies.reposition()}};let kl=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({providers:[Jl],imports:[[ze.U8,de.Ng,de.BQ,_.ez],nt.ZD,de.Ng,de.BQ]}),M})();const xa={provide:new m.OlP("mat-select-scroll-strategy"),deps:[ze.aV],useFactory:function gs(M){return()=>M.scrollStrategies.reposition()}};let zc=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({providers:[xa],imports:[[_.ez,ze.U8,de.Ng,de.BQ],nt.ZD,cr.lN,de.Ng,de.BQ]}),M})();var $c=R(9224),ic=R(4834);const rc=[me,Oe,Vn,Ge.Is,En,de.XK,Wn,$o,Qn,ze.U8,Yl,Lr,Zr,kl,Ne.Ps,I.ot,kr.c,cr.lN,zc,$c.QW,ic.t];let oc=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({imports:[[_.ez,...rc],me,Oe,Vn,Ge.Is,En,de.XK,Wn,$o,Qn,ze.U8,Yl,Lr,Zr,kl,Ne.Ps,I.ot,kr.c,cr.lN,zc,$c.QW,ic.t]}),M})()},8675:(Ht,Qe,R)=>{var _=R(2313),z=R(5e3),m=R(6360),ue=R(3287);const de=[{path:"home",loadChildren:()=>R.e(164).then(R.bind(R,1164)).then(t=>t.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"}];let xe=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=z.oAB({type:t}),t.\u0275inj=z.cJS({imports:[[ue.Bz.forRoot(de,{preloadingStrategy:ue.wm})],ue.Bz]}),t})(),Pe=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=z.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,l){1&i&&z._UZ(0,"router-outlet")},directives:[ue.lC],styles:[""]}),t})();var ke=R(9670);const De_firebaseConfig={apiKey:"AIzaSyC2wKNGI47JxOaJIQY49jEqz_MjM4lse24",authDomain:"my-hotel-15356.firebaseapp.com",projectId:"my-hotel-15356",storageBucket:"my-hotel-15356.appspot.com",messagingSenderId:"296337013341",appId:"1:296337013341:web:ba5b35f797cf11b8116bb4",measurementId:"G-FBK2SHXLFP"};var he=R(2816),Te=R(4986),Ee=R(8306),Fe=R(8996),Ie=R(9646),Ae=R(5965),ot=R(4482),Ue=R(5403);function lt(){return(0,ot.e)((t,e)=>{let i,l=!1;t.subscribe((0,Ue.x)(e,u=>{const f=i;i=u,l&&e.next([f,u]),l=!0}))})}var Tt=R(4004),zt=R(5026),st=R(1884),ve=R(9300),me=R(5363),Ne=R(9808),ze=R(5867),nt=R(8367),K=R(655),fe=R(492),Xe=R(4003),ct=function(t,e){return(ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u])})(t,e)};function Ze(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],l=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var at,_t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wt=Wt||{},xt=_t||self;function Pt(){}function $t(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ft(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Vt="closure_uid_"+(1e9*Math.random()>>>0),tt=0;function je(t,e,i){return t.call.apply(t.bind,arguments)}function et(t,e,i){if(!t)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,l),t.apply(e,u)}}return function(){return t.apply(e,arguments)}}function Oe(t,e,i){return(Oe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?je:et).apply(null,arguments)}function gt(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var l=i.slice();return l.push.apply(l,arguments),t.apply(this,l)}}function Nt(t,e){function i(){}i.prototype=e.prototype,t.Z=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Vb=function(l,u,f){for(var g=Array(arguments.length-2),w=2;w<arguments.length;w++)g[w-2]=arguments[w];return e.prototype[u].apply(l,g)}}function Kt(){this.s=this.s,this.o=this.o}var ln={};Kt.prototype.s=!1,Kt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function Et(t){return Object.prototype.hasOwnProperty.call(t,Vt)&&t[Vt]||(t[Vt]=++tt)}(this);delete ln[t]}},Kt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var fn=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},wt=Array.prototype.forEach?function(t,e,i){Array.prototype.forEach.call(t,e,i)}:function(t,e,i){for(var l=t.length,u="string"==typeof t?t.split(""):t,f=0;f<l;f++)f in u&&e.call(i,u[f],f,t)};function we(t){return Array.prototype.concat.apply([],arguments)}function We(t){var e=t.length;if(0<e){for(var i=Array(e),l=0;l<e;l++)i[l]=t[l];return i}return[]}function dt(t){return/^[\s\xa0]*$/.test(t)}var q,ye=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Re(t,e){return-1!=t.indexOf(e)}function Y(t,e){return t<e?-1:t>e?1:0}e:{var oe=xt.navigator;if(oe){var Ve=oe.userAgent;if(Ve){q=Ve;break e}}q=""}function it(t,e,i){for(var l in t)e.call(i,t[l],l,t)}function bt(t){var e={};for(var i in t)e[i]=t[i];return e}var It="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pn(t,e){for(var i,l,u=1;u<arguments.length;u++){for(i in l=arguments[u])t[i]=l[i];for(var f=0;f<It.length;f++)i=It[f],Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i])}}function rn(t){return rn[" "](t),t}rn[" "]=Pt;var ne,t,$n=Re(q,"Opera"),Hn=Re(q,"Trident")||Re(q,"MSIE"),Vn=Re(q,"Edge"),Ge=Vn||Hn,H=Re(q,"Gecko")&&!(Re(q.toLowerCase(),"webkit")&&!Re(q,"Edge"))&&!(Re(q,"Trident")||Re(q,"MSIE"))&&!Re(q,"Edge"),I=Re(q.toLowerCase(),"webkit")&&!Re(q,"Edge");function U(){var t=xt.document;return t?t.documentMode:void 0}e:{var _e="",yt=(t=q,H?/rv:([^\);]+)(\)|;)/.exec(t):Vn?/Edge\/([\d\.]+)/.exec(t):Hn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):I?/WebKit\/(\S+)/.exec(t):$n?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(yt&&(_e=yt?yt[1]:""),Hn){var Yt=U();if(null!=Yt&&Yt>parseFloat(_e)){ne=String(Yt);break e}}ne=_e}var Tn={};var Wn=xt.document&&Hn&&(U()||parseInt(ne,10))||void 0,di=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{xt.addEventListener("test",Pt,e),xt.removeEventListener("test",Pt,e)}catch(i){}return t}();function Jn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function qe(t,e){if(Jn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,l=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(H){e:{try{rn(e.nodeName);var u=!0;break e}catch(f){}u=!1}u||(e=null)}}else"mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ke[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qe.Z.h.call(this)}}Jn.prototype.h=function(){this.defaultPrevented=!0},Nt(qe,Jn);var Ke={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Je=0;function kt(t,e,i,l,u){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!l,this.ia=u,this.key=++Je,this.ca=this.fa=!1}function mn(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Dn(t){this.src=t,this.g={},this.h=0}function mi(t,e){var i=e.type;if(i in t.g){var f,l=t.g[i],u=fn(l,e);(f=0<=u)&&Array.prototype.splice.call(l,u,1),f&&(mn(e),0==t.g[i].length&&(delete t.g[i],t.h--))}}function Di(t,e,i,l){for(var u=0;u<t.length;++u){var f=t[u];if(!f.ca&&f.listener==e&&f.capture==!!i&&f.ia==l)return u}return-1}Dn.prototype.add=function(t,e,i,l,u){var f=t.toString();(t=this.g[f])||(t=this.g[f]=[],this.h++);var g=Di(t,e,l,u);return-1<g?(e=t[g],i||(e.fa=!1)):((e=new kt(e,this.src,f,!!l,u)).fa=i,t.push(e)),e};var Hi="closure_lm_"+(1e6*Math.random()|0),gi={};function Gi(t,e,i,l,u){if(l&&l.once)return Vi(t,e,i,l,u);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Gi(t,e[f],i,l,u);return null}return i=lr(i),t&&t[Me]?t.N(e,i,Ft(l)?!!l.capture:!!l,u):Ri(t,e,i,!1,l,u)}function Ri(t,e,i,l,u,f){if(!e)throw Error("Invalid event type");var g=Ft(u)?!!u.capture:!!u,w=Xi(t);if(w||(t[Hi]=w=new Dn(t)),(i=w.add(e,i,l,g,f)).proxy)return i;if(l=function vr(){var e=nr;return function t(i){return e.call(t.src,t.listener,i)}}(),i.proxy=l,l.src=t,l.listener=i,t.addEventListener)di||(u=g),void 0===u&&(u=!1),t.addEventListener(e.toString(),l,u);else if(t.attachEvent)t.attachEvent(hi(e.toString()),l);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(l)}return i}function Vi(t,e,i,l,u){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Vi(t,e[f],i,l,u);return null}return i=lr(i),t&&t[Me]?t.O(e,i,Ft(l)?!!l.capture:!!l,u):Ri(t,e,i,!0,l,u)}function en(t,e,i,l,u){if(Array.isArray(e))for(var f=0;f<e.length;f++)en(t,e[f],i,l,u);else l=Ft(l)?!!l.capture:!!l,i=lr(i),t&&t[Me]?(t=t.i,(e=String(e).toString())in t.g&&-1<(i=Di(f=t.g[e],i,l,u))&&(mn(f[i]),Array.prototype.splice.call(f,i,1),0==f.length&&(delete t.g[e],t.h--))):t&&(t=Xi(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Di(e,i,l,u)),(i=-1<t?e[t]:null)&&Rn(i))}function Rn(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Me])mi(e.i,t);else{var i=t.type,l=t.proxy;e.removeEventListener?e.removeEventListener(i,l,t.capture):e.detachEvent?e.detachEvent(hi(i),l):e.addListener&&e.removeListener&&e.removeListener(l),(i=Xi(e))?(mi(i,t),0==i.h&&(i.src=null,e[Hi]=null)):mn(t)}}}function hi(t){return t in gi?gi[t]:gi[t]="on"+t}function nr(t,e){if(t.ca)t=!0;else{e=new qe(e,this);var i=t.listener,l=t.ia||t.src;t.fa&&Rn(t),t=i.call(l,e)}return t}function Xi(t){return(t=t[Hi])instanceof Dn?t:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function lr(t){return"function"==typeof t?t:(t[wi]||(t[wi]=function(e){return t.handleEvent(e)}),t[wi])}function Pn(){Kt.call(this),this.i=new Dn(this),this.P=this,this.I=null}function _i(t,e){var i,l=t.I;if(l)for(i=[];l;l=l.I)i.push(l);if(t=t.P,l=e.type||e,"string"==typeof e)e=new Jn(e,t);else if(e instanceof Jn)e.target=e.target||t;else{var u=e;pn(e=new Jn(l,t),u)}if(u=!0,i)for(var f=i.length-1;0<=f;f--){var g=e.g=i[f];u=ir(g,l,!0,e)&&u}if(u=ir(g=e.g=t,l,!0,e)&&u,u=ir(g,l,!1,e)&&u,i)for(f=0;f<i.length;f++)u=ir(g=e.g=i[f],l,!1,e)&&u}function ir(t,e,i,l){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,f=0;f<e.length;++f){var g=e[f];if(g&&!g.ca&&g.capture==i){var w=g.listener,B=g.ia||g.src;g.fa&&mi(t.i,g),u=!1!==w.call(B,l)&&u}}return u&&!l.defaultPrevented}Nt(Pn,Kt),Pn.prototype[Me]=!0,Pn.prototype.removeEventListener=function(t,e,i,l){en(this,t,e,i,l)},Pn.prototype.M=function(){if(Pn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var i=t.g[e],l=0;l<i.length;l++)mn(i[l]);delete t.g[e],t.h--}}this.I=null},Pn.prototype.N=function(t,e,i,l){return this.i.add(String(t),e,!1,i,l)},Pn.prototype.O=function(t,e,i,l){return this.i.add(String(t),e,!0,i,l)};var In=xt.JSON.stringify;function Ir(){var t=zr,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Gr,yr=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,i){var l=Hr.get();l.set(e,i),this.h?this.h.next=l:this.g=l,this.h=l},t}(),Hr=new(function(){function t(e,i){this.i=e,this.j=i,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},t}())(function(){return new Fi},function(t){return t.reset()}),Fi=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,i){this.h=e,this.g=i,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Ei(t){xt.setTimeout(function(){throw t},0)}function br(t,e){Gr||function pr(){var t=xt.Promise.resolve(void 0);Gr=function(){t.then(Go)}}(),Gn||(Gr(),Gn=!0),zr.add(t,e)}var Gn=!1,zr=new yr;function Go(){for(var t;t=Ir();){try{t.h.call(t.g)}catch(i){Ei(i)}var e=Hr;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Gn=!1}function vi(t,e){Pn.call(this),this.h=t||1,this.g=e||xt,this.j=Oe(this.kb,this),this.l=Date.now()}function zi(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function xr(t,e,i){if("function"==typeof t)i&&(t=Oe(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Oe(t.handleEvent,t)}return 2147483647<Number(e)?-1:xt.setTimeout(t,e||0)}function $r(t){t.g=xr(function(){t.g=null,t.i&&(t.i=!1,$r(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Nt(vi,Pn),(at=vi.prototype).da=!1,at.S=null,at.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_i(this,"tick"),this.da&&(zi(this),this.start()))}},at.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){vi.Z.M.call(this),zi(this),delete this.g};var eo=function(t){function e(i,l){var u=t.call(this)||this;return u.m=i,u.j=l,u.h=null,u.i=!1,u.g=null,u}return function ht(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}ct(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:$r(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Kt);function $i(t){Kt.call(this),this.h=t,this.g={}}Nt($i,Kt);var Ds=[];function zo(t,e,i,l){Array.isArray(i)||(i&&(Ds[0]=i.toString()),i=Ds);for(var u=0;u<i.length;u++){var f=Gi(e,i[u],l||t.handleEvent,!1,t.h||t);if(!f)break;t.g[f.key]=f}}function ga(t){it(t.g,function(e,i){this.g.hasOwnProperty(i)&&Rn(e)},t),t.g={}}function Yi(){this.g=!0}function Cr(t,e,i,l){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ws(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var l=i[t];if(!(2>l.length)){var u=l[1];if(Array.isArray(u)&&!(1>u.length)){var f=u[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var g=1;g<u.length;g++)u[g]=""}}}return In(i)}catch(w){return e}}(t,i)+(l?" "+l:"")})}$i.prototype.M=function(){$i.Z.M.call(this),ga(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yi.prototype.Aa=function(){this.g=!1},Yi.prototype.info=function(){};var to={},Vs=null;function os(){return Vs=Vs||new Pn}function ko(t){Jn.call(this,to.Ma,t)}function Es(t){var e=os();_i(e,new ko(e,t))}function $o(t,e){Jn.call(this,to.STAT_EVENT,t),this.stat=e}function ki(t){var e=os();_i(e,new $o(e,t))}function Rr(t,e){Jn.call(this,to.Na,t),this.size=e}function Wi(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){t()},e)}to.Ma="serverreachability",Nt(ko,Jn),to.STAT_EVENT="statevent",Nt($o,Jn),to.Na="timingevent",Nt(Rr,Jn);var cr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},kr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ms(){}function js(){}Ms.prototype.h=null;var dr,ur={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ts(){Jn.call(this,"d")}function Or(){Jn.call(this,"c")}function as(){}function Pr(t,e,i,l){this.l=t,this.j=e,this.m=i,this.X=l||1,this.V=new $i(this),this.P=Wo,this.W=new vi(t=Ge?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Yo}function Yo(){this.i=null,this.g="",this.h=!1}Nt(Ts,Jn),Nt(Or,Jn),Nt(as,Ms),as.prototype.g=function(){return new XMLHttpRequest},as.prototype.i=function(){return{}},dr=new as;var Wo=45e3,ls={},Oo={};function no(t,e,i){t.K=1,t.v=ni(on(e)),t.s=i,t.U=!0,Mi(t,null)}function Mi(t,e){t.F=Date.now(),yo(t),t.A=on(t.v);var i=t.A,l=t.X;Array.isArray(l)||(l=[String(l)]),cs(i.h,"t",l),t.C=0,i=t.l.H,t.h=new Yo,t.g=ds(t.l,i?e:null,!t.s),0<t.O&&(t.L=new eo(Oe(t.Ia,t,t.g),t.O)),zo(t.V,t.g,"readystatechange",t.gb),e=t.H?bt(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Es(1),function _a(t,e,i,l,u,f){t.info(function(){if(t.g)if(f)for(var g="",w=f.split("&"),B=0;B<w.length;B++){var X=w[B].split("=");if(1<X.length){var le=X[0];X=X[1];var Ce=le.split("_");g=2<=Ce.length&&"type"==Ce[1]?g+(le+"=")+X+"&":g+(le+"=redacted&")}}else g=null;else g=f;return"XMLHTTP REQ ("+l+") [attempt "+u+"]: "+e+"\n"+i+"\n"+g})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Ko(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Po(t,e,i){for(var u,l=!0;!t.I&&t.C<i.length;){if((u=rr(t,i))==Oo){4==e&&(t.o=4,ki(14),l=!1),Cr(t.j,t.m,null,"[Incomplete Response]");break}if(u==ls){t.o=4,ki(15),Cr(t.j,t.m,i,"[Invalid Chunk]"),l=!1;break}Cr(t.j,t.m,u,null),qo(t,u)}Ko(t)&&u!=Oo&&u!=ls&&(t.h.g="",t.C=0),4!=e||0!=i.length||t.h.h||(t.o=1,ki(16),l=!1),t.i=t.i&&l,l?0<i.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),oo(e),e.L=!0,ki(11))):(Cr(t.j,t.m,i,"[Invalid Chunked Response]"),Dr(t),io(t))}function rr(t,e){var i=t.C,l=e.indexOf("\n",i);return-1==l?Oo:(i=Number(e.substring(i,l)),isNaN(i)?ls:(l+=1)+i>e.length?Oo:(e=e.substr(l,i),t.C=l+i,e))}function yo(t){t.Y=Date.now()+t.P,bo(t,t.P)}function bo(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Wi(Oe(t.eb,t),e)}function Yr(t){t.B&&(xt.clearTimeout(t.B),t.B=null)}function io(t){0==t.l.G||t.I||Ss(t.l,t)}function Dr(t){Yr(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,zi(t.W),ga(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function qo(t,e){try{var i=t.l;if(0!=i.G&&(i.g==t||us(i.i,t)))if(i.I=t.N,!t.J&&us(i.i,t)&&3==i.G){try{var l=i.Ca.g.parse(e)}catch(Gt){l=null}if(Array.isArray(l)&&3==l.length){var u=l;if(0==u[0])e:if(i.u)i.ta=u[1],0<i.ta-i.U&&37500>u[2]&&i.N&&0==i.A&&!i.v&&(i.v=Wi(Oe(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<t.F))break e;Fr(i),Kr(i)}Qi(i),ki(18)}if(1>=Ga(i.i)&&i.ka){try{i.ka()}catch(Gt){}i.ka=void 0}}else so(i,11)}else if((t.J||i.g==t)&&Fr(i),!dt(e))for(u=i.Ca.g.parse(e),e=0;e<u.length;e++){var f=u[e];if(i.U=f[0],f=f[1],2==i.G)if("c"==f[0]){i.J=f[1],i.la=f[2];var g=f[3];null!=g&&(i.ma=g,i.h.info("VER="+i.ma));var w=f[4];null!=w&&(i.za=w,i.h.info("SVER="+i.za));var B=f[5];null!=B&&"number"==typeof B&&0<B&&(i.K=l=1.5*B,i.h.info("backChannelRequestTimeoutMs_="+l)),l=i;var X=t.g;if(X){var le=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(le){var Ce=l.i;!Ce.g&&(Re(le,"spdy")||Re(le,"quic")||Re(le,"h2"))&&(Ce.j=Ce.l,Ce.g=new Set,Ce.h&&(ya(Ce,Ce.h),Ce.h=null))}if(l.D){var Le=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;Le&&(l.sa=Le,On(l.F,l.D,Le))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-t.F,i.h.info("Handshake RTT: "+i.O+"ms"));var pt=t;if((l=i).oa=Er(l,l.H?l.la:null,l.W),pt.J){Us(l.i,pt);var mt=pt,Ct=l.K;Ct&&mt.setTimeout(Ct),mt.B&&(Yr(mt),yo(mt)),l.g=pt}else hr(l);0<i.l.length&&dn(i)}else"stop"!=f[0]&&"close"!=f[0]||so(i,7);else 3==i.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?so(i,7):Qo(i):"noop"!=f[0]&&i.j&&i.j.wa(f),i.A=0)}Es(4)}catch(Gt){}}function G(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if($t(t)||"string"==typeof t)wt(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var i=t.T();else if(t.R&&"function"==typeof t.R)i=void 0;else if($t(t)||"string"==typeof t){i=[];for(var l=t.length,u=0;u<l;u++)i.push(u)}else for(u in i=[],l=0,t)i[l++]=u;l=function ti(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if($t(t)){for(var e=[],i=t.length,l=0;l<i;l++)e.push(t[l]);return e}for(l in e=[],i=0,t)e[i++]=t[l];return e}(t),u=l.length;for(var f=0;f<u;f++)e.call(void 0,l[f],i&&i[f],t)}}function re(t,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var l=0;l<i;l+=2)this.set(arguments[l],arguments[l+1])}else if(t)if(t instanceof re)for(i=t.T(),l=0;l<i.length;l++)this.set(i[l],t.get(i[l]));else for(l in t)this.set(l,t[l])}function j(t){if(t.i!=t.g.length){for(var e=0,i=0;e<t.g.length;){var l=t.g[e];ce(t.h,l)&&(t.g[i++]=l),e++}t.g.length=i}if(t.i!=t.g.length){var u={};for(i=e=0;e<t.g.length;)ce(u,l=t.g[e])||(t.g[i++]=l,u[l]=1),e++;t.g.length=i}}function ce(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(at=Pr.prototype).setTimeout=function(t){this.P=t},at.gb=function(t){t=t.target;var e=this.L;e&&3==Si(t)?e.l():this.Ia(t)},at.Ia=function(t){try{if(t==this.g)e:{var e=Si(this.g),i=this.g.Da(),l=this.g.ba();if(!(3>e)&&(3!=e||Ge||this.g&&(this.h.h||this.g.ga()||Qn(this.g)))){this.I||4!=e||7==i||Es(8==i||0>=l?3:2),Yr(this);var u=this.g.ba();this.N=u;t:if(Ko(this)){var f=Qn(this.g);t="";var g=f.length,w=4==Si(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Dr(this),io(this);var B="";break t}this.h.i=new xt.TextDecoder}for(i=0;i<g;i++)this.h.h=!0,t+=this.h.i.decode(f[i],{stream:w&&i==g-1});f.splice(0,g),this.h.g+=t,this.C=0,B=this.h.g}else B=this.g.ga();if(this.i=200==u,function vo(t,e,i,l,u,f,g){t.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+u+"]: "+e+"\n"+i+"\n"+f+" "+g})}(this.j,this.u,this.A,this.m,this.X,e,u),this.i){if(this.$&&!this.J){t:{if(this.g){var X,le=this.g;if((X=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(X)){var Ce=X;break t}}Ce=null}if(!(u=Ce)){this.i=!1,this.o=3,ki(12),Dr(this),io(this);break e}Cr(this.j,this.m,u,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qo(this,u)}this.U?(Po(this,e,B),Ge&&this.i&&3==e&&(zo(this.V,this.W,"tick",this.fb),this.W.start())):(Cr(this.j,this.m,B,null),qo(this,B)),4==e&&Dr(this),this.i&&!this.I&&(4==e?Ss(this.l,this):(this.i=!1,yo(this)))}else 400==u&&0<B.indexOf("Unknown SID")?(this.o=3,ki(12)):(this.o=0,ki(13)),Dr(this),io(this)}}}catch(Le){}},at.fb=function(){if(this.g){var t=Si(this.g),e=this.g.ga();this.C<e.length&&(Yr(this),Po(this,t,e),this.i&&4!=t&&yo(this))}},at.cancel=function(){this.I=!0,Dr(this)},at.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function Ro(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Es(3),ki(17)),Dr(this),this.o=2,io(this)):bo(this,this.Y-t)},(at=re.prototype).R=function(){j(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},at.T=function(){return j(this),this.g.concat()},at.get=function(t,e){return ce(this.h,t)?this.h[t]:e},at.set=function(t,e){ce(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},at.forEach=function(t,e){for(var i=this.T(),l=0;l<i.length;l++){var u=i[l],f=this.get(u);t.call(e,f,u,this)}};var $e=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function St(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof St){this.g=void 0!==e?e:t.g,si(this,t.j),this.s=t.s,Kn(this,t.i),Fn(this,t.m),this.l=t.l,e=t.h;var i=new Fo;i.i=e.i,e.g&&(i.g=new re(e.g),i.h=e.h),Un(this,i),this.o=t.o}else t&&(i=String(t).match($e))?(this.g=!!e,si(this,i[1]||"",!0),this.s=N(i[2]||""),Kn(this,i[3]||"",!0),Fn(this,i[4]),this.l=N(i[5]||"",!0),Un(this,i[6]||"",!0),this.o=N(i[7]||"")):(this.g=!!e,this.h=new Fo(null,this.g))}function on(t){return new St(t)}function si(t,e,i){t.j=i?N(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Kn(t,e,i){t.i=i?N(e,!0):e}function Fn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Un(t,e,i){e instanceof Fo?(t.h=e,function Ua(t,e){e&&!t.j&&(Do(t),t.i=null,t.g.forEach(function(i,l){var u=l.toLowerCase();l!=u&&(Bt(this,l),cs(this,u,i))},t)),t.j=e}(t.h,t.g)):(i||(e=k(e,Wr)),t.h=new Fo(e,t.g))}function On(t,e,i){t.h.set(e,i)}function ni(t){return On(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function N(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function k(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,se),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function se(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}St.prototype.toString=function(){var t=[],e=this.j;e&&t.push(k(e,Mt,!0),":");var i=this.i;return(i||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(k(e,Mt,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&t.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&t.push("/"),t.push(k(i,"/"==i.charAt(0)?Ti:cn,!0))),(i=this.h.toString())&&t.push("?",i),(i=this.o)&&t.push("#",k(i,Co)),t.join("")};var Mt=/[#\/\?@]/g,cn=/[#\?:]/g,Ti=/[#\?]/g,Wr=/[#\?@]/g,Co=/#/g;function Fo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Do(t){t.g||(t.g=new re,t.h=0,t.i&&function Dt(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var l=t[i].indexOf("="),u=null;if(0<=l){var f=t[i].substring(0,l);u=t[i].substring(l+1)}else f=t[i];e(f,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(t.i,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function Bt(t,e){Do(t),e=Oi(t,e),ce(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,ce((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&j(t)))}function ai(t,e){return Do(t),e=Oi(t,e),ce(t.g.h,e)}function cs(t,e,i){Bt(t,e),0<i.length&&(t.i=null,t.g.set(Oi(t,e),We(i)),t.h+=i.length)}function Oi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(at=Fo.prototype).add=function(t,e){Do(this),this.i=null,t=Oi(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this},at.forEach=function(t,e){Do(this),this.g.forEach(function(i,l){wt(i,function(u){t.call(e,u,l,this)},this)},this)},at.T=function(){Do(this);for(var t=this.g.R(),e=this.g.T(),i=[],l=0;l<e.length;l++)for(var u=t[l],f=0;f<u.length;f++)i.push(e[l]);return i},at.R=function(t){Do(this);var e=[];if("string"==typeof t)ai(this,t)&&(e=we(e,this.g.get(Oi(this,t))));else{t=this.g.R();for(var i=0;i<t.length;i++)e=we(e,t[i])}return e},at.set=function(t,e){return Do(this),this.i=null,ai(this,t=Oi(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},at.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),i=0;i<e.length;i++){var l=e[i],u=encodeURIComponent(String(l));l=this.R(l);for(var f=0;f<l.length;f++){var g=u;""!==l[f]&&(g+="="+encodeURIComponent(String(l[f]))),t.push(g)}}return this.i=t.join("&")};var No=function t(e,i){this.h=e,this.g=i};function wo(t){this.l=t||Ha,t=xt.PerformanceNavigationTiming?0<(t=xt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(xt.g&&xt.g.Ea&&xt.g.Ea()&&xt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ha=10;function va(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ga(t){return t.h?1:t.g?t.g.size:0}function us(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ya(t,e){t.g?t.g.add(e):t.h=e}function Us(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function mr(t){var e,i;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var l=t.i;try{for(var u=Ze(t.g.values()),f=u.next();!f.done;f=u.next())l=l.concat(f.value.D)}catch(w){e={error:w}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(e)throw e.error}}return l}return We(t.i)}function Eo(){}function Q(){this.g=new Eo}function v(t,e,i){var l=i||"";try{G(t,function(u,f){var g=u;Ft(u)&&(g=In(u)),e.push(l+f+"="+encodeURIComponent(g))})}catch(u){throw e.push(l+"type="+encodeURIComponent("_badmap")),u}}function L(t,e,i,l,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(l)}catch(f){}}function ee(t){this.l=t.$b||null,this.j=t.ib||!1}function pe(t,e){Pn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Be,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wo.prototype.cancel=function(){var t,e;if(this.i=mr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=Ze(this.g.values()),l=i.next();!l.done;l=i.next())l.value.cancel()}catch(f){t={error:f}}finally{try{l&&!l.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.g.clear()}},Eo.prototype.stringify=function(t){return xt.JSON.stringify(t,void 0)},Eo.prototype.parse=function(t){return xt.JSON.parse(t,void 0)},Nt(ee,Ms),ee.prototype.g=function(){return new pe(this.l,this.j)},ee.prototype.i=function(t){return function(){return t}}({}),Nt(pe,Pn);var Be=0;function He(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function ut(t){t.readyState=4,t.l=null,t.j=null,t.A=null,At(t)}function At(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(at=pe.prototype).open=function(t,e){if(this.readyState!=Be)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,At(this)},at.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||xt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ut(this)),this.readyState=Be},at.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,At(this)),this.g&&(this.readyState=3,At(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xt.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;He(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},at.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ut(this):At(this),3==this.readyState&&He(this)}},at.Ua=function(t){this.g&&(this.response=this.responseText=t,ut(this))},at.Ta=function(t){this.g&&(this.response=t,ut(this))},at.ha=function(){this.g&&ut(this)},at.setRequestHeader=function(t,e){this.v.append(t,e)},at.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),i=e.next();!i.done;)t.push((i=i.value)[0]+": "+i[1]),i=e.next();return t.join("\r\n")},Object.defineProperty(pe.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var sn=xt.JSON.parse;function tn(t){Pn.call(this),this.headers=new re,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Nn,this.K=this.L=!1}Nt(tn,Pn);var Nn="",qn=/^https?$/i,En=["POST","PUT"];function yi(t){return"content-type"==t.toLowerCase()}function Ki(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Pi(t),Ji(t)}function Pi(t){t.D||(t.D=!0,_i(t,"complete"),_i(t,"error"))}function gr(t){if(t.h&&void 0!==Wt&&(!t.C[1]||4!=Si(t)||2!=t.ba()))if(t.v&&4==Si(t))xr(t.Fa,0,t);else if(_i(t,"readystatechange"),4==Si(t)){t.h=!1;try{var l,e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(l=i)){var u;if(u=0===e){var f=String(t.H).match($e)[1]||null;if(!f&&xt.self&&xt.self.location){var g=xt.self.location.protocol;f=g.substr(0,g.length-1)}u=!qn.test(f?f.toLowerCase():"")}l=u}if(l)_i(t,"complete"),_i(t,"success");else{t.m=6;try{var w=2<Si(t)?t.g.statusText:""}catch(B){w=""}t.j=w+" ["+t.ba()+"]",Pi(t)}}finally{Ji(t)}}}function Ji(t,e){if(t.g){qi(t);var i=t.g,l=t.C[0]?Pt:null;t.g=null,t.C=null,e||_i(t,"ready");try{i.onreadystatechange=l}catch(u){}}}function qi(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(xt.clearTimeout(t.A),t.A=null)}function Si(t){return t.g?t.g.readyState:0}function Qn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Nn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ro(t,e,i){e:{for(l in i){var l=!1;break e}l=!0}l||(i=function Mo(t){var e="";return it(t,function(i,l){e+=l,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof t?null!=i&&encodeURIComponent(String(i)):On(t,e,i))}function wr(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function ea(t){this.za=0,this.l=[],this.h=new Yi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wr("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wr("baseRetryDelayMs",5e3,t),this.$a=wr("retryDelaySeedMs",1e4,t),this.Ya=wr("forwardChannelMaxRetries",2,t),this.ra=wr("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new wo(t&&t.concurrentRequestLimit),this.Ca=new Q,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Qo(t){if(To(t),3==t.G){var e=t.V++,i=on(t.F);On(i,"SID",t.J),On(i,"RID",e),On(i,"TYPE","terminate"),Zn(t,i),(e=new Pr(t,t.h,e,void 0)).K=2,e.v=ni(on(i)),i=!1,xt.navigator&&xt.navigator.sendBeacon&&(i=xt.navigator.sendBeacon(e.v.toString(),"")),!i&&xt.Image&&((new Image).src=e.v,i=!0),i||(e.g=ds(e.l,null),e.g.ea(e.v)),e.F=Date.now(),yo(e)}ji(t)}function Kr(t){t.g&&(oo(t),t.g.cancel(),t.g=null)}function To(t){Kr(t),t.u&&(xt.clearTimeout(t.u),t.u=null),Fr(t),t.i.cancel(),t.m&&("number"==typeof t.m&&xt.clearTimeout(t.m),t.m=null)}function Ni(t,e){t.l.push(new No(t.Za++,e)),3==t.G&&dn(t)}function dn(t){va(t.i)||t.m||(t.m=!0,br(t.Ha,t),t.C=0)}function Mn(t,e){var i;i=e?e.m:t.V++;var l=on(t.F);On(l,"SID",t.J),On(l,"RID",i),On(l,"AID",t.U),Zn(t,l),t.o&&t.s&&ro(l,t.o,t.s),i=new Pr(t,t.h,i,t.C+1),null===t.o&&(i.H=t.s),e&&(t.l=e.D.concat(t.l)),e=pi(t,i,1e3),i.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),ya(t.i,i),no(i,l,e)}function Zn(t,e){t.j&&G({},function(i,l){On(e,l,i)})}function pi(t,e,i){i=Math.min(t.l.length,i);var l=t.j?Oe(t.j.Oa,t.j,t):null;e:for(var u=t.l,f=-1;;){var g=["count="+i];-1==f?0<i?g.push("ofs="+(f=u[0].h)):f=0:g.push("ofs="+f);for(var w=!0,B=0;B<i;B++){var X=u[B].h,le=u[B].g;if(0>(X-=f))f=Math.max(0,u[B].h-100),w=!1;else try{v(le,g,"req"+X+"_")}catch(Ce){l&&l(le)}}if(w){l=g.join("&");break e}}return t=t.l.splice(0,i),e.D=t,l}function hr(t){t.g||t.u||(t.Y=1,br(t.Ga,t),t.A=0)}function Qi(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Wi(Oe(t.Ga,t),or(t,t.A)),t.A++,0))}function oo(t){null!=t.B&&(xt.clearTimeout(t.B),t.B=null)}function li(t){t.g=new Pr(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=on(t.oa);On(e,"RID","rpc"),On(e,"SID",t.J),On(e,"CI",t.N?"0":"1"),On(e,"AID",t.U),Zn(t,e),On(e,"TYPE","xmlhttp"),t.o&&t.s&&ro(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var i=t.g;t=t.la,i.K=1,i.v=ni(on(e)),i.s=null,i.U=!0,Mi(i,t)}function Fr(t){null!=t.v&&(xt.clearTimeout(t.v),t.v=null)}function Ss(t,e){var i=null;if(t.g==e){Fr(t),oo(t),t.g=null;var l=2}else{if(!us(t.i,e))return;i=e.D,Us(t.i,e),l=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==l){i=e.s?e.s.length:0,e=Date.now()-e.F;var u=t.C;_i(l=os(),new Rr(l,i,e,u)),dn(t)}else hr(t);else if(3==(u=e.o)||0==u&&0<t.I||!(1==l&&function bn(t,e){return!(Ga(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Wi(Oe(t.Ha,t,e),or(t,t.C)),t.C++,0)))}(t,e)||2==l&&Qi(t)))switch(i&&0<i.length&&(e=t.i,e.i=e.i.concat(i)),u){case 1:so(t,5);break;case 4:so(t,10);break;case 3:so(t,6);break;default:so(t,2)}}function or(t,e){var i=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(i*=2),i*e}function so(t,e){if(t.h.info("Error code "+e),2==e){var i=null;t.j&&(i=null);var l=Oe(t.jb,t);i||(i=new St("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||si(i,"https"),ni(i)),function D(t,e){var i=new Yi;if(xt.Image){var l=new Image;l.onload=gt(L,i,l,"TestLoadImage: loaded",!0,e),l.onerror=gt(L,i,l,"TestLoadImage: error",!1,e),l.onabort=gt(L,i,l,"TestLoadImage: abort",!1,e),l.ontimeout=gt(L,i,l,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=t}else e(!1)}(i.toString(),l)}else ki(2);t.G=0,t.j&&t.j.va(e),ji(t),To(t)}function ji(t){t.G=0,t.I=-1,t.j&&((0!=mr(t.i).length||0!=t.l.length)&&(t.i.i.length=0,We(t.l),t.l.length=0),t.j.ua())}function Er(t,e,i){var l=function Ii(t){return t instanceof St?on(t):new St(t,void 0)}(i);if(""!=l.i)e&&Kn(l,e+"."+l.i),Fn(l,l.m);else{var u=xt.location;l=function $(t,e,i,l){var u=new St(null,void 0);return t&&si(u,t),e&&Kn(u,e),i&&Fn(u,i),l&&(u.l=l),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,i)}return t.aa&&it(t.aa,function(f,g){On(l,g,f)}),i=t.sa,(e=t.D)&&i&&On(l,e,i),On(l,"VER",t.ma),Zn(t,l),l}function ds(t,e,i){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tn(i&&t.Ba&&!t.qa?new ee({ib:!0}):t.qa)).L=t.H,e}function ba(){}function hs(){if(Hn&&!(10<=Number(Wn)))throw Error("Environmental error: no available transport.")}function Nr(t,e){Pn.call(this),this.g=new ea(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!dt(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dt(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ta(this)}function Ca(t){Ts.call(this);var e=t.__sm__;if(e){e:{for(var i in e){t=i;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function As(){Or.call(this),this.status=1}function ta(t){this.g=t}(at=tn.prototype).ea=function(t,e,i,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dr.g(),this.C=function ss(t){return t.h||(t.h=t.i())}(this.u?this.u:dr),this.g.onreadystatechange=Oe(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(f){return void Ki(this,f)}t=i||"";var u=new re(this.headers);l&&G(l,function(f,g){u.set(g,f)}),l=function te(t){e:{for(var e=yi,i=t.length,l="string"==typeof t?t.split(""):t,u=0;u<i;u++)if(u in l&&e.call(void 0,l[u],u,t)){e=u;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(u.T()),i=xt.FormData&&t instanceof xt.FormData,!(0<=fn(En,e))||l||i||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(f,g){this.g.setRequestHeader(g,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qi(this),0<this.B&&((this.K=function zn(t){return Hn&&function xn(){return function un(t){var e=Tn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){for(var t=0,e=ye(String(ne)).split("."),i=ye("9").split("."),l=Math.max(e.length,i.length),u=0;0==t&&u<l;u++){var f=e[u]||"",g=i[u]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==f[0].length&&0==g[0].length)break;t=Y(0==f[1].length?0:parseInt(f[1],10),0==g[1].length?0:parseInt(g[1],10))||Y(0==f[2].length,0==g[2].length)||Y(f[2],g[2]),f=f[3],g=g[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oe(this.pa,this)):this.A=xr(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(f){Ki(this,f)}},at.pa=function(){void 0!==Wt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_i(this,"timeout"),this.abort(8))},at.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_i(this,"complete"),_i(this,"abort"),Ji(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ji(this,!0)),tn.Z.M.call(this)},at.Fa=function(){this.s||(this.F||this.v||this.l?gr(this):this.cb())},at.cb=function(){gr(this)},at.ba=function(){try{return 2<Si(this)?this.g.status:-1}catch(t){return-1}},at.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},at.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),sn(e)}},at.Da=function(){return this.m},at.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=ea.prototype).ma=8,at.G=1,at.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},at.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Pr(this,this.h,t,void 0),i=this.s;if(this.P&&(i?pn(i=bt(i),this.P):i=this.P),null===this.o&&(e.H=i),this.ja)e:{for(var l=0,u=0;u<this.l.length;u++){var f=this.l[u];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(l+=f)){l=u;break e}if(4096===l||u===this.l.length-1){l=u+1;break e}}l=1e3}else l=1e3;l=pi(this,e,l),On(u=on(this.F),"RID",t),On(u,"CVER",22),this.D&&On(u,"X-HTTP-Session-Id",this.D),Zn(this,u),this.o&&i&&ro(u,this.o,i),ya(this.i,e),this.Ra&&On(u,"TYPE","init"),this.ja?(On(u,"$req",l),On(u,"SID","null"),e.$=!0,no(e,u,null)):no(e,u,l),this.G=2}}else 3==this.G&&(t?Mn(this,t):0==this.l.length||va(this.i)||Mn(this))},at.Ga=function(){if(this.u=null,li(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Wi(Oe(this.bb,this),t)}},at.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ki(10),Kr(this),li(this))},at.ab=function(){null!=this.v&&(this.v=null,Kr(this),Qi(this),ki(19))},at.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ki(2)):(this.h.info("Failed to ping google.com"),ki(1))},(at=ba.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Oa=function(){},hs.prototype.g=function(t,e){return new Nr(t,e)},Nt(Nr,Pn),Nr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,i=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),br(Oe(t.hb,t,e))),ki(0),t.W=e,t.aa=i||{},t.N=t.X,t.F=Er(t,null,t.W),dn(t)},Nr.prototype.close=function(){Qo(this.g)},Nr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Ni(this.g,e)}else this.v?((e={}).__data__=In(t),Ni(this.g,e)):Ni(this.g,t)},Nr.prototype.M=function(){this.g.j=null,delete this.j,Qo(this.g),delete this.g,Nr.Z.M.call(this)},Nt(Ca,Ts),Nt(As,Or),Nt(ta,ba),ta.prototype.xa=function(){_i(this.g,"a")},ta.prototype.wa=function(t){_i(this.g,new Ca(t))},ta.prototype.va=function(t){_i(this.g,new As(t))},ta.prototype.ua=function(){_i(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,Nr.prototype.send=Nr.prototype.u,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,kr.COMPLETE="complete",js.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",Pn.prototype.listen=Pn.prototype.N,tn.prototype.listenOnce=tn.prototype.O,tn.prototype.getLastError=tn.prototype.La,tn.prototype.getLastErrorCode=tn.prototype.Da,tn.prototype.getStatus=tn.prototype.ba,tn.prototype.getResponseJson=tn.prototype.Qa,tn.prototype.getResponseText=tn.prototype.ga,tn.prototype.send=tn.prototype.ea;var Hs=cr,Gs=kr,Ml=to,$a_PROXY=10,$a_NOPROXY=11,zs=ee,Is=js,ao=tn,C=function(){function t(e,i){var l=this;this.previousValue=e,i&&(i.sequenceNumberHandler=function(u){return l.t(u)},this.i=function(u){return i.writeSequenceNumber(u)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();C.o=-1;var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=function(t){function e(i,l){var u=this;return(u=t.call(this,l)||this).code=i,u.message=l,u.name="FirebaseError",u.toString=function(){return u.name+": [code="+u.code+"]: "+u.message},u}return(0,K.ZT)(e,t),e}(Error),ae=new Xe.Yd("@firebase/firestore");function Se(){return ae.logLevel}function ge(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(ae.logLevel<=Xe.in.DEBUG){var l=e.map(ei);ae.debug.apply(ae,(0,K.ev)(["Firestore (8.10.1): "+t],l))}}function vt(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(ae.logLevel<=Xe.in.ERROR){var l=e.map(ei);ae.error.apply(ae,(0,K.ev)(["Firestore (8.10.1): "+t],l))}}function hn(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(ae.logLevel<=Xe.in.WARN){var l=e.map(ei);ae.warn.apply(ae,(0,K.ev)(["Firestore (8.10.1): "+t],l))}}function ei(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function Ot(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw vt(e),new Error(e)}function nn(t,e){t||Ot()}function Ut(t,e){return t}function lo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(var l=0;l<t;l++)i[l]=Math.floor(256*Math.random());return i}var ps=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length,l="";l.length<20;)for(var u=lo(40),f=0;f<u.length;++f)l.length<20&&u[f]<i&&(l+=e.charAt(u[f]%e.length));return l},t}();function Ln(t,e){return t<e?-1:t>e?1:0}function Lo(t,e,i){return t.length===e.length&&t.every(function(l,u){return i(l,e[u])})}function Bo(t){return t+"\0"}var fr=function(){function t(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var i=Math.floor(e/1e3);return new t(i,Math.floor(1e6*(e-1e3*i)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Ln(this.nanoseconds,e.nanoseconds):Ln(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Xn=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new fr(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Ya(t){var e=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function co(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function Wa(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Tl=function(){function t(e,i,l){void 0===i?i=0:i>e.length&&Ot(),void 0===l?l=e.length-i:l>e.length-i&&Ot(),this.segments=e,this.offset=i,this.len=l}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var i=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(l){i.push(l)}):i.push(e),this.construct(i)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0},t.prototype.forEach=function(e){for(var i=this.offset,l=this.limit();i<l;i++)e(this.segments[i])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,i){for(var l=Math.min(e.length,i.length),u=0;u<l;u++){var f=e.get(u),g=i.get(u);if(f<g)return-1;if(f>g)return 1}return e.length<i.length?-1:e.length>i.length?1:0},t}(),fi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,K.ZT)(e,t),e.prototype.construct=function(i,l,u){return new e(i,l,u)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];for(var u=[],f=0,g=i;f<g.length;f++){var w=g[f];if(w.indexOf("//")>=0)throw new V(S.INVALID_ARGUMENT,"Invalid segment ("+w+"). Paths must not contain // in them.");u.push.apply(u,w.split("/").filter(function(B){return B.length>0}))}return new e(u)},e.emptyPath=function(){return new e([])},e}(Tl),Lf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ms=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,K.ZT)(e,t),e.prototype.construct=function(i,l,u){return new e(i,l,u)},e.isValidIdentifier=function(i){return Lf.test(i)},e.prototype.canonicalString=function(){return this.toArray().map(function(i){return i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(i)||(i="`"+i+"`"),i}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(i){for(var l=[],u="",f=0,g=function(){if(0===u.length)throw new V(S.INVALID_ARGUMENT,"Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");l.push(u),u=""},w=!1;f<i.length;){var B=i[f];if("\\"===B){if(f+1===i.length)throw new V(S.INVALID_ARGUMENT,"Path has trailing escape character: "+i);var X=i[f+1];if("\\"!==X&&"."!==X&&"`"!==X)throw new V(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);u+=X,f+=2}else"`"===B?(w=!w,f++):"."!==B||w?(u+=B,f++):(g(),f++)}if(g(),w)throw new V(S.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new e(l)},e.emptyPath=function(){return new e([])},e}(Tl),Li=function(){function t(e){this.fields=e,e.sort(ms.comparator)}return t.prototype.covers=function(e){for(var i=0,l=this.fields;i<l.length;i++)if(l[i].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Lo(this.fields,e.fields,function(i,l){return i.isEqual(l)})},t}(),uo=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(i){for(var l="",u=0;u<i.length;++u)l+=String.fromCharCode(i[u]);return l}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(e){for(var i=new Uint8Array(e.length),l=0;l<e.length;l++)i[l]=e.charCodeAt(l);return i}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Ln(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();uo.EMPTY_BYTE_STRING=new uo("");var Bf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(t){if(nn(!!t),"string"==typeof t){var e=0,i=Bf.exec(t);if(nn(!!i),i[1]){var l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}var u=new Date(t);return{seconds:Math.floor(u.getTime()/1e3),nanos:e}}return{seconds:_r(t.seconds),nanos:_r(t.nanos)}}function _r(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ka(t){return"string"==typeof t?uo.fromBase64String(t):uo.fromUint8Array(t)}function Pc(t){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Zd(t){var e=t.mapValue.fields.__previous_value__;return Pc(e)?Zd(e):e}function xs(t){var e=Da(t.mapValue.fields.__local_write_time__.timestampValue);return new fr(e.seconds,e.nanos)}function wa(t){return null==t}function sr(t){return 0===t&&1/t==-1/0}function Sl(t){return"number"==typeof t&&Number.isInteger(t)&&!sr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Cn=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(fi.fromString(e))},t.fromName=function(e){return new t(fi.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return null!==e&&0===fi.comparator(this.path,e.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,i){return fi.comparator(e.path,i.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new fi(e.slice()))},t}();function qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pc(t)?4:10:Ot()}function Rs(t,e){var u,i=qa(t);if(i!==qa(e))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xs(t).isEqual(xs(e));case 3:return function(l,u){if("string"==typeof l.timestampValue&&"string"==typeof u.timestampValue&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;var f=Da(l.timestampValue),g=Da(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return u=e,Ka(t.bytesValue).isEqual(Ka(u.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(l,u){return _r(l.geoPointValue.latitude)===_r(u.geoPointValue.latitude)&&_r(l.geoPointValue.longitude)===_r(u.geoPointValue.longitude)}(t,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return _r(l.integerValue)===_r(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){var f=_r(l.doubleValue),g=_r(u.doubleValue);return f===g?sr(f)===sr(g):isNaN(f)&&isNaN(g)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],Rs);case 10:return function(l,u){var f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(Ya(f)!==Ya(g))return!1;for(var w in f)if(f.hasOwnProperty(w)&&(void 0===g[w]||!Rs(f[w],g[w])))return!1;return!0}(t,e);default:return Ot()}}function qr(t,e){return void 0!==(t.values||[]).find(function(i){return Rs(i,e)})}function ho(t,e){var u,f,g,w,i=qa(t),l=qa(e);if(i!==l)return Ln(i,l);switch(i){case 0:return 0;case 1:return Ln(t.booleanValue,e.booleanValue);case 2:return f=e,(g=_r((u=t).integerValue||u.doubleValue))<(w=_r(f.integerValue||f.doubleValue))?-1:g>w?1:g===w?0:isNaN(g)?isNaN(w)?0:-1:1;case 3:return Fc(t.timestampValue,e.timestampValue);case 4:return Fc(xs(t),xs(e));case 5:return Ln(t.stringValue,e.stringValue);case 6:return function(u,f){var g=Ka(u),w=Ka(f);return g.compareTo(w)}(t.bytesValue,e.bytesValue);case 7:return function(u,f){for(var g=u.split("/"),w=f.split("/"),B=0;B<g.length&&B<w.length;B++){var X=Ln(g[B],w[B]);if(0!==X)return X}return Ln(g.length,w.length)}(t.referenceValue,e.referenceValue);case 8:return function(u,f){var g=Ln(_r(u.latitude),_r(f.latitude));return 0!==g?g:Ln(_r(u.longitude),_r(f.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(u,f){for(var g=u.values||[],w=f.values||[],B=0;B<g.length&&B<w.length;++B){var X=ho(g[B],w[B]);if(X)return X}return Ln(g.length,w.length)}(t.arrayValue,e.arrayValue);case 10:return function(u,f){var g=u.fields||{},w=Object.keys(g),B=f.fields||{},X=Object.keys(B);w.sort(),X.sort();for(var le=0;le<w.length&&le<X.length;++le){var Ce=Ln(w[le],X[le]);if(0!==Ce)return Ce;var Le=ho(g[w[le]],B[X[le]]);if(0!==Le)return Le}return Ln(w.length,X.length)}(t.mapValue,e.mapValue);default:throw Ot()}}function Fc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ln(t,e);var i=Da(t),l=Da(e),u=Ln(i.seconds,l.seconds);return 0!==u?u:Ln(i.nanos,l.nanos)}function Qa(t){return Ea(t)}function Ea(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(u=Da(t.timestampValue)).seconds+","+u.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?Ka(t.bytesValue).toBase64():"referenceValue"in t?Cn.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(l){for(var u="[",f=!0,g=0,w=l.values||[];g<w.length;g++)f?f=!1:u+=",",u+=Ea(w[g]);return u+"]"}(t.arrayValue):"mapValue"in t?function(l){for(var u="{",f=!0,g=0,w=Object.keys(l.fields||{}).sort();g<w.length;g++){var B=w[g];f?f=!1:u+=",",u+=B+":"+Ea(l.fields[B])}return u+"}"}(t.mapValue):Ot();var u,e}function $l(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Yl(t){return!!t&&"integerValue"in t}function Nc(t){return!!t&&"arrayValue"in t}function Vf(t){return!!t&&"nullValue"in t}function jf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wl(t){return!!t&&"mapValue"in t}function Qr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return co(t.mapValue.fields,function(u,f){return e.mapValue.fields[u]=Qr(f)}),e}if(t.arrayValue){for(var i={arrayValue:{values:[]}},l=0;l<(t.arrayValue.values||[]).length;++l)i.arrayValue.values[l]=Qr(t.arrayValue.values[l]);return i}return Object.assign({},t)}var So=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var i=this.value,l=0;l<e.length-1;++l)if(!Wl(i=(i.mapValue.fields||{})[e.get(l)]))return null;return(i=(i.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qr(i)},t.prototype.setAll=function(e){var i=this,l=ms.emptyPath(),u={},f=[];e.forEach(function(w,B){if(!l.isImmediateParentOf(B)){var X=i.getFieldsMap(l);i.applyChanges(X,u,f),u={},f=[],l=B.popLast()}w?u[B.lastSegment()]=Qr(w):f.push(B.lastSegment())});var g=this.getFieldsMap(l);this.applyChanges(g,u,f)},t.prototype.delete=function(e){var i=this.field(e.popLast());Wl(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Rs(this.value,e.value)},t.prototype.getFieldsMap=function(e){var i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(var l=0;l<e.length;++l){var u=i.mapValue.fields[e.get(l)];Wl(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(l)]=u),i=u}return i.mapValue.fields},t.prototype.applyChanges=function(e,i,l){co(i,function(w,B){return e[w]=B});for(var u=0,f=l;u<f.length;u++)delete e[f[u]]},t.prototype.clone=function(){return new t(Qr(this.value))},t}();function Za(t){var e=[];return co(t.fields,function(i,l){var u=new ms([i]);if(Wl(l)){var f=Za(l.mapValue).fields;if(0===f.length)e.push(u);else for(var g=0,w=f;g<w.length;g++)e.push(u.child(w[g]))}else e.push(u)}),new Li(e)}var Lr=function(){function t(e,i,l,u,f){this.key=e,this.documentType=i,this.version=l,this.data=u,this.documentState=f}return t.newInvalidDocument=function(e){return new t(e,0,Xn.min(),So.empty(),0)},t.newFoundDocument=function(e,i,l){return new t(e,1,i,l,0)},t.newNoDocument=function(e,i){return new t(e,2,i,So.empty(),0)},t.newUnknownDocument=function(e,i){return new t(e,3,i,So.empty(),2)},t.prototype.convertToFoundDocument=function(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=So.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=So.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Xd=function(t,e,i,l,u,f,g){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===l&&(l=[]),void 0===u&&(u=null),void 0===f&&(f=null),void 0===g&&(g=null),this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.h=null};function Jd(t,e,i,l,u,f,g){return void 0===e&&(e=null),void 0===i&&(i=[]),void 0===l&&(l=[]),void 0===u&&(u=null),void 0===f&&(f=null),void 0===g&&(g=null),new Xd(t,e,i,l,u,f,g)}function Kl(t){var e=Ut(t);if(null===e.h){var i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(function(l){return(u=l).field.canonicalString()+u.op.toString()+Qa(u.value);var u}).join(","),i+="|ob:",i+=e.orderBy.map(function(l){return(u=l).field.canonicalString()+u.dir;var u}).join(","),wa(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=jc(e.startAt)),e.endAt&&(i+="|ub:",i+=jc(e.endAt)),e.h=i}return e.h}function Lc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var i=0;i<t.orderBy.length;i++)if(!Gf(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var l=0;l<t.filters.length;l++)if((u=t.filters[l]).op!==(f=e.filters[l]).op||!u.field.isEqual(f.field)||!Rs(u.value,f.value))return!1;var u,f;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Du(t.startAt,e.startAt)&&Du(t.endAt,e.endAt)}function Al(t){return Cn.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Zo=function(t){function e(i,l,u){var f=this;return(f=t.call(this)||this).field=i,f.op=l,f.value=u,f}return(0,K.ZT)(e,t),e.create=function(i,l,u){return i.isKeyField()?"in"===l||"not-in"===l?this.l(i,l,u):new eh(i,l,u):"array-contains"===l?new ql(i,u):"in"===l?new Cu(i,u):"not-in"===l?new Vc(i,u):"array-contains-any"===l?new Hf(i,u):new e(i,l,u)},e.l=function(i,l,u){return"in"===l?new bu(i,u):new Bc(i,u)},e.prototype.matches=function(i){var l=i.data.field(this.field);return"!="===this.op?null!==l&&this.m(ho(l,this.value)):null!==l&&qa(this.value)===qa(l)&&this.m(ho(l,this.value))},e.prototype.m=function(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Ot()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),eh=function(t){function e(i,l,u){var f=this;return(f=t.call(this,i,l,u)||this).key=Cn.fromName(u.referenceValue),f}return(0,K.ZT)(e,t),e.prototype.matches=function(i){var l=Cn.comparator(i.key,this.key);return this.m(l)},e}(Zo),bu=function(t){function e(i,l){var u=this;return(u=t.call(this,i,"in",l)||this).keys=Uf(0,l),u}return(0,K.ZT)(e,t),e.prototype.matches=function(i){return this.keys.some(function(l){return l.isEqual(i.key)})},e}(Zo),Bc=function(t){function e(i,l){var u=this;return(u=t.call(this,i,"not-in",l)||this).keys=Uf(0,l),u}return(0,K.ZT)(e,t),e.prototype.matches=function(i){return!this.keys.some(function(l){return l.isEqual(i.key)})},e}(Zo);function Uf(t,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(function(l){return Cn.fromName(l.referenceValue)})}var ql=function(t){function e(i,l){return t.call(this,i,"array-contains",l)||this}return(0,K.ZT)(e,t),e.prototype.matches=function(i){var l=i.data.field(this.field);return Nc(l)&&qr(l.arrayValue,this.value)},e}(Zo),Cu=function(t){function e(i,l){return t.call(this,i,"in",l)||this}return(0,K.ZT)(e,t),e.prototype.matches=function(i){var l=i.data.field(this.field);return null!==l&&qr(this.value.arrayValue,l)},e}(Zo),Vc=function(t){function e(i,l){return t.call(this,i,"not-in",l)||this}return(0,K.ZT)(e,t),e.prototype.matches=function(i){if(qr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var l=i.data.field(this.field);return null!==l&&!qr(this.value.arrayValue,l)},e}(Zo),Hf=function(t){function e(i,l){return t.call(this,i,"array-contains-any",l)||this}return(0,K.ZT)(e,t),e.prototype.matches=function(i){var l=this,u=i.data.field(this.field);return!(!Nc(u)||!u.arrayValue.values)&&u.arrayValue.values.some(function(f){return qr(l.value.arrayValue,f)})},e}(Zo),Ql=function(t,e){this.position=t,this.before=e};function jc(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Qa(e)}).join(",")}var Xa=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Gf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ja(t,e,i){for(var l=0,u=0;u<t.position.length;u++){var f=e[u],g=t.position[u];if(l=f.field.isKeyField()?Cn.comparator(Cn.fromName(g.referenceValue),i.key):ho(g,i.data.field(f.field)),"desc"===f.dir&&(l*=-1),0!==l)break}return t.before?l<=0:l<0}function Du(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var i=0;i<t.position.length;i++)if(!Rs(t.position[i],e.position[i]))return!1;return!0}var na=function(t,e,i,l,u,f,g,w){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===l&&(l=[]),void 0===u&&(u=null),void 0===f&&(f="F"),void 0===g&&(g=null),void 0===w&&(w=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=w,this.p=null,this.T=null};function Br(t,e,i,l,u,f,g,w){return new na(t,e,i,l,u,f,g,w)}function Ma(t){return new na(t)}function Il(t){return!wa(t.limit)&&"F"===t.limitType}function el(t){return!wa(t.limit)&&"L"===t.limitType}function tl(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function wu(t){for(var e=0,i=t.filters;e<i.length;e++){var l=i[e];if(l.g())return l.field}return null}function Eu(t){return null!==t.collectionGroup}function xl(t){var e=Ut(t);if(null===e.p){e.p=[];var i=wu(e),l=tl(e);if(null!==i&&null===l)i.isKeyField()||e.p.push(new Xa(i)),e.p.push(new Xa(ms.keyField(),"asc"));else{for(var u=!1,f=0,g=e.explicitOrderBy;f<g.length;f++){var w=g[f];e.p.push(w),w.field.isKeyField()&&(u=!0)}if(!u){var B=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Xa(ms.keyField(),B))}}}return e.p}function Zr(t){var e=Ut(t);if(!e.T)if("F"===e.limitType)e.T=Jd(e.path,e.collectionGroup,xl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var i=[],l=0,u=xl(e);l<u.length;l++){var f=u[l];i.push(new Xa(f.field,"desc"===f.dir?"asc":"desc"))}var w=e.endAt?new Ql(e.endAt.position,!e.endAt.before):null,B=e.startAt?new Ql(e.startAt.position,!e.startAt.before):null;e.T=Jd(e.path,e.collectionGroup,i,e.filters,e.limit,w,B)}return e.T}function nl(t,e,i){return new na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function $s(t,e){return Lc(Zr(t),Zr(e))&&t.limitType===e.limitType}function ia(t){return Kl(Zr(t))+"|lt:"+t.limitType}function Uc(t){return"Query(target="+(i=(e=Zr(t)).path.canonicalString(),null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=", filters: ["+e.filters.map(function(l){return(u=l).field.canonicalString()+" "+u.op+" "+Qa(u.value);var u}).join(", ")+"]"),wa(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=", orderBy: ["+e.orderBy.map(function(l){return(u=l).field.canonicalString()+" ("+u.dir+")";var u}).join(", ")+"]"),e.startAt&&(i+=", startAt: "+jc(e.startAt)),e.endAt&&(i+=", endAt: "+jc(e.endAt)),"Target("+i+"); limitType=")+t.limitType+")";var e,i}function ra(t,e){return e.isFoundDocument()&&(u=(l=e).key.path,null!==(i=t).collectionGroup?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Cn.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u))&&function(i,l){for(var u=0,f=i.explicitOrderBy;u<f.length;u++){var g=f[u];if(!g.field.isKeyField()&&null===l.data.field(g.field))return!1}return!0}(t,e)&&function(i,l){for(var u=0,f=i.filters;u<f.length;u++)if(!f[u].matches(l))return!1;return!0}(t,e)&&function(i,l){return!(i.startAt&&!Ja(i.startAt,xl(i),l)||i.endAt&&Ja(i.endAt,xl(i),l))}(t,e);var i,l,u}function il(t){return function(e,i){for(var l=!1,u=0,f=xl(t);u<f.length;u++){var g=f[u],w=Zl(g,e,i);if(0!==w)return w;l=l||g.field.isKeyField()}return 0}}function Zl(t,e,i){var u,g,w,B,l=t.field.isKeyField()?Cn.comparator(e.key,i.key):(g=i,w=e.data.field(u=t.field),B=g.data.field(u),null!==w&&null!==B?ho(w,B):Ot());switch(t.dir){case"asc":return l;case"desc":return-1*l;default:return Ot()}}function Hc(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sr(e)?"-0":e}}function Mu(t){return{integerValue:""+t}}function th(t,e){return Sl(e)?Mu(e):Hc(t,e)}var oa=function(){this._=void 0};function Xl(t,e,i){return t instanceof rl?(f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(l=i).seconds,nanos:l.nanoseconds}}}},(u=e)&&(f.fields.__previous_value__=u),{mapValue:f}):t instanceof Ta?nh(t,e):t instanceof ol?ih(t,e):function(l,u){var f=$f(l,u),g=Rl(f)+Rl(l.A);return Yl(f)&&Yl(l.A)?Mu(g):Hc(l.R,g)}(t,e);var l,u,f}function zf(t,e,i){return t instanceof Ta?nh(t,e):t instanceof ol?ih(t,e):i}function $f(t,e){return t instanceof Sa?Yl(i=e)||(l=i)&&"doubleValue"in l?e:{integerValue:0}:null;var l,i}var rl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,K.ZT)(e,t),e}(oa),Ta=function(t){function e(i){var l=this;return(l=t.call(this)||this).elements=i,l}return(0,K.ZT)(e,t),e}(oa);function nh(t,e){for(var i=Jl(e),l=function(g){i.some(function(w){return Rs(w,g)})||i.push(g)},u=0,f=t.elements;u<f.length;u++)l(f[u]);return{arrayValue:{values:i}}}var ol=function(t){function e(i){var l=this;return(l=t.call(this)||this).elements=i,l}return(0,K.ZT)(e,t),e}(oa);function ih(t,e){for(var i=Jl(e),l=function(g){i=i.filter(function(w){return!Rs(w,g)})},u=0,f=t.elements;u<f.length;u++)l(f[u]);return{arrayValue:{values:i}}}var Sa=function(t){function e(i,l){var u=this;return(u=t.call(this)||this).R=i,u.A=l,u}return(0,K.ZT)(e,t),e}(oa);function Rl(t){return _r(t.integerValue||t.doubleValue)}function Jl(t){return Nc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ks=function(t,e){this.field=t,this.transform=e},Yf=function(t,e){this.version=t,this.transformResults=e},Xr=function(){function t(e,i){this.updateTime=e,this.exists=i}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Gc(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var sl=function(){};function Tu(t,e,i){var l,u,f,g,w;t instanceof Ol?(u=e,f=i,g=(l=t).value.clone(),w=sh(l.fieldTransforms,u,f.transformResults),g.setAll(w),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()):t instanceof sa?function(l,u,f){if(Gc(l.precondition,u)){var g=sh(l.fieldTransforms,u,f.transformResults),w=u.data;w.setAll(oh(l)),w.setAll(g),u.convertToFoundDocument(f.version,w).setHasCommittedMutations()}else u.convertToUnknownDocument(f.version)}(t,e,i):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,i)}function kl(t,e,i){var u;t instanceof Ol?function(l,u,f){if(Gc(l.precondition,u)){var g=l.value.clone(),w=ah(l.fieldTransforms,f,u);g.setAll(w),u.convertToFoundDocument(Aa(u),g).setHasLocalMutations()}}(t,e,i):t instanceof sa?function(l,u,f){if(Gc(l.precondition,u)){var g=ah(l.fieldTransforms,f,u),w=u.data;w.setAll(oh(l)),w.setAll(g),u.convertToFoundDocument(Aa(u),w).setHasLocalMutations()}}(t,e,i):Gc(t.precondition,u=e)&&u.convertToNoDocument(Xn.min())}function rh(t,e){for(var i=null,l=0,u=t.fieldTransforms;l<u.length;l++){var f=u[l],g=e.data.field(f.field),w=$f(f.transform,g||null);null!=w&&(null==i&&(i=So.empty()),i.set(f.field,w))}return i||null}function Su(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(i=t.fieldTransforms)&&void 0===l||i&&l&&Lo(i,l,function(u,f){return(g=u).field.isEqual((w=f).field)&&(X=w.transform,(B=g.transform)instanceof Ta&&X instanceof Ta||B instanceof ol&&X instanceof ol?Lo(B.elements,X.elements,Rs):B instanceof Sa&&X instanceof Sa?Rs(B.A,X.A):B instanceof rl&&X instanceof rl);var g,w,B,X})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var i,l}function Aa(t){return t.isFoundDocument()?t.version:Xn.min()}var Ol=function(t){function e(i,l,u,f){void 0===f&&(f=[]);var g=this;return(g=t.call(this)||this).key=i,g.value=l,g.precondition=u,g.fieldTransforms=f,g.type=0,g}return(0,K.ZT)(e,t),e}(sl),sa=function(t){function e(i,l,u,f,g){void 0===g&&(g=[]);var w=this;return(w=t.call(this)||this).key=i,w.data=l,w.fieldMask=u,w.precondition=f,w.fieldTransforms=g,w.type=1,w}return(0,K.ZT)(e,t),e}(sl);function oh(t){var e=new Map;return t.fieldMask.fields.forEach(function(i){if(!i.isEmpty()){var l=t.data.field(i);e.set(i,l)}}),e}function sh(t,e,i){var l=new Map;nn(t.length===i.length);for(var u=0;u<i.length;u++){var f=t[u],g=f.transform,w=e.data.field(f.field);l.set(f.field,zf(g,w,i[u]))}return l}function ah(t,e,i){for(var l=new Map,u=0,f=t;u<f.length;u++){var g=f[u],w=g.transform,B=i.data.field(g.field);l.set(g.field,Xl(w,B,e))}return l}var Bi,ci,Pl=function(t){function e(i,l){var u=this;return(u=t.call(this)||this).key=i,u.precondition=l,u.type=2,u.fieldTransforms=[],u}return(0,K.ZT)(e,t),e}(sl),Au=function(t){function e(i,l){var u=this;return(u=t.call(this)||this).key=i,u.precondition=l,u.type=3,u.fieldTransforms=[],u}return(0,K.ZT)(e,t),e}(sl),Wf=function(t){this.count=t};function lh(t){switch(t){case S.OK:return Ot();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0;default:return Ot()}}function ch(t){if(void 0===t)return vt("GRPC error has no .code"),S.UNKNOWN;switch(t){case Bi.OK:return S.OK;case Bi.CANCELLED:return S.CANCELLED;case Bi.UNKNOWN:return S.UNKNOWN;case Bi.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Bi.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Bi.INTERNAL:return S.INTERNAL;case Bi.UNAVAILABLE:return S.UNAVAILABLE;case Bi.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Bi.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Bi.NOT_FOUND:return S.NOT_FOUND;case Bi.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Bi.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Bi.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Bi.ABORTED:return S.ABORTED;case Bi.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Bi.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Bi.DATA_LOSS:return S.DATA_LOSS;default:return Ot()}}(ci=Bi||(Bi={}))[ci.OK=0]="OK",ci[ci.CANCELLED=1]="CANCELLED",ci[ci.UNKNOWN=2]="UNKNOWN",ci[ci.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ci[ci.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ci[ci.NOT_FOUND=5]="NOT_FOUND",ci[ci.ALREADY_EXISTS=6]="ALREADY_EXISTS",ci[ci.PERMISSION_DENIED=7]="PERMISSION_DENIED",ci[ci.UNAUTHENTICATED=16]="UNAUTHENTICATED",ci[ci.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ci[ci.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ci[ci.ABORTED=10]="ABORTED",ci[ci.OUT_OF_RANGE=11]="OUT_OF_RANGE",ci[ci.UNIMPLEMENTED=12]="UNIMPLEMENTED",ci[ci.INTERNAL=13]="INTERNAL",ci[ci.UNAVAILABLE=14]="UNAVAILABLE",ci[ci.DATA_LOSS=15]="DATA_LOSS";var Vr=function(){function t(e,i){this.comparator=e,this.root=i||Ia.EMPTY}return t.prototype.insert=function(e,i){return new t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ia.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ia.BLACK,null,null))},t.prototype.get=function(e){for(var i=this.root;!i.isEmpty();){var l=this.comparator(e,i.key);if(0===l)return i.value;l<0?i=i.left:l>0&&(i=i.right)}return null},t.prototype.indexOf=function(e){for(var i=0,l=this.root;!l.isEmpty();){var u=this.comparator(e,l.key);if(0===u)return i+l.left.size;u<0?l=l.left:(i+=l.left.size+1,l=l.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(i,l){return e(i,l),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(i,l){return e.push(i+":"+l),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new ec(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new ec(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ec(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new ec(this.root,e,this.comparator,!0)},t}(),ec=function(){function t(e,i,l,u){this.isReverse=u,this.nodeStack=[];for(var f=1;!e.isEmpty();)if(f=i?l(e.key,i):1,u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Ia=function(){function t(e,i,l,u,f){this.key=e,this.value=i,this.color=null!=l?l:t.RED,this.left=null!=u?u:t.EMPTY,this.right=null!=f?f:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,i,l,u,f){return new t(null!=e?e:this.key,null!=i?i:this.value,null!=l?l:this.color,null!=u?u:this.left,null!=f?f:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,i,l){var u=this,f=l(e,u.key);return(u=f<0?u.copy(null,null,null,u.left.insert(e,i,l),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,l))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,i){var l,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(e,u.key)){if(u.right.isEmpty())return t.EMPTY;l=u.right.min(),u=u.copy(l.key,l.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();var e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)},t}();Ia.EMPTY=null,Ia.RED=!0,Ia.BLACK=!1,Ia.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ot()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,i,l,u,f){return this},t.prototype.insert=function(e,i,l){return new Ia(e,i)},t.prototype.remove=function(e,i){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Mr=function(){function t(e){this.comparator=e,this.data=new Vr(this.comparator)}return t.prototype.has=function(e){return null!==this.data.get(e)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(i,l){return e(i),!1})},t.prototype.forEachInRange=function(e,i){for(var l=this.data.getIteratorFrom(e[0]);l.hasNext();){var u=l.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}},t.prototype.forEachWhile=function(e,i){var l;for(l=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null},t.prototype.getIterator=function(){return new uh(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new uh(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var i=this;return i.size<e.size&&(i=e,e=this),e.forEach(function(l){i=i.add(l)}),i},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var i=this.data.getIterator(),l=e.data.getIterator();i.hasNext();){var u=i.getNext().key,f=l.getNext().key;if(0!==this.comparator(u,f))return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(i){e.push(i)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(i){return e.push(i)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var i=new t(this.comparator);return i.data=e,i},t}(),uh=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),dh=new Vr(Cn.comparator);function gs(){return dh}var Kf=new Vr(Cn.comparator);function xa(){return Kf}var hh=new Vr(Cn.comparator);function Os(){return hh}var tc=new Mr(Cn.comparator);function xi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=tc,l=0,u=t;l<u.length;l++){var f=u[l];i=i.add(f)}return i}var fh=new Mr(Ln);function nc(){return fh}var zc=function(){function t(e,i,l,u,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=l,this.documentUpdates=u,this.resolvedLimboDocuments=f}return t.createSynthesizedRemoteEventForCurrentChange=function(e,i){var l=new Map;return l.set(e,$c.createSynthesizedTargetChangeForCurrentChange(e,i)),new t(Xn.min(),l,nc(),gs(),xi())},t}(),$c=function(){function t(e,i,l,u,f){this.resumeToken=e,this.current=i,this.addedDocuments=l,this.modifiedDocuments=u,this.removedDocuments=f}return t.createSynthesizedTargetChangeForCurrentChange=function(e,i){return new t(uo.EMPTY_BYTE_STRING,i,xi(),xi(),xi())},t}(),ic=function(t,e,i,l){this.v=t,this.removedTargetIds=e,this.key=i,this.P=l},rc=function(t,e){this.targetId=t,this.V=e},oc=function(t,e,i,l){void 0===i&&(i=uo.EMPTY_BYTE_STRING),void 0===l&&(l=null),this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=l},M=function(){function t(){this.S=0,this.D=b(),this.C=uo.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=xi(),i=xi(),l=xi();return this.D.forEach(function(u,f){switch(f){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:l=l.add(u);break;default:Ot()}}),new $c(this.C,this.N,e,i,l)},t.prototype.L=function(){this.k=!1,this.D=b()},t.prototype.B=function(e,i){this.k=!0,this.D=this.D.insert(e,i)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),O=function(){function t(e){this.W=e,this.G=new Map,this.H=gs(),this.J=h(),this.Y=new Mr(Ln)}return t.prototype.X=function(e){for(var i=0,l=e.v;i<l.length;i++){var u=l[i];e.P&&e.P.isFoundDocument()?this.Z(u,e.P):this.tt(u,e.key,e.P)}for(var f=0,g=e.removedTargetIds;f<g.length;f++)this.tt(u=g[f],e.key,e.P)},t.prototype.et=function(e){var i=this;this.forEachTarget(e,function(l){var u=i.nt(l);switch(e.state){case 0:i.st(l)&&u.O(e.resumeToken);break;case 1:u.K(),u.F||u.L(),u.O(e.resumeToken);break;case 2:u.K(),u.F||i.removeTarget(l);break;case 3:i.st(l)&&(u.j(),u.O(e.resumeToken));break;case 4:i.st(l)&&(i.it(l),u.O(e.resumeToken));break;default:Ot()}})},t.prototype.forEachTarget=function(e,i){var l=this;e.targetIds.length>0?e.targetIds.forEach(i):this.G.forEach(function(u,f){l.st(f)&&i(f)})},t.prototype.rt=function(e){var i=e.targetId,l=e.V.count,u=this.ot(i);if(u){var f=u.target;if(Al(f))if(0===l){var g=new Cn(f.path);this.tt(i,g,Lr.newNoDocument(g,Xn.min()))}else nn(1===l);else this.ct(i)!==l&&(this.it(i),this.Y=this.Y.add(i))}},t.prototype.ut=function(e){var i=this,l=new Map;this.G.forEach(function(g,w){var B=i.ot(w);if(B){if(g.current&&Al(B.target)){var X=new Cn(B.target.path);null!==i.H.get(X)||i.at(w,X)||i.tt(w,X,Lr.newNoDocument(X,e))}g.$&&(l.set(w,g.M()),g.L())}});var u=xi();this.J.forEach(function(g,w){var B=!0;w.forEachWhile(function(X){var le=i.ot(X);return!le||2===le.purpose||(B=!1,!1)}),B&&(u=u.add(g))});var f=new zc(e,l,this.Y,this.H,u);return this.H=gs(),this.J=h(),this.Y=new Mr(Ln),f},t.prototype.Z=function(e,i){if(this.st(e)){var l=this.at(e,i.key)?2:0;this.nt(e).B(i.key,l),this.H=this.H.insert(i.key,i),this.J=this.J.insert(i.key,this.ht(i.key).add(e))}},t.prototype.tt=function(e,i,l){if(this.st(e)){var u=this.nt(e);this.at(e,i)?u.B(i,1):u.q(i),this.J=this.J.insert(i,this.ht(i).delete(e)),l&&(this.H=this.H.insert(i,l))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var i=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var i=this.G.get(e);return i||(i=new M,this.G.set(e,i)),i},t.prototype.ht=function(e){var i=this.J.get(e);return i||(i=new Mr(Ln),this.J=this.J.insert(e,i)),i},t.prototype.st=function(e){var i=null!==this.ot(e);return i||ge("WatchChangeAggregator","Detected inactive target",e),i},t.prototype.ot=function(e){var i=this.G.get(e);return i&&i.F?null:this.W.lt(e)},t.prototype.it=function(e){var i=this;this.G.set(e,new M),this.W.getRemoteKeysForTarget(e).forEach(function(l){i.tt(e,l,null)})},t.prototype.at=function(e,i){return this.W.getRemoteKeysForTarget(e).has(i)},t}();function h(){return new Vr(Cn.comparator)}function b(){return new Vr(Cn.comparator)}var F={asc:"ASCENDING",desc:"DESCENDING"},J={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rt=function(t,e){this.databaseId=t,this.I=e};function Lt(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zt(t,e){return t.I?e.toBase64():e.toUint8Array()}function Sn(t,e){return Lt(t,e.toTimestamp())}function _n(t){return nn(!!t),Xn.fromTimestamp((i=Da(t),new fr(i.seconds,i.nanos)));var i}function ui(t,e){return(i=t,new fi(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function bi(t){var e=fi.fromString(t);return nn(Xf(e)),e}function ii(t,e){return ui(t.databaseId,e.path)}function fo(t,e){var i=bi(e);if(i.get(1)!==t.databaseId.projectId)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new Cn(ph(i))}function Ps(t,e){return ui(t.databaseId,e)}function jr(t){var e=bi(t);return 4===e.length?fi.emptyPath():ph(e)}function aa(t){return new fi(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ph(t){return nn(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function sc(t,e,i){return{name:ii(t,e),fields:i.value.mapValue.fields}}function Iu(t,e,i){var l=fo(t,e.name),u=_n(e.updateTime),f=new So({mapValue:{fields:e.fields}}),g=Lr.newFoundDocument(l,u,f);return i&&g.setHasCommittedMutations(),i?g.setHasCommittedMutations():g}function xu(t,e){var i,u;if(e instanceof Ol)i={update:sc(t,e.key,e.value)};else if(e instanceof Pl)i={delete:ii(t,e.key)};else if(e instanceof sa)i={update:sc(t,e.key,e.data),updateMask:Zf(e.fieldMask)};else{if(!(e instanceof Au))return Ot();i={verify:ii(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(function(l){return function(u,f){var g=f.transform;if(g instanceof rl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ta)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ol)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Sa)return{fieldPath:f.field.canonicalString(),increment:g.A};throw Ot()}(0,l)})),e.precondition.isNone||(i.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Sn(t,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Ot()),i}function qf(t,e){var X,i=e.currentDocument?void 0!==(X=e.currentDocument).updateTime?Xr.updateTime(_n(X.updateTime)):void 0!==X.exists?Xr.exists(X.exists):Xr.none():Xr.none(),l=e.updateTransforms?e.updateTransforms.map(function(X){return function(le,Ce){var Le=null;"setToServerValue"in Ce?(nn("REQUEST_TIME"===Ce.setToServerValue),Le=new rl):"appendMissingElements"in Ce?Le=new Ta(Ce.appendMissingElements.values||[]):"removeAllFromArray"in Ce?Le=new ol(Ce.removeAllFromArray.values||[]):"increment"in Ce?Le=new Sa(le,Ce.increment):Ot();var Ct=ms.fromServerFormat(Ce.fieldPath);return new ks(Ct,Le)}(t,X)}):[];if(e.update){var u=fo(t,e.update.name),f=new So({mapValue:{fields:e.update.fields}});if(e.updateMask){var g=function(X){return new Li((X.fieldPaths||[]).map(function(Ce){return ms.fromServerFormat(Ce)}))}(e.updateMask);return new sa(u,f,g,i,l)}return new Ol(u,f,i,l)}if(e.delete){var w=fo(t,e.delete);return new Pl(w,i)}if(e.verify){var B=fo(t,e.verify);return new Au(B,i)}return Ot()}function Gm(t,e){return{documents:[Ps(t,e.path)]}}function zm(t,e){var i={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(i.parent=Ps(t,l),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=Ps(t,l.popLast()),i.structuredQuery.from=[{collectionId:l.lastSegment()}]);var u=function(w){if(0!==w.length){var B=w.map(function(X){return function(le){if("=="===le.op){if(jf(le.value))return{unaryFilter:{field:la(le.field),op:"IS_NAN"}};if(Vf(le.value))return{unaryFilter:{field:la(le.field),op:"IS_NULL"}}}else if("!="===le.op){if(jf(le.value))return{unaryFilter:{field:la(le.field),op:"IS_NOT_NAN"}};if(Vf(le.value))return{unaryFilter:{field:la(le.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(le.field),op:Io(le.op),value:le.value}}}(X)});return 1===B.length?B[0]:{compositeFilter:{op:"AND",filters:B}}}}(e.filters);u&&(i.structuredQuery.where=u);var f=function(w){if(0!==w.length)return w.map(function(B){return{field:la((X=B).field),direction:Qf(X.dir)};var X})}(e.orderBy);f&&(i.structuredQuery.orderBy=f);var B,g=(B=e.limit,t.I||wa(B)?B:{value:B});return null!==g&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=Ru(e.startAt)),e.endAt&&(i.structuredQuery.endAt=Ru(e.endAt)),i}function ac(t){var e=jr(t.parent),i=t.structuredQuery,l=i.from?i.from.length:0,u=null;if(l>0){nn(1===l);var f=i.from[0];f.allDescendants?u=f.collectionId:e=e.child(f.collectionId)}var g=[];i.where&&(g=Ao(i.where));var w=[];i.orderBy&&(w=i.orderBy.map(function(Ce){return new Xa(al((Le=Ce).field),function(pt){switch(pt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Le.direction));var Le}));var Ce,Le,B=null;i.limit&&(B=wa(Le="object"==typeof(Ce=i.limit)?Ce.value:Ce)?null:Le);var X=null;i.startAt&&(X=mh(i.startAt));var le=null;return i.endAt&&(le=mh(i.endAt)),Br(e,u,w,g,B,"F",X,le)}function Ao(t){return t?void 0!==t.unaryFilter?[Ym(t)]:void 0!==t.fieldFilter?[$m(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(e){return Ao(e)}).reduce(function(e,i){return e.concat(i)}):Ot():[]}function Ru(t){return{before:t.before,values:t.position}}function mh(t){return new Ql(t.values||[],!!t.before)}function Qf(t){return F[t]}function Io(t){return J[t]}function la(t){return{fieldPath:t.canonicalString()}}function al(t){return ms.fromServerFormat(t.fieldPath)}function $m(t){return Zo.create(al(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ym(t){switch(t.unaryFilter.op){case"IS_NAN":var e=al(t.unaryFilter.field);return Zo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var i=al(t.unaryFilter.field);return Zo.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var l=al(t.unaryFilter.field);return Zo.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var u=al(t.unaryFilter.field);return Zo.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}function Zf(t){var e=[];return t.fields.forEach(function(i){return e.push(i.canonicalString())}),{fieldPaths:e}}function Xf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Fs(t){for(var e="",i=0;i<t.length;i++)e.length>0&&(e=gh(e)),e=Wm(t.get(i),e);return gh(e)}function Wm(t,e){for(var i=e,l=t.length,u=0;u<l;u++){var f=t.charAt(u);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function gh(t){return t+"\x01\x01"}function Ra(t){var e=t.length;if(nn(e>=2),2===e)return nn("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),fi.emptyPath();for(var i=e-2,l=[],u="",f=0;f<e;){var g=t.indexOf("\x01",f);switch((g<0||g>i)&&Ot(),t.charAt(g+1)){case"\x01":var w=t.substring(f,g),B=void 0;0===u.length?B=w:(B=u+=w,u=""),l.push(B);break;case"\x10":u+=t.substring(f,g),u+="\0";break;case"\x11":u+=t.substring(f,g+1);break;default:Ot()}f=g+2}return new fi(l)}var Km=function(t,e){this.seconds=t,this.nanoseconds=e},Vo=function(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i};Vo.store="owner",Vo.key="owner";var ll=function(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i};ll.store="mutationQueues",ll.keyPath="userId";var er=function(t,e,i,l,u){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=l,this.mutations=u};er.store="mutations",er.keyPath="batchId",er.userMutationsIndex="userMutationsIndex",er.userMutationsKeyPath=["userId","batchId"];var Jr=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,i){return[e,Fs(i)]},t.key=function(e,i,l){return[e,Fs(i),l]},t}();Jr.store="documentMutations",Jr.PLACEHOLDER=new Jr;var qm=function(t,e){this.path=t,this.readTime=e},Qm=function(t,e){this.path=t,this.version=e},tr=function(t,e,i,l,u,f){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=l,this.readTime=u,this.parentPath=f};tr.store="remoteDocuments",tr.readTimeIndex="readTimeIndex",tr.readTimeIndexPath="readTime",tr.collectionReadTimeIndex="collectionReadTimeIndex",tr.collectionReadTimeIndexPath=["parentPath","readTime"];var ca=function(t){this.byteSize=t};ca.store="remoteDocumentGlobal",ca.key="remoteDocumentGlobalKey";var Xo=function(t,e,i,l,u,f,g){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=l,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=f,this.query=g};Xo.store="targets",Xo.keyPath="targetId",Xo.queryTargetsIndexName="queryTargetsIndex",Xo.queryTargetsKeyPath=["canonicalId","targetId"];var po=function(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i};po.store="targetDocuments",po.keyPath=["targetId","path"],po.documentTargetsIndex="documentTargetsIndex",po.documentTargetsKeyPath=["path","targetId"];var _s=function(t,e,i,l){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=l};_s.key="targetGlobalKey",_s.store="targetGlobal";var Fl=function(t,e){this.collectionId=t,this.parent=e};Fl.store="collectionParents",Fl.keyPath=["collectionId","parent"];var ua=function(t,e,i,l){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=l};ua.store="clientMetadata",ua.keyPath="clientId";var lc=function(t,e,i){this.bundleId=t,this.createTime=e,this.version=i};lc.store="bundles",lc.keyPath="bundleId";var cc=function(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i};cc.store="namedQueries",cc.keyPath="name";var Zm=(0,K.ev)((0,K.ev)([],(0,K.ev)((0,K.ev)([],(0,K.ev)((0,K.ev)([],(0,K.ev)((0,K.ev)([],[ll.store,er.store,Jr.store,tr.store,Xo.store,Vo.store,_s.store,po.store]),[ua.store])),[ca.store])),[Fl.store])),[lc.store,cc.store]),Jf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ep=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),xo=function(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i})},qt=function(){function t(e){var i=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(l){i.isDone=!0,i.result=l,i.nextCallback&&i.nextCallback(l)},function(l){i.isDone=!0,i.error=l,i.catchCallback&&i.catchCallback(l)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,i){var l=this;return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new t(function(u,f){l.nextCallback=function(g){l.wrapSuccess(e,g).next(u,f)},l.catchCallback=function(g){l.wrapFailure(i,g).next(u,f)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(i,l){e.next(i,l)})},t.prototype.wrapUserFunction=function(e){try{var i=e();return i instanceof t?i:t.resolve(i)}catch(l){return t.reject(l)}},t.prototype.wrapSuccess=function(e,i){return e?this.wrapUserFunction(function(){return e(i)}):t.resolve(i)},t.prototype.wrapFailure=function(e,i){return e?this.wrapUserFunction(function(){return e(i)}):t.reject(i)},t.resolve=function(e){return new t(function(i,l){i(e)})},t.reject=function(e){return new t(function(i,l){l(e)})},t.waitFor=function(e){return new t(function(i,l){var u=0,f=0,g=!1;e.forEach(function(w){++u,w.next(function(){++f,g&&f===u&&i()},function(B){return l(B)})}),g=!0,f===u&&i()})},t.or=function(e){for(var i=t.resolve(!1),l=function(g){i=i.next(function(w){return w?t.resolve(w):g()})},u=0,f=e;u<f.length;u++)l(f[u]);return i},t.forEach=function(e,i){var l=this,u=[];return e.forEach(function(f,g){u.push(i.call(l,f,g))}),this.waitFor(u)},t}(),tp=function(){function t(e,i){var l=this;this.action=e,this.transaction=i,this.aborted=!1,this.ft=new xo,this.transaction.oncomplete=function(){l.ft.resolve()},this.transaction.onabort=function(){i.error?l.ft.reject(new ku(e,i.error)):l.ft.resolve()},this.transaction.onerror=function(u){var f=Yc(u.target.error);l.ft.reject(new ku(e,f))}}return t.open=function(e,i,l,u){try{return new t(i,e.transaction(u,l))}catch(f){throw new ku(i,f)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var i=this.transaction.objectStore(e);return new np(i)},t}(),Ys=function(){function t(e,i,l){this.name=e,this.version=i,this.wt=l,12.2===t._t((0,fe.z$)())&&vt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return ge("SimpleDb","Removing database:",e),dc(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,fe.z$)(),i=t._t(e),l=0<i&&i<10,u=t.Et(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||f)},t.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},t.It=function(e,i){return e.store(i)},t._t=function(e){var i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(l)},t.Et=function(e){var i=e.match(/Android ([\d.]+)/i),l=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(l)},t.prototype.At=function(e){return(0,K.mG)(this,void 0,void 0,function(){var i,l=this;return(0,K.Jh)(this,function(u){switch(u.label){case 0:return this.db?[3,2]:(ge("SimpleDb","Opening database:",this.name),i=this,[4,new Promise(function(f,g){var w=indexedDB.open(l.name,l.version);w.onsuccess=function(B){f(B.target.result)},w.onblocked=function(){g(new ku(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},w.onerror=function(B){var X=B.target.error;g("VersionError"===X.name?new V(S.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ku(e,X))},w.onupgradeneeded=function(B){ge("SimpleDb",'Database "'+l.name+'" requires upgrade from version:',B.oldVersion),l.wt.Rt(B.target.result,w.transaction,B.oldVersion,l.version).next(function(){ge("SimpleDb","Database upgrade to version "+l.version+" complete")})}})]);case 1:i.db=u.sent(),u.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(f){return l.bt(f)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(i){return e(i)})},t.prototype.runTransaction=function(e,i,l,u){return(0,K.mG)(this,void 0,void 0,function(){var f,g,w,B,X;return(0,K.Jh)(this,function(le){switch(le.label){case 0:f="readonly"===i,g=0,w=function(){var Ce,Le,pt,mt,Ct;return(0,K.Jh)(this,function(Gt){switch(Gt.label){case 0:++g,Gt.label=1;case 1:return Gt.trys.push([1,4,,5]),[4,B.At(e)];case 2:return B.db=Gt.sent(),Ce=tp.open(B.db,e,f?"readonly":"readwrite",l),Le=u(Ce).catch(function(Xt){return Ce.abort(Xt),qt.reject(Xt)}).toPromise(),pt={},Le.catch(function(){}),[4,Ce.dt];case 3:return[2,(pt.value=(Gt.sent(),Le),pt)];case 4:return ge("SimpleDb","Transaction failed with error:",(mt=Gt.sent()).message,"Retrying:",Ct="FirebaseError"!==mt.name&&g<3),B.close(),Ct?[3,5]:[2,{value:Promise.reject(mt)}];case 5:return[2]}})},B=this,le.label=1;case 1:return[5,w()];case 2:if("object"==typeof(X=le.sent()))return[2,X.value];le.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),da=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return dc(this.Pt.delete())},t}(),ku=function(t){function e(i,l){var u=this;return(u=t.call(this,S.UNAVAILABLE,"IndexedDB transaction '"+i+"' failed: "+l)||this).name="IndexedDbTransactionError",u}return(0,K.ZT)(e,t),e}(V);function uc(t){return"IndexedDbTransactionError"===t.name}var np=function(){function t(e){this.store=e}return t.prototype.put=function(e,i){var l;return void 0!==i?(ge("SimpleDb","PUT",this.store.name,e,i),l=this.store.put(i,e)):(ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),dc(l)},t.prototype.add=function(e){return ge("SimpleDb","ADD",this.store.name,e,e),dc(this.store.add(e))},t.prototype.get=function(e){var i=this;return dc(this.store.get(e)).next(function(l){return void 0===l&&(l=null),ge("SimpleDb","GET",i.store.name,e,l),l})},t.prototype.delete=function(e){return ge("SimpleDb","DELETE",this.store.name,e),dc(this.store.delete(e))},t.prototype.count=function(){return ge("SimpleDb","COUNT",this.store.name),dc(this.store.count())},t.prototype.Nt=function(e,i){var l=this.cursor(this.options(e,i)),u=[];return this.xt(l,function(f,g){u.push(g)}).next(function(){return u})},t.prototype.kt=function(e,i){ge("SimpleDb","DELETE ALL",this.store.name);var l=this.options(e,i);l.Ft=!1;var u=this.cursor(l);return this.xt(u,function(f,g,w){return w.delete()})},t.prototype.$t=function(e,i){var l;i?l=e:(l={},i=e);var u=this.cursor(l);return this.xt(u,i)},t.prototype.Ot=function(e){var i=this.cursor({});return new qt(function(l,u){i.onerror=function(f){var g=Yc(f.target.error);u(g)},i.onsuccess=function(f){var g=f.target.result;g?e(g.primaryKey,g.value).next(function(w){w?g.continue():l()}):l()}})},t.prototype.xt=function(e,i){var l=[];return new qt(function(u,f){e.onerror=function(g){f(g.target.error)},e.onsuccess=function(g){var w=g.target.result;if(w){var B=new da(w),X=i(w.primaryKey,w.value,B);if(X instanceof qt){var le=X.catch(function(Ce){return B.done(),qt.reject(Ce)});l.push(le)}B.isDone?u():null===B.Dt?w.continue():w.continue(B.Dt)}else u()}}).next(function(){return qt.waitFor(l)})},t.prototype.options=function(e,i){var l;return void 0!==e&&("string"==typeof e?l=e:i=e),{index:l,range:i}},t.prototype.cursor=function(e){var i="next";if(e.reverse&&(i="prev"),e.index){var l=this.store.index(e.index);return e.Ft?l.openKeyCursor(e.range,i):l.openCursor(e.range,i)}return this.store.openCursor(e.range,i)},t}();function dc(t){return new qt(function(e,i){t.onsuccess=function(l){e(l.target.result)},t.onerror=function(l){var u=Yc(l.target.error);i(u)}})}var Ws=!1;function Yc(t){var e=Ys._t((0,fe.z$)());if(e>=12.2&&e<13){var i="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(i)>=0){var l=new V("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+i+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ws||(Ws=!0,setTimeout(function(){throw l},0)),l}}return t}var Ou=function(t){function e(i,l){var u=this;return(u=t.call(this)||this).Mt=i,u.currentSequenceNumber=l,u}return(0,K.ZT)(e,t),e}(ep);function Jo(t,e){var i=Ut(t);return Ys.It(i.Mt,e)}var Pu=function(){function t(e,i,l,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=l,this.mutations=u}return t.prototype.applyToRemoteDocument=function(e,i){for(var l=i.mutationResults,u=0;u<this.mutations.length;u++){var f=this.mutations[u];f.key.isEqual(e.key)&&Tu(f,e,l[u])}},t.prototype.applyToLocalView=function(e){for(var i=0,l=this.baseMutations;i<l.length;i++)(g=l[i]).key.isEqual(e.key)&&kl(g,e,this.localWriteTime);for(var u=0,f=this.mutations;u<f.length;u++){var g;(g=f[u]).key.isEqual(e.key)&&kl(g,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var i=this;this.mutations.forEach(function(l){var u=e.get(l.key),f=u;i.applyToLocalView(f),u.isValidDocument()||f.convertToNoDocument(Xn.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,i){return e.add(i.key)},xi())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,function(i,l){return Su(i,l)})&&Lo(this.baseMutations,e.baseMutations,function(i,l){return Su(i,l)})},t}(),Wc=function(){function t(e,i,l,u){this.batch=e,this.commitVersion=i,this.mutationResults=l,this.docVersions=u}return t.from=function(e,i,l){nn(e.mutations.length===l.length);for(var u=Os(),f=e.mutations,g=0;g<f.length;g++)u=u.insert(f[g].key,l[g].version);return new t(e,i,l,u)},t}(),Kc=function(){function t(e,i,l,u,f,g,w){void 0===f&&(f=Xn.min()),void 0===g&&(g=Xn.min()),void 0===w&&(w=uo.EMPTY_BYTE_STRING),this.target=e,this.targetId=i,this.purpose=l,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=w}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),_h=function(t){this.Lt=t};function qc(t,e){if(e.document)return Iu(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var i=Cn.fromSegments(e.noDocument.path),l=cl(e.noDocument.readTime),u=Lr.newNoDocument(i,l);return e.hasCommittedMutations?u.setHasCommittedMutations():u}if(e.unknownDocument){var f=Cn.fromSegments(e.unknownDocument.path);return l=cl(e.unknownDocument.version),Lr.newUnknownDocument(f,l)}return Ot()}function Fu(t,e,i){var Ce,Le,l=Nu(i),u=e.key.path.popLast().toArray();if(e.isFoundDocument()){var f={name:ii(Ce=t.Lt,(Le=e).key),fields:Le.data.value.mapValue.fields,updateTime:Lt(Ce,Le.version.toTimestamp())},g=e.hasCommittedMutations;return new tr(null,null,f,g,l,u)}if(e.isNoDocument()){var w=e.key.path.toArray(),B=Ks(e.version);return g=e.hasCommittedMutations,new tr(null,new qm(w,B),null,g,l,u)}if(e.isUnknownDocument()){var X=e.key.path.toArray(),le=Ks(e.version);return new tr(new Qm(X,le),null,null,!0,l,u)}return Ot()}function Nu(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Xm(t){var e=new fr(t[0],t[1]);return Xn.fromTimestamp(e)}function Ks(t){var e=t.toTimestamp();return new Km(e.seconds,e.nanoseconds)}function cl(t){var e=new fr(t.seconds,t.nanoseconds);return Xn.fromTimestamp(e)}function Nl(t,e){for(var i=(e.baseMutations||[]).map(function(B){return qf(t.Lt,B)}),l=0;l<e.mutations.length-1;++l)l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(e.mutations[l].updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l);var g=e.mutations.map(function(B){return qf(t.Lt,B)}),w=fr.fromMillis(e.localWriteTimeMs);return new Pu(e.batchId,w,i,g)}function Qc(t){var e,i,l=cl(t.readTime),u=void 0!==t.lastLimboFreeSnapshotVersion?cl(t.lastLimboFreeSnapshotVersion):Xn.min();return void 0!==t.query.documents?(nn(1===(i=t.query).documents.length),e=Zr(Ma(jr(i.documents[0])))):e=Zr(ac(t.query)),new Kc(e,t.targetId,0,t.lastListenSequenceNumber,l,u,uo.fromBase64String(t.resumeToken))}function Lu(t,e){var i,l=Ks(e.snapshotVersion),u=Ks(e.lastLimboFreeSnapshotVersion);i=Al(e.target)?Gm(t.Lt,e.target):zm(t.Lt,e.target);var f=e.resumeToken.toBase64();return new Xo(e.targetId,Kl(e.target),l,f,e.sequenceNumber,u,i)}function vh(t){var e=ac({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?nl(e,e.limit,"L"):e}var Jm=function(){function t(){}return t.prototype.getBundleMetadata=function(e,i){return ip(e).get(i).next(function(l){if(l)return{id:(u=l).bundleId,createTime:cl(u.createTime),version:u.version};var u})},t.prototype.saveBundleMetadata=function(e,i){return ip(e).put({bundleId:(l=i).id,createTime:Ks(_n(l.createTime)),version:l.version});var l},t.prototype.getNamedQuery=function(e,i){return rp(e).get(i).next(function(l){if(l)return{name:(u=l).name,query:vh(u.bundledQuery),readTime:cl(u.readTime)};var u})},t.prototype.saveNamedQuery=function(e,i){return rp(e).put({name:(l=i).name,readTime:Ks(_n(l.readTime)),bundledQuery:l.bundledQuery});var l},t}();function ip(t){return Jo(t,lc.store)}function rp(t){return Jo(t,cc.store)}var eg=function(){function t(){this.Bt=new yh}return t.prototype.addToCollectionParentIndex=function(e,i){return this.Bt.add(i),qt.resolve()},t.prototype.getCollectionParents=function(e,i){return qt.resolve(this.Bt.getEntries(i))},t}(),yh=function(){function t(){this.index={}}return t.prototype.add=function(e){var i=e.lastSegment(),l=e.popLast(),u=this.index[i]||new Mr(fi.comparator),f=!u.has(l);return this.index[i]=u.add(l),f},t.prototype.has=function(e){var i=e.lastSegment(),l=e.popLast(),u=this.index[i];return u&&u.has(l)},t.prototype.getEntries=function(e){return(this.index[e]||new Mr(fi.comparator)).toArray()},t}(),op=function(){function t(){this.qt=new yh}return t.prototype.addToCollectionParentIndex=function(e,i){var l=this;if(!this.qt.has(i)){var u=i.lastSegment(),f=i.popLast();e.addOnCommittedListener(function(){l.qt.add(i)});var g={collectionId:u,parent:Fs(f)};return Bu(e).put(g)}return qt.resolve()},t.prototype.getCollectionParents=function(e,i){var l=[],u=IDBKeyRange.bound([i,""],[Bo(i),""],!1,!0);return Bu(e).Nt(u).next(function(f){for(var g=0,w=f;g<w.length;g++){var B=w[g];if(B.collectionId!==i)break;l.push(Ra(B.parent))}return l})},t}();function Bu(t){return Jo(t,Fl.store)}var bh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ns=function(){function t(e,i,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=l}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function sp(t,e,i){var l=t.store(er.store),u=t.store(Jr.store),f=[],g=IDBKeyRange.only(i.batchId),w=0,B=l.$t({range:g},function(mt,Ct,Gt){return w++,Gt.delete()});f.push(B.next(function(){nn(1===w)}));for(var X=[],le=0,Ce=i.mutations;le<Ce.length;le++){var Le=Ce[le],pt=Jr.key(e,Le.key.path,i.batchId);f.push(u.delete(pt)),X.push(Le.key)}return qt.waitFor(f).next(function(){return X})}function Vu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ot();e=t.noDocument}return JSON.stringify(e).length}Ns.DEFAULT_COLLECTION_PERCENTILE=10,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ns.DEFAULT=new Ns(41943040,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ns.DISABLED=new Ns(-1,0,0);var ap=function(){function t(e,i,l,u){this.userId=e,this.R=i,this.Ut=l,this.referenceDelegate=u,this.Kt={}}return t.Qt=function(e,i,l,u){return nn(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",i,l,u)},t.prototype.checkEmpty=function(e){var i=!0,l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return es(e).$t({index:er.userMutationsIndex,range:l},function(u,f,g){i=!1,g.done()}).next(function(){return i})},t.prototype.addMutationBatch=function(e,i,l,u){var f=this,g=Ll(e),w=es(e);return w.add({}).next(function(B){nn("number"==typeof B);for(var X=new Pu(B,i,l,u),le=function(Xt,vn,gn){var ri=gn.baseMutations.map(function(Ai){return xu(Xt.Lt,Ai)}),wn=gn.mutations.map(function(Ai){return xu(Xt.Lt,Ai)});return new er(vn,gn.batchId,gn.localWriteTime.toMillis(),ri,wn)}(f.R,f.userId,X),Ce=[],Le=new Mr(function(Xt,vn){return Ln(Xt.canonicalString(),vn.canonicalString())}),pt=0,mt=u;pt<mt.length;pt++){var Ct=mt[pt],Gt=Jr.key(f.userId,Ct.key.path,B);Le=Le.add(Ct.key.path.popLast()),Ce.push(w.put(le)),Ce.push(g.put(Gt,Jr.PLACEHOLDER))}return Le.forEach(function(Xt){Ce.push(f.Ut.addToCollectionParentIndex(e,Xt))}),e.addOnCommittedListener(function(){f.Kt[B]=X.keys()}),qt.waitFor(Ce).next(function(){return X})})},t.prototype.lookupMutationBatch=function(e,i){var l=this;return es(e).get(i).next(function(u){return u?(nn(u.userId===l.userId),Nl(l.R,u)):null})},t.prototype.jt=function(e,i){var l=this;return this.Kt[i]?qt.resolve(this.Kt[i]):this.lookupMutationBatch(e,i).next(function(u){if(u){var f=u.keys();return l.Kt[i]=f,f}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,i){var l=this,u=i+1,f=IDBKeyRange.lowerBound([this.userId,u]),g=null;return es(e).$t({index:er.userMutationsIndex,range:f},function(w,B,X){B.userId===l.userId&&(nn(B.batchId>=u),g=Nl(l.R,B)),X.done()}).next(function(){return g})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),l=-1;return es(e).$t({index:er.userMutationsIndex,range:i,reverse:!0},function(u,f,g){l=f.batchId,g.done()}).next(function(){return l})},t.prototype.getAllMutationBatches=function(e){var i=this,l=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return es(e).Nt(er.userMutationsIndex,l).next(function(u){return u.map(function(f){return Nl(i.R,f)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,i){var l=this,u=Jr.prefixForPath(this.userId,i.path),f=IDBKeyRange.lowerBound(u),g=[];return Ll(e).$t({range:f},function(w,B,X){var le=w[0],Le=w[2],pt=Ra(w[1]);if(le===l.userId&&i.path.isEqual(pt))return es(e).get(Le).next(function(mt){if(!mt)throw Ot();nn(mt.userId===l.userId),g.push(Nl(l.R,mt))});X.done()}).next(function(){return g})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,i){var l=this,u=new Mr(Ln),f=[];return i.forEach(function(g){var w=Jr.prefixForPath(l.userId,g.path),B=IDBKeyRange.lowerBound(w),X=Ll(e).$t({range:B},function(le,Ce,Le){var pt=le[0],Ct=le[2],Gt=Ra(le[1]);pt===l.userId&&g.path.isEqual(Gt)?u=u.add(Ct):Le.done()});f.push(X)}),qt.waitFor(f).next(function(){return l.Wt(e,u)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,i){var l=this,u=i.path,f=u.length+1,g=Jr.prefixForPath(this.userId,u),w=IDBKeyRange.lowerBound(g),B=new Mr(Ln);return Ll(e).$t({range:w},function(X,le,Ce){var Le=X[0],mt=X[2],Ct=Ra(X[1]);Le===l.userId&&u.isPrefixOf(Ct)?Ct.length===f&&(B=B.add(mt)):Ce.done()}).next(function(){return l.Wt(e,B)})},t.prototype.Wt=function(e,i){var l=this,u=[],f=[];return i.forEach(function(g){f.push(es(e).get(g).next(function(w){if(null===w)throw Ot();nn(w.userId===l.userId),u.push(Nl(l.R,w))}))}),qt.waitFor(f).next(function(){return u})},t.prototype.removeMutationBatch=function(e,i){var l=this;return sp(e.Mt,this.userId,i).next(function(u){return e.addOnCommittedListener(function(){l.Gt(i.batchId)}),qt.forEach(u,function(f){return l.referenceDelegate.markPotentiallyOrphaned(e,f)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var i=this;return this.checkEmpty(e).next(function(l){if(!l)return qt.resolve();var u=IDBKeyRange.lowerBound(Jr.prefixForUser(i.userId)),f=[];return Ll(e).$t({range:u},function(g,w,B){if(g[0]===i.userId){var X=Ra(g[1]);f.push(X)}else B.done()}).next(function(){nn(0===f.length)})})},t.prototype.containsKey=function(e,i){return Ch(e,this.userId,i)},t.prototype.zt=function(e){var i=this;return Dh(e).get(this.userId).next(function(l){return l||new ll(i.userId,-1,"")})},t}();function Ch(t,e,i){var l=Jr.prefixForPath(e,i.path),u=l[1],f=IDBKeyRange.lowerBound(l),g=!1;return Ll(t).$t({range:f,Ft:!0},function(w,B,X){w[0]===e&&w[1]===u&&(g=!0),X.done()}).next(function(){return g})}function es(t){return Jo(t,er.store)}function Ll(t){return Jo(t,Jr.store)}function Dh(t){return Jo(t,ll.store)}var ju=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Uu=function(){function t(e,i){this.referenceDelegate=e,this.R=i}return t.prototype.allocateTargetId=function(e){var i=this;return this.Xt(e).next(function(l){var u=new ju(l.highestTargetId);return l.highestTargetId=u.next(),i.Zt(e,l).next(function(){return l.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(i){return Xn.fromTimestamp(new fr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(i){return i.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,i,l){var u=this;return this.Xt(e).next(function(f){return f.highestListenSequenceNumber=i,l&&(f.lastRemoteSnapshotVersion=l.toTimestamp()),i>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=i),u.Zt(e,f)})},t.prototype.addTargetData=function(e,i){var l=this;return this.te(e,i).next(function(){return l.Xt(e).next(function(u){return u.targetCount+=1,l.ee(i,u),l.Zt(e,u)})})},t.prototype.updateTargetData=function(e,i){return this.te(e,i)},t.prototype.removeTargetData=function(e,i){var l=this;return this.removeMatchingKeysForTargetId(e,i.targetId).next(function(){return hc(e).delete(i.targetId)}).next(function(){return l.Xt(e)}).next(function(u){return nn(u.targetCount>0),u.targetCount-=1,l.Zt(e,u)})},t.prototype.removeTargets=function(e,i,l){var u=this,f=0,g=[];return hc(e).$t(function(w,B){var X=Qc(B);X.sequenceNumber<=i&&null===l.get(X.targetId)&&(f++,g.push(u.removeTargetData(e,X)))}).next(function(){return qt.waitFor(g)}).next(function(){return f})},t.prototype.forEachTarget=function(e,i){return hc(e).$t(function(l,u){var f=Qc(u);i(f)})},t.prototype.Xt=function(e){return wh(e).get(_s.key).next(function(i){return nn(null!==i),i})},t.prototype.Zt=function(e,i){return wh(e).put(_s.key,i)},t.prototype.te=function(e,i){return hc(e).put(Lu(this.R,i))},t.prototype.ee=function(e,i){var l=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,l=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,l=!0),l},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(i){return i.targetCount})},t.prototype.getTargetData=function(e,i){var l=Kl(i),u=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]),f=null;return hc(e).$t({range:u,index:Xo.queryTargetsIndexName},function(g,w,B){var X=Qc(w);Lc(i,X.target)&&(f=X,B.done())}).next(function(){return f})},t.prototype.addMatchingKeys=function(e,i,l){var u=this,f=[],g=ka(e);return i.forEach(function(w){var B=Fs(w.path);f.push(g.put(new po(l,B))),f.push(u.referenceDelegate.addReference(e,l,w))}),qt.waitFor(f)},t.prototype.removeMatchingKeys=function(e,i,l){var u=this,f=ka(e);return qt.forEach(i,function(g){var w=Fs(g.path);return qt.waitFor([f.delete([l,w]),u.referenceDelegate.removeReference(e,l,g)])})},t.prototype.removeMatchingKeysForTargetId=function(e,i){var l=ka(e),u=IDBKeyRange.bound([i],[i+1],!1,!0);return l.delete(u)},t.prototype.getMatchingKeysForTargetId=function(e,i){var l=IDBKeyRange.bound([i],[i+1],!1,!0),u=ka(e),f=xi();return u.$t({range:l,Ft:!0},function(g,w,B){var X=Ra(g[1]),le=new Cn(X);f=f.add(le)}).next(function(){return f})},t.prototype.containsKey=function(e,i){var l=Fs(i.path),u=IDBKeyRange.bound([l],[Bo(l)],!1,!0),f=0;return ka(e).$t({index:po.documentTargetsIndex,Ft:!0,range:u},function(g,w,B){0!==g[0]&&(f++,B.done())}).next(function(){return f>0})},t.prototype.lt=function(e,i){return hc(e).get(i).next(function(l){return l?Qc(l):null})},t}();function hc(t){return Jo(t,Xo.store)}function wh(t){return Jo(t,_s.store)}function ka(t){return Jo(t,po.store)}function ul(t){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(e){if(t.code!==S.FAILED_PRECONDITION||t.message!==Jf)throw t;return ge("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Hu(t,e){var l=t[1],f=e[1],g=Ln(t[0],e[0]);return 0===g?Ln(l,f):g}var lp=function(){function t(e){this.ne=e,this.buffer=new Mr(Hu),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var i=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(i);else{var l=this.buffer.last();Hu(i,l)<0&&(this.buffer=this.buffer.delete(l).add(i))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Gu=function(){function t(e,i){this.garbageCollector=e,this.asyncQueue=i,this.oe=!1,this.ce=null}return t.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var i=this,l=this.oe?3e5:6e4;ge("LruGarbageCollector","Garbage collection scheduled in "+l+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",l,function(){return(0,K.mG)(i,void 0,void 0,function(){var u;return(0,K.Jh)(this,function(f){switch(f.label){case 0:this.ce=null,this.oe=!0,f.label=1;case 1:return f.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return f.sent(),[3,7];case 3:return uc(u=f.sent())?(ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u),[3,6]):[3,4];case 4:return[4,ul(u)];case 5:f.sent(),f.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return f.sent(),[2]}})})})},t}(),zu=function(){function t(e,i){this.ae=e,this.params=i}return t.prototype.calculateTargetCount=function(e,i){return this.ae.he(e).next(function(l){return Math.floor(i/100*l)})},t.prototype.nthSequenceNumber=function(e,i){var l=this;if(0===i)return qt.resolve(C.o);var u=new lp(i);return this.ae.forEachTarget(e,function(f){return u.re(f.sequenceNumber)}).next(function(){return l.ae.le(e,function(f){return u.re(f)})}).next(function(){return u.maxValue})},t.prototype.removeTargets=function(e,i,l){return this.ae.removeTargets(e,i,l)},t.prototype.removeOrphanedDocuments=function(e,i){return this.ae.removeOrphanedDocuments(e,i)},t.prototype.collect=function(e,i){var l=this;return-1===this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),qt.resolve(bh)):this.getCacheSize(e).next(function(u){return u<l.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector","Garbage collection skipped; Cache size "+u+" is lower than threshold "+l.params.cacheSizeCollectionThreshold),bh):l.fe(e,i)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,i){var l,u,f,g,w,B,X,le=this,Ce=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(Le){return Le>le.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+le.params.maximumSequenceNumbersToCollect+" from "+Le),u=le.params.maximumSequenceNumbersToCollect):u=Le,g=Date.now(),le.nthSequenceNumber(e,u)}).next(function(Le){return l=Le,w=Date.now(),le.removeTargets(e,l,i)}).next(function(Le){return f=Le,B=Date.now(),le.removeOrphanedDocuments(e,l)}).next(function(Le){return X=Date.now(),Se()<=Xe.in.DEBUG&&ge("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(g-Ce)+"ms\n\tDetermined least recently used "+u+" in "+(w-g)+"ms\n\tRemoved "+f+" targets in "+(B-w)+"ms\n\tRemoved "+Le+" documents in "+(X-B)+"ms\nTotal Duration: "+(X-Ce)+"ms"),qt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Le})})},t}(),cp=function(){function t(e,i){this.db=e,this.garbageCollector=new zu(this,i)}return t.prototype.he=function(e){var i=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(l){return i.next(function(u){return l+u})})},t.prototype.de=function(e){var i=0;return this.le(e,function(l){i++}).next(function(){return i})},t.prototype.forEachTarget=function(e,i){return this.db.getTargetCache().forEachTarget(e,i)},t.prototype.le=function(e,i){return this.we(e,function(l,u){return i(u)})},t.prototype.addReference=function(e,i,l){return fc(e,l)},t.prototype.removeReference=function(e,i,l){return fc(e,l)},t.prototype.removeTargets=function(e,i,l){return this.db.getTargetCache().removeTargets(e,i,l)},t.prototype.markPotentiallyOrphaned=function(e,i){return fc(e,i)},t.prototype._e=function(e,i){return u=i,f=!1,Dh(l=e).Ot(function(g){return Ch(l,g,u).next(function(w){return w&&(f=!0),qt.resolve(!w)})}).next(function(){return f});var l,u,f},t.prototype.removeOrphanedDocuments=function(e,i){var l=this,u=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[],g=0;return this.we(e,function(w,B){if(B<=i){var X=l._e(e,w).next(function(le){if(!le)return g++,u.getEntry(e,w).next(function(){return u.removeEntry(w),ka(e).delete([0,Fs(w.path)])})});f.push(X)}}).next(function(){return qt.waitFor(f)}).next(function(){return u.apply(e)}).next(function(){return g})},t.prototype.removeTarget=function(e,i){var l=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)},t.prototype.updateLimboDocument=function(e,i){return fc(e,i)},t.prototype.we=function(e,i){var l,u=ka(e),f=C.o;return u.$t({index:po.documentTargetsIndex},function(g,w){var X=w.path,le=w.sequenceNumber;0===g[0]?(f!==C.o&&i(new Cn(Ra(l)),f),f=le,l=X):f=C.o}).next(function(){f!==C.o&&i(new Cn(Ra(l)),f)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function fc(t,e){return ka(t).put((l=t.currentSequenceNumber,new po(0,Fs(e.path),l)));var l}var Bl=function(){function t(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}return t.prototype.get=function(e){var i=this.mapKeyFn(e),l=this.inner[i];if(void 0!==l)for(var u=0,f=l;u<f.length;u++){var g=f[u],B=g[1];if(this.equalsFn(g[0],e))return B}},t.prototype.has=function(e){return void 0!==this.get(e)},t.prototype.set=function(e,i){var l=this.mapKeyFn(e),u=this.inner[l];if(void 0!==u){for(var f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,i]);u.push([e,i])}else this.inner[l]=[[e,i]]},t.prototype.delete=function(e){var i=this.mapKeyFn(e),l=this.inner[i];if(void 0===l)return!1;for(var u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return 1===l.length?delete this.inner[i]:l.splice(u,1),!0;return!1},t.prototype.forEach=function(e){co(this.inner,function(i,l){for(var u=0,f=l;u<f.length;u++){var g=f[u];e(g[0],g[1])}})},t.prototype.isEmpty=function(){return Wa(this.inner)},t}(),$u=function(){function t(){this.changes=new Bl(function(e){return e.toString()},function(e,i){return e.isEqual(i)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var i=this.changes.get(e);return i?i.readTime:Xn.min()},t.prototype.addEntry=function(e,i){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:i})},t.prototype.removeEntry=function(e,i){void 0===i&&(i=null),this.assertNotApplied(),this.changes.set(e,{document:Lr.newInvalidDocument(e),readTime:i})},t.prototype.getEntry=function(e,i){this.assertNotApplied();var l=this.changes.get(i);return void 0!==l?qt.resolve(l.document):this.getFromCache(e,i)},t.prototype.getEntries=function(e,i){return this.getAllFromCache(e,i)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),Zc=function(){function t(e,i){this.R=e,this.Ut=i}return t.prototype.addEntry=function(e,i,l){return dl(e).put(Yu(i),l)},t.prototype.removeEntry=function(e,i){var l=dl(e),u=Yu(i);return l.delete(u)},t.prototype.updateMetadata=function(e,i){var l=this;return this.getMetadata(e).next(function(u){return u.byteSize+=i,l.me(e,u)})},t.prototype.getEntry=function(e,i){var l=this;return dl(e).get(Yu(i)).next(function(u){return l.ye(i,u)})},t.prototype.ge=function(e,i){var l=this;return dl(e).get(Yu(i)).next(function(u){return{document:l.ye(i,u),size:Vu(u)}})},t.prototype.getEntries=function(e,i){var l=this,u=gs();return this.pe(e,i,function(f,g){var w=l.ye(f,g);u=u.insert(f,w)}).next(function(){return u})},t.prototype.Ee=function(e,i){var l=this,u=gs(),f=new Vr(Cn.comparator);return this.pe(e,i,function(g,w){var B=l.ye(g,w);u=u.insert(g,B),f=f.insert(g,Vu(w))}).next(function(){return{documents:u,Te:f}})},t.prototype.pe=function(e,i,l){if(i.isEmpty())return qt.resolve();var u=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),f=i.getIterator(),g=f.getNext();return dl(e).$t({range:u},function(w,B,X){for(var le=Cn.fromSegments(w);g&&Cn.comparator(g,le)<0;)l(g,null),g=f.getNext();g&&g.isEqual(le)&&(l(g,B),g=f.hasNext()?f.getNext():null),g?X.Ct(g.path.toArray()):X.done()}).next(function(){for(;g;)l(g,null),g=f.hasNext()?f.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,i,l){var u=this,f=gs(),g=i.path.length+1,w={};if(l.isEqual(Xn.min())){var B=i.path.toArray();w.range=IDBKeyRange.lowerBound(B)}else{var X=i.path.toArray(),le=Nu(l);w.range=IDBKeyRange.lowerBound([X,le],!0),w.index=tr.collectionReadTimeIndex}return dl(e).$t(w,function(Ce,Le,pt){if(Ce.length===g){var mt=qc(u.R,Le);i.path.isPrefixOf(mt.key.path)?ra(i,mt)&&(f=f.insert(mt.key,mt)):pt.done()}}).next(function(){return f})},t.prototype.newChangeBuffer=function(e){return new tg(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(i){return i.byteSize})},t.prototype.getMetadata=function(e){return Eh(e).get(ca.key).next(function(i){return nn(!!i),i})},t.prototype.me=function(e,i){return Eh(e).put(ca.key,i)},t.prototype.ye=function(e,i){if(i){var l=qc(this.R,i);if(!l.isNoDocument()||!l.version.isEqual(Xn.min()))return l}return Lr.newInvalidDocument(e)},t}(),tg=function(t){function e(i,l){var u=this;return(u=t.call(this)||this).Ie=i,u.trackRemovals=l,u.Ae=new Bl(function(f){return f.toString()},function(f,g){return f.isEqual(g)}),u}return(0,K.ZT)(e,t),e.prototype.applyChanges=function(i){var l=this,u=[],f=0,g=new Mr(function(w,B){return Ln(w.canonicalString(),B.canonicalString())});return this.changes.forEach(function(w,B){var X=l.Ae.get(w);if(B.document.isValidDocument()){var le=Fu(l.Ie.R,B.document,l.getReadTime(w));g=g.add(w.path.popLast());var Ce=Vu(le);f+=Ce-X,u.push(l.Ie.addEntry(i,w,le))}else if(f-=X,l.trackRemovals){var Le=Fu(l.Ie.R,Lr.newNoDocument(w,Xn.min()),l.getReadTime(w));u.push(l.Ie.addEntry(i,w,Le))}else u.push(l.Ie.removeEntry(i,w))}),g.forEach(function(w){u.push(l.Ie.Ut.addToCollectionParentIndex(i,w))}),u.push(this.Ie.updateMetadata(i,f)),qt.waitFor(u)},e.prototype.getFromCache=function(i,l){var u=this;return this.Ie.ge(i,l).next(function(f){return u.Ae.set(l,f.size),f.document})},e.prototype.getAllFromCache=function(i,l){var u=this;return this.Ie.Ee(i,l).next(function(f){var g=f.documents;return f.Te.forEach(function(w,B){u.Ae.set(w,B)}),g})},e}($u);function Eh(t){return Jo(t,ca.store)}function dl(t){return Jo(t,tr.store)}function Yu(t){return t.path.toArray()}var up=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,i,l,u){var f=this;nn(l<u&&l>=0&&u<=11);var B,g=new tp("createOrUpgrade",i);l<1&&u>=1&&(e.createObjectStore(Vo.store),(B=e).createObjectStore(ll.store,{keyPath:ll.keyPath}),B.createObjectStore(er.store,{keyPath:er.keyPath,autoIncrement:!0}).createIndex(er.userMutationsIndex,er.userMutationsKeyPath,{unique:!0}),B.createObjectStore(Jr.store),Wu(e),function(B){B.createObjectStore(tr.store)}(e));var w=qt.resolve();return l<3&&u>=3&&(0!==l&&(function(B){B.deleteObjectStore(po.store),B.deleteObjectStore(Xo.store),B.deleteObjectStore(_s.store)}(e),Wu(e)),w=w.next(function(){return function(B){var X=B.store(_s.store),le=new _s(0,0,Xn.min().toTimestamp(),0);return X.put(_s.key,le)}(g)})),l<4&&u>=4&&(0!==l&&(w=w.next(function(){return function(B,X){return X.store(er.store).Nt().next(function(le){B.deleteObjectStore(er.store),B.createObjectStore(er.store,{keyPath:er.keyPath,autoIncrement:!0}).createIndex(er.userMutationsIndex,er.userMutationsKeyPath,{unique:!0});var Ce=X.store(er.store),Le=le.map(function(pt){return Ce.put(pt)});return qt.waitFor(Le)})}(e,g)})),w=w.next(function(){!function(B){B.createObjectStore(ua.store,{keyPath:ua.keyPath})}(e)})),l<5&&u>=5&&(w=w.next(function(){return f.Re(g)})),l<6&&u>=6&&(w=w.next(function(){return function(B){B.createObjectStore(ca.store)}(e),f.be(g)})),l<7&&u>=7&&(w=w.next(function(){return f.ve(g)})),l<8&&u>=8&&(w=w.next(function(){return f.Pe(e,g)})),l<9&&u>=9&&(w=w.next(function(){(function(B){B.objectStoreNames.contains("remoteDocumentChanges")&&B.deleteObjectStore("remoteDocumentChanges")})(e),function(B){var X=B.objectStore(tr.store);X.createIndex(tr.readTimeIndex,tr.readTimeIndexPath,{unique:!1}),X.createIndex(tr.collectionReadTimeIndex,tr.collectionReadTimeIndexPath,{unique:!1})}(i)})),l<10&&u>=10&&(w=w.next(function(){return f.Ve(g)})),l<11&&u>=11&&(w=w.next(function(){(function(B){B.createObjectStore(lc.store,{keyPath:lc.keyPath})})(e),function(B){B.createObjectStore(cc.store,{keyPath:cc.keyPath})}(e)})),w},t.prototype.be=function(e){var i=0;return e.store(tr.store).$t(function(l,u){i+=Vu(u)}).next(function(){var l=new ca(i);return e.store(ca.store).put(ca.key,l)})},t.prototype.Re=function(e){var i=this,l=e.store(ll.store),u=e.store(er.store);return l.Nt().next(function(f){return qt.forEach(f,function(g){var w=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return u.Nt(er.userMutationsIndex,w).next(function(B){return qt.forEach(B,function(X){nn(X.userId===g.userId);var le=Nl(i.R,X);return sp(e,g.userId,le).next(function(){})})})})})},t.prototype.ve=function(e){var i=e.store(po.store),l=e.store(tr.store);return e.store(_s.store).get(_s.key).next(function(u){var f=[];return l.$t(function(g,w){var B=new fi(g),X=[0,Fs(B)];f.push(i.get(X).next(function(le){return le?qt.resolve():i.put(new po(0,Fs(B),u.highestListenSequenceNumber))}))}).next(function(){return qt.waitFor(f)})})},t.prototype.Pe=function(e,i){e.createObjectStore(Fl.store,{keyPath:Fl.keyPath});var l=i.store(Fl.store),u=new yh,f=function(g){if(u.add(g)){var w=g.lastSegment(),B=g.popLast();return l.put({collectionId:w,parent:Fs(B)})}};return i.store(tr.store).$t({Ft:!0},function(g,w){var B=new fi(g);return f(B.popLast())}).next(function(){return i.store(Jr.store).$t({Ft:!0},function(g,w){var X=Ra(g[1]);return f(X.popLast())})})},t.prototype.Ve=function(e){var i=this,l=e.store(Xo.store);return l.$t(function(u,f){var g=Qc(f),w=Lu(i.R,g);return l.put(w)})},t}();function Wu(t){t.createObjectStore(po.store,{keyPath:po.keyPath}).createIndex(po.documentTargetsIndex,po.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Xo.store,{keyPath:Xo.keyPath}).createIndex(Xo.queryTargetsIndexName,Xo.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(_s.store)}var Ku="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",J_=function(){function t(e,i,l,u,f,g,w,B,X,le){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=l,this.Se=f,this.window=g,this.document=w,this.De=X,this.Ce=le,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(Ce){return Promise.resolve()},!t.yt())throw new V(S.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cp(this,u),this.Le=i+"main",this.R=new _h(B),this.Be=new Ys(this.Le,11,new up(this.R)),this.qe=new Uu(this.referenceDelegate,this.R),this.Ut=new op,this.Ue=new Zc(this.R,this.Ut),this.Ke=new Jm,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===le&&vt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new V(S.FAILED_PRECONDITION,Ku);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(i){return e.qe.getHighestSequenceNumber(i)})}).then(function(i){e.Ne=new C(i,e.De)}).then(function(){e.xe=!0}).catch(function(i){return e.Be&&e.Be.close(),Promise.reject(i)})},t.prototype.He=function(e){var i=this;return this.Me=function(l){return(0,K.mG)(i,void 0,void 0,function(){return(0,K.Jh)(this,function(u){return this.started?[2,e(l)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var i=this;this.Be.vt(function(l){return(0,K.mG)(i,void 0,void 0,function(){return(0,K.Jh)(this,function(u){switch(u.label){case 0:return null===l.newVersion?[4,e()]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,K.mG)(i,void 0,void 0,function(){return(0,K.Jh)(this,function(l){switch(l.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(i){return qu(i).put(new ua(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(i).next(function(l){l||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(i)}).next(function(l){return e.isPrimary&&!l?e.Xe(i).next(function(){return!1}):!!l&&e.Ze(i).next(function(){return!0})})}).catch(function(i){if(uc(i))return ge("IndexedDbPersistence","Failed to extend owner lease: ",i),e.isPrimary;if(!e.allowTabSynchronization)throw i;return ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(function(i){e.isPrimary!==i&&e.Se.enqueueRetryable(function(){return e.Me(i)}),e.isPrimary=i})},t.prototype.Je=function(e){var i=this;return pc(e).get(Vo.key).next(function(l){return qt.resolve(i.tn(l))})},t.prototype.en=function(e){return qu(e).delete(this.clientId)},t.prototype.nn=function(){return(0,K.mG)(this,void 0,void 0,function(){var e,i,l,f=this;return(0,K.Jh)(this,function(g){switch(g.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(w){var B=Jo(w,ua.store);return B.Nt().next(function(X){var le=f.rn(X,18e5),Ce=X.filter(function(Le){return-1===le.indexOf(Le)});return qt.forEach(Ce,function(Le){return B.delete(Le.clientId)}).next(function(){return Ce})})}).catch(function(){return[]})]);case 1:if(e=g.sent(),this.Qe)for(i=0,l=e;i<l.length;i++)this.Qe.removeItem(this.on(l[i].clientId));g.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var i=this;return this.Ce?qt.resolve(!0):pc(e).get(Vo.key).next(function(l){if(null!==l&&i.sn(l.leaseTimestampMs,5e3)&&!i.cn(l.ownerId)){if(i.tn(l)&&i.networkEnabled)return!0;if(!i.tn(l)){if(!l.allowTabSynchronization)throw new V(S.FAILED_PRECONDITION,Ku);return!1}}return!(!i.networkEnabled||!i.inForeground)||qu(e).Nt().next(function(u){return void 0===i.rn(u,5e3).find(function(f){return!(i.clientId===f.clientId||!(!i.networkEnabled&&f.networkEnabled||!i.inForeground&&f.inForeground&&i.networkEnabled===f.networkEnabled))})})}).next(function(l){return i.isPrimary!==l&&ge("IndexedDbPersistence","Client "+(l?"is":"is not")+" eligible for a primary lease."),l})},t.prototype.shutdown=function(){return(0,K.mG)(this,void 0,void 0,function(){var e=this;return(0,K.Jh)(this,function(i){switch(i.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Vo.store,ua.store],function(l){var u=new Ou(l,C.o);return e.Xe(u).next(function(){return e.en(u)})})];case 1:return i.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,i){var l=this;return e.filter(function(u){return l.sn(u.updateTimeMs,i)&&!l.cn(u.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(i){return qu(i).Nt().next(function(l){return e.rn(l,18e5).map(function(u){return u.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return ap.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,i,l){var f,u=this;return ge("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===i?"readonly":"readwrite",Zm,function(w){return f=new Ou(w,u.Ne?u.Ne.next():C.o),"readwrite-primary"===i?u.Je(f).next(function(B){return!!B||u.Ye(f)}).next(function(B){if(!B)throw vt("Failed to obtain primary lease for action '"+e+"'."),u.isPrimary=!1,u.Se.enqueueRetryable(function(){return u.Me(!1)}),new V(S.FAILED_PRECONDITION,Jf);return l(f)}).next(function(B){return u.Ze(f).next(function(){return B})}):u.dn(f).next(function(){return l(f)})}).then(function(w){return f.raiseOnCommittedEvent(),w})},t.prototype.dn=function(e){var i=this;return pc(e).get(Vo.key).next(function(l){if(null!==l&&i.sn(l.leaseTimestampMs,5e3)&&!i.cn(l.ownerId)&&!i.tn(l)&&!(i.Ce||i.allowTabSynchronization&&l.allowTabSynchronization))throw new V(S.FAILED_PRECONDITION,Ku)})},t.prototype.Ze=function(e){var i=new Vo(this.clientId,this.allowTabSynchronization,Date.now());return pc(e).put(Vo.key,i)},t.yt=function(){return Ys.yt()},t.prototype.Xe=function(e){var i=this,l=pc(e);return l.get(Vo.key).next(function(u){return i.tn(u)?(ge("IndexedDbPersistence","Releasing primary lease."),l.delete(Vo.key)):qt.resolve()})},t.prototype.sn=function(e,i){var l=Date.now();return!(e<l-i||e>l&&(vt("Detected an update time that is in the future: "+e+" > "+l),1))},t.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,i=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){i.un(),(0,fe.G6)()&&navigator.appVersion.match("Version/14")&&i.Se.enterRestrictedMode(!0),i.Se.enqueueAndForget(function(){return i.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var i;try{var l=null!==(null===(i=this.Qe)||void 0===i?void 0:i.getItem(this.on(e)));return ge("IndexedDbPersistence","Client '"+e+"' "+(l?"is":"is not")+" zombied in LocalStorage"),l}catch(u){return vt("IndexedDbPersistence","Failed to get zombied client id.",u),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){vt("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function pc(t){return Jo(t,Vo.store)}function qu(t){return Jo(t,ua.store)}function Qu(t,e){var i=t.projectId;return t.isDefaultDatabase||(i+="."+t.database),"firestore/"+e+"/"+i+"/"}var ng=function(t,e){this.progress=t,this.wn=e},dp=function(){function t(e,i,l){this.Ue=e,this._n=i,this.Ut=l}return t.prototype.mn=function(e,i){var l=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,i).next(function(u){return l.yn(e,i,u)})},t.prototype.yn=function(e,i,l){return this.Ue.getEntry(e,i).next(function(u){for(var f=0,g=l;f<g.length;f++)g[f].applyToLocalView(u);return u})},t.prototype.gn=function(e,i){e.forEach(function(l,u){for(var f=0,g=i;f<g.length;f++)g[f].applyToLocalView(u)})},t.prototype.pn=function(e,i){var l=this;return this.Ue.getEntries(e,i).next(function(u){return l.En(e,u).next(function(){return u})})},t.prototype.En=function(e,i){var l=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,i).next(function(u){return l.gn(i,u)})},t.prototype.getDocumentsMatchingQuery=function(e,i,l){return Cn.isDocumentKey((u=i).path)&&null===u.collectionGroup&&0===u.filters.length?this.Tn(e,i.path):Eu(i)?this.In(e,i,l):this.An(e,i,l);var u},t.prototype.Tn=function(e,i){return this.mn(e,new Cn(i)).next(function(l){var u=xa();return l.isFoundDocument()&&(u=u.insert(l.key,l)),u})},t.prototype.In=function(e,i,l){var u=this,f=i.collectionGroup,g=xa();return this.Ut.getCollectionParents(e,f).next(function(w){return qt.forEach(w,function(B){var le,Ce,X=(le=i,Ce=B.child(f),new na(Ce,null,le.explicitOrderBy.slice(),le.filters.slice(),le.limit,le.limitType,le.startAt,le.endAt));return u.An(e,X,l).next(function(le){le.forEach(function(Ce,Le){g=g.insert(Ce,Le)})})}).next(function(){return g})})},t.prototype.An=function(e,i,l){var u,f,g=this;return this.Ue.getDocumentsMatchingQuery(e,i,l).next(function(w){return u=w,g._n.getAllMutationBatchesAffectingQuery(e,i)}).next(function(w){return g.Rn(e,f=w,u).next(function(B){u=B;for(var X=0,le=f;X<le.length;X++)for(var Ce=le[X],Le=0,pt=Ce.mutations;Le<pt.length;Le++){var mt=pt[Le],Ct=mt.key,Gt=u.get(Ct);null==Gt&&(Gt=Lr.newInvalidDocument(Ct),u=u.insert(Ct,Gt)),kl(mt,Gt,Ce.localWriteTime),Gt.isFoundDocument()||(u=u.remove(Ct))}})}).next(function(){return u.forEach(function(w,B){ra(i,B)||(u=u.remove(w))}),u})},t.prototype.Rn=function(e,i,l){for(var u=xi(),f=0,g=i;f<g.length;f++)for(var w=0,B=g[f].mutations;w<B.length;w++){var X=B[w];X instanceof sa&&null===l.get(X.key)&&(u=u.add(X.key))}var le=l;return this.Ue.getEntries(e,u).next(function(Ce){return Ce.forEach(function(Le,pt){pt.isFoundDocument()&&(le=le.insert(Le,pt))}),le})},t}(),qs=function(){function t(e,i,l,u){this.targetId=e,this.fromCache=i,this.bn=l,this.vn=u}return t.Pn=function(e,i){for(var l=xi(),u=xi(),f=0,g=i.docChanges;f<g.length;f++){var w=g[f];switch(w.type){case 0:l=l.add(w.doc.key);break;case 1:u=u.add(w.doc.key)}}return new t(e,i.fromCache,l,u)},t}(),hp=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,i,l,u){var g,f=this;return 0===(g=i).filters.length&&null===g.limit&&null==g.startAt&&null==g.endAt&&(0===g.explicitOrderBy.length||1===g.explicitOrderBy.length&&g.explicitOrderBy[0].field.isKeyField())||l.isEqual(Xn.min())?this.Dn(e,i):this.Sn.pn(e,u).next(function(g){var w=f.Cn(i,g);return(Il(i)||el(i))&&f.Nn(i.limitType,w,u,l)?f.Dn(e,i):(Se()<=Xe.in.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Uc(i)),f.Sn.getDocumentsMatchingQuery(e,i,l).next(function(B){return w.forEach(function(X){B=B.insert(X.key,X)}),B}))})},t.prototype.Cn=function(e,i){var l=new Mr(il(e));return i.forEach(function(u,f){ra(e,f)&&(l=l.add(f))}),l},t.prototype.Nn=function(e,i,l,u){if(l.size!==i.size)return!0;var f="F"===e?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)},t.prototype.Dn=function(e,i){return Se()<=Xe.in.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Uc(i)),this.Sn.getDocumentsMatchingQuery(e,i,Xn.min())},t}(),fp=function(){function t(e,i,l,u){this.persistence=e,this.xn=i,this.R=u,this.kn=new Vr(Ln),this.Fn=new Bl(function(f){return Kl(f)},Lc),this.$n=Xn.min(),this._n=e.getMutationQueue(l),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new dp(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var i=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(l){return e.collect(l,i.kn)})},t}();function pp(t,e,i,l){return new fp(t,e,i,l)}function mp(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,l,u,f;return(0,K.Jh)(this,function(g){switch(g.label){case 0:return i=Ut(t),l=i._n,u=i.Mn,[4,i.persistence.runTransaction("Handle user change","readonly",function(w){var B;return i._n.getAllMutationBatches(w).next(function(X){return B=X,l=i.persistence.getMutationQueue(e),u=new dp(i.On,l,i.persistence.getIndexManager()),l.getAllMutationBatches(w)}).next(function(X){for(var le=[],Ce=[],Le=xi(),pt=0,mt=B;pt<mt.length;pt++){var Ct=mt[pt];le.push(Ct.batchId);for(var Gt=0,Xt=Ct.mutations;Gt<Xt.length;Gt++)Le=Le.add(Xt[Gt].key)}for(var gn=0,ri=X;gn<ri.length;gn++){var wn=ri[gn];Ce.push(wn.batchId);for(var Ai=0,Ur=wn.mutations;Ai<Ur.length;Ai++)Le=Le.add(Ur[Ai].key)}return u.pn(w,Le).next(function(rs){return{Ln:rs,removedBatchIds:le,addedBatchIds:Ce}})})})];case 1:return f=g.sent(),[2,(i._n=l,i.Mn=u,i.xn.Vn(i.Mn),f)]}})})}function ig(t,e){var i=Ut(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(l){var g,w,B,X,le,Ce,Le,u=e.batch.keys(),f=i.On.newChangeBuffer({trackRemovals:!0});return(g=i,w=l,B=e,X=f,le=B.batch,Ce=le.keys(),Le=qt.resolve(),Ce.forEach(function(pt){Le=Le.next(function(){return X.getEntry(w,pt)}).next(function(mt){var Ct=B.docVersions.get(pt);nn(null!==Ct),mt.version.compareTo(Ct)<0&&(le.applyToRemoteDocument(mt,B),mt.isValidDocument()&&X.addEntry(mt,B.commitVersion))})}),Le.next(function(){return g._n.removeMutationBatch(w,le)})).next(function(){return f.apply(l)}).next(function(){return i._n.performConsistencyCheck(l)}).next(function(){return i.Mn.pn(l,u)})})}function gp(t){var e=Ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(i){return e.qe.getLastRemoteSnapshotVersion(i)})}function _p(t,e){var i=Ut(t),l=e.snapshotVersion,u=i.kn;return i.persistence.runTransaction("Apply remote event","readwrite-primary",function(f){var g=i.On.newChangeBuffer({trackRemovals:!0});u=i.kn;var w=[];e.targetChanges.forEach(function(le,Ce){var Ct,Gt,Xt,Le=u.get(Ce);if(Le){w.push(i.qe.removeMatchingKeys(f,le.removedDocuments,Ce).next(function(){return i.qe.addMatchingKeys(f,le.addedDocuments,Ce)}));var pt=le.resumeToken;if(pt.approximateByteSize()>0){var mt=Le.withResumeToken(pt,l).withSequenceNumber(f.currentSequenceNumber);u=u.insert(Ce,mt),Ct=Le,Xt=le,nn((Gt=mt).resumeToken.approximateByteSize()>0),(0===Ct.resumeToken.approximateByteSize()||Gt.snapshotVersion.toMicroseconds()-Ct.snapshotVersion.toMicroseconds()>=3e8||Xt.addedDocuments.size+Xt.modifiedDocuments.size+Xt.removedDocuments.size>0)&&w.push(i.qe.updateTargetData(f,mt))}}});var B=gs();if(e.documentUpdates.forEach(function(le,Ce){e.resolvedLimboDocuments.has(le)&&w.push(i.persistence.referenceDelegate.updateLimboDocument(f,le))}),w.push(vp(f,g,e.documentUpdates,l,void 0).next(function(le){B=le})),!l.isEqual(Xn.min())){var X=i.qe.getLastRemoteSnapshotVersion(f).next(function(le){return i.qe.setTargetsMetadata(f,f.currentSequenceNumber,l)});w.push(X)}return qt.waitFor(w).next(function(){return g.apply(f)}).next(function(){return i.Mn.En(f,B)}).next(function(){return B})}).then(function(f){return i.kn=u,f})}function vp(t,e,i,l,u){var f=xi();return i.forEach(function(g){return f=f.add(g)}),e.getEntries(t,f).next(function(g){var w=gs();return i.forEach(function(B,X){var le=g.get(B),Ce=(null==u?void 0:u.get(B))||l;X.isNoDocument()&&X.version.isEqual(Xn.min())?(e.removeEntry(B,Ce),w=w.insert(B,X)):!le.isValidDocument()||X.version.compareTo(le.version)>0||0===X.version.compareTo(le.version)&&le.hasPendingWrites?(e.addEntry(X,Ce),w=w.insert(B,X)):ge("LocalStore","Ignoring outdated watch update for ",B,". Current version:",le.version," Watch version:",X.version)}),w})}function rg(t,e){var i=Ut(t);return i.persistence.runTransaction("Get next mutation batch","readonly",function(l){return void 0===e&&(e=-1),i._n.getNextMutationBatchAfterBatchId(l,e)})}function mc(t,e){var i=Ut(t);return i.persistence.runTransaction("Allocate target","readwrite",function(l){var u;return i.qe.getTargetData(l,e).next(function(f){return f?qt.resolve(u=f):i.qe.allocateTargetId(l).next(function(g){return u=new Kc(e,g,0,l.currentSequenceNumber),i.qe.addTargetData(l,u).next(function(){return u})})})}).then(function(l){var u=i.kn.get(l.targetId);return(null===u||l.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.kn=i.kn.insert(l.targetId,l),i.Fn.set(e,l.targetId)),l})}function jn(t,e,i){return(0,K.mG)(this,void 0,void 0,function(){var l,u,f,g;return(0,K.Jh)(this,function(w){switch(w.label){case 0:l=Ut(t),u=l.kn.get(e),f=i?"readwrite":"readwrite-primary",w.label=1;case 1:return w.trys.push([1,4,,5]),i?[3,3]:[4,l.persistence.runTransaction("Release target",f,function(B){return l.persistence.referenceDelegate.removeTarget(B,u)})];case 2:w.sent(),w.label=3;case 3:return[3,5];case 4:if(!uc(g=w.sent()))throw g;return ge("LocalStore","Failed to update sequence numbers for target "+e+": "+g),[3,5];case 5:return l.kn=l.kn.remove(e),l.Fn.delete(u.target),[2]}})})}function Xc(t,e,i){var l=Ut(t),u=Xn.min(),f=xi();return l.persistence.runTransaction("Execute query","readonly",function(g){return(w=l,B=g,X=Zr(e),le=Ut(w),Ce=le.Fn.get(X),void 0!==Ce?qt.resolve(le.kn.get(Ce)):le.qe.getTargetData(B,X)).next(function(w){if(w)return u=w.lastLimboFreeSnapshotVersion,l.qe.getMatchingKeysForTargetId(g,w.targetId).next(function(B){f=B})}).next(function(){return l.xn.getDocumentsMatchingQuery(g,e,i?u:Xn.min(),i?f:xi())}).next(function(w){return{documents:w,Bn:f}});var w,B,X,le,Ce})}function Mh(t,e){var i=Ut(t),l=Ut(i.qe),u=i.kn.get(e);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",function(f){return l.lt(f,e).next(function(g){return g?g.target:null})})}function Th(t){var e=Ut(t);return e.persistence.runTransaction("Get new document changes","readonly",function(i){return u=i,f=e.$n,g=Ut(e.On),w=gs(),B=Nu(f),X=dl(u),le=IDBKeyRange.lowerBound(B,!0),X.$t({index:tr.readTimeIndex,range:le},function(Ce,Le){var pt=qc(g.R,Le);w=w.insert(pt.key,pt),B=Le.readTime}).next(function(){return{wn:w,readTime:Xm(B)}});var u,f,g,w,B,X,le}).then(function(i){var l=i.wn;return e.$n=i.readTime,l})}function Zu(t){return(0,K.mG)(this,void 0,void 0,function(){var e;return(0,K.Jh)(this,function(i){return[2,(e=Ut(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(l){return f=dl(l),g=Xn.min(),f.$t({index:tr.readTimeIndex,reverse:!0},function(w,B,X){B.readTime&&(g=Xm(B.readTime)),X.done()}).next(function(){return g});var f,g}).then(function(l){e.$n=l})]})})}function Qs(t,e,i,l){return(0,K.mG)(this,void 0,void 0,function(){var u,f,g,w,B,X,le,Ce,Le,pt;return(0,K.Jh)(this,function(mt){switch(mt.label){case 0:for(u=Ut(t),f=xi(),g=gs(),w=Os(),B=0,X=i;B<X.length;B++)Ce=e.qn((le=X[B]).metadata.name),le.document&&(f=f.add(Ce)),g=g.insert(Ce,e.Un(le)),w=w.insert(Ce,e.Kn(le.metadata.readTime));return Le=u.On.newChangeBuffer({trackRemovals:!0}),[4,mc(u,(Ct=l,Zr(Ma(fi.fromString("__bundle__/docs/"+Ct)))))];case 1:return pt=mt.sent(),[2,u.persistence.runTransaction("Apply bundle documents","readwrite",function(Ct){return vp(Ct,Le,g,Xn.min(),w).next(function(Gt){return Le.apply(Ct),Gt}).next(function(Gt){return u.qe.removeMatchingKeysForTargetId(Ct,pt.targetId).next(function(){return u.qe.addMatchingKeys(Ct,f,pt.targetId)}).next(function(){return u.Mn.En(Ct,Gt)}).next(function(){return Gt})})})]}var Ct})})}function yp(t,e,i){return void 0===i&&(i=xi()),(0,K.mG)(this,void 0,void 0,function(){var l,u;return(0,K.Jh)(this,function(f){switch(f.label){case 0:return[4,mc(t,Zr(vh(e.bundledQuery)))];case 1:return l=f.sent(),[2,(u=Ut(t)).persistence.runTransaction("Save named query","readwrite",function(g){var w=_n(e.readTime);if(l.snapshotVersion.compareTo(w)>=0)return u.Ke.saveNamedQuery(g,e);var B=l.withResumeToken(uo.EMPTY_BYTE_STRING,w);return u.kn=u.kn.insert(B.targetId,B),u.qe.updateTargetData(g,B).next(function(){return u.qe.removeMatchingKeysForTargetId(g,l.targetId)}).next(function(){return u.qe.addMatchingKeys(g,i,l.targetId)}).next(function(){return u.Ke.saveNamedQuery(g,e)})})]}})})}var og=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,i){return qt.resolve(this.Qn.get(i))},t.prototype.saveBundleMetadata=function(e,i){var l;return this.Qn.set(i.id,{id:(l=i).id,version:l.version,createTime:_n(l.createTime)}),qt.resolve()},t.prototype.getNamedQuery=function(e,i){return qt.resolve(this.jn.get(i))},t.prototype.saveNamedQuery=function(e,i){return this.jn.set(i.name,{name:(l=i).name,query:vh(l.bundledQuery),readTime:_n(l.readTime)}),qt.resolve();var l},t}(),Jc=function(){function t(){this.Wn=new Mr(Zi.Gn),this.zn=new Mr(Zi.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,i){var l=new Zi(e,i);this.Wn=this.Wn.add(l),this.zn=this.zn.add(l)},t.prototype.Jn=function(e,i){var l=this;e.forEach(function(u){return l.addReference(u,i)})},t.prototype.removeReference=function(e,i){this.Yn(new Zi(e,i))},t.prototype.Xn=function(e,i){var l=this;e.forEach(function(u){return l.removeReference(u,i)})},t.prototype.Zn=function(e){var i=this,l=new Cn(new fi([])),u=new Zi(l,e),f=new Zi(l,e+1),g=[];return this.zn.forEachInRange([u,f],function(w){i.Yn(w),g.push(w.key)}),g},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(i){return e.Yn(i)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var i=new Cn(new fi([])),l=new Zi(i,e),u=new Zi(i,e+1),f=xi();return this.zn.forEachInRange([l,u],function(g){f=f.add(g.key)}),f},t.prototype.containsKey=function(e){var i=new Zi(e,0),l=this.Wn.firstAfterOrEqual(i);return null!==l&&e.isEqual(l.key)},t}(),Zi=function(){function t(e,i){this.key=e,this.ns=i}return t.Gn=function(e,i){return Cn.comparator(e.key,i.key)||Ln(e.ns,i.ns)},t.Hn=function(e,i){return Ln(e.ns,i.ns)||Cn.comparator(e.key,i.key)},t}(),Sh=function(){function t(e,i){this.Ut=e,this.referenceDelegate=i,this._n=[],this.ss=1,this.rs=new Mr(Zi.Gn)}return t.prototype.checkEmpty=function(e){return qt.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(e,i,l,u){var f=this.ss;this.ss++;var g=new Pu(f,i,l,u);this._n.push(g);for(var w=0,B=u;w<B.length;w++){var X=B[w];this.rs=this.rs.add(new Zi(X.key,f)),this.Ut.addToCollectionParentIndex(e,X.key.path.popLast())}return qt.resolve(g)},t.prototype.lookupMutationBatch=function(e,i){return qt.resolve(this.os(i))},t.prototype.getNextMutationBatchAfterBatchId=function(e,i){var u=this.cs(i+1),f=u<0?0:u;return qt.resolve(this._n.length>f?this._n[f]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return qt.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return qt.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,i){var l=this,u=new Zi(i,0),f=new Zi(i,Number.POSITIVE_INFINITY),g=[];return this.rs.forEachInRange([u,f],function(w){var B=l.os(w.ns);g.push(B)}),qt.resolve(g)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,i){var l=this,u=new Mr(Ln);return i.forEach(function(f){var g=new Zi(f,0),w=new Zi(f,Number.POSITIVE_INFINITY);l.rs.forEachInRange([g,w],function(B){u=u.add(B.ns)})}),qt.resolve(this.us(u))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,i){var l=i.path,u=l.length+1,f=l;Cn.isDocumentKey(f)||(f=f.child(""));var g=new Zi(new Cn(f),0),w=new Mr(Ln);return this.rs.forEachWhile(function(B){var X=B.key.path;return!!l.isPrefixOf(X)&&(X.length===u&&(w=w.add(B.ns)),!0)},g),qt.resolve(this.us(w))},t.prototype.us=function(e){var i=this,l=[];return e.forEach(function(u){var f=i.os(u);null!==f&&l.push(f)}),l},t.prototype.removeMutationBatch=function(e,i){var l=this;nn(0===this.hs(i.batchId,"removed")),this._n.shift();var u=this.rs;return qt.forEach(i.mutations,function(f){var g=new Zi(f.key,i.batchId);return u=u.delete(g),l.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(function(){l.rs=u})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,i){var l=new Zi(i,0),u=this.rs.firstAfterOrEqual(l);return qt.resolve(i.isEqual(u&&u.key))},t.prototype.performConsistencyCheck=function(e){return qt.resolve()},t.prototype.hs=function(e,i){return this.cs(e)},t.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},t.prototype.os=function(e){var i=this.cs(e);return i<0||i>=this._n.length?null:this._n[i]},t}(),bp=function(){function t(e,i){this.Ut=e,this.ls=i,this.docs=new Vr(Cn.comparator),this.size=0}return t.prototype.addEntry=function(e,i,l){var u=i.key,f=this.docs.get(u),g=f?f.size:0,w=this.ls(i);return this.docs=this.docs.insert(u,{document:i.clone(),size:w,readTime:l}),this.size+=w-g,this.Ut.addToCollectionParentIndex(e,u.path.popLast())},t.prototype.removeEntry=function(e){var i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)},t.prototype.getEntry=function(e,i){var l=this.docs.get(i);return qt.resolve(l?l.document.clone():Lr.newInvalidDocument(i))},t.prototype.getEntries=function(e,i){var l=this,u=gs();return i.forEach(function(f){var g=l.docs.get(f);u=u.insert(f,g?g.document.clone():Lr.newInvalidDocument(f))}),qt.resolve(u)},t.prototype.getDocumentsMatchingQuery=function(e,i,l){for(var u=gs(),f=new Cn(i.path.child("")),g=this.docs.getIteratorFrom(f);g.hasNext();){var w=g.getNext(),X=w.value,le=X.document,Ce=X.readTime;if(!i.path.isPrefixOf(w.key.path))break;Ce.compareTo(l)<=0||ra(i,le)&&(u=u.insert(le.key,le.clone()))}return qt.resolve(u)},t.prototype.fs=function(e,i){return qt.forEach(this.docs,function(l){return i(l)})},t.prototype.newChangeBuffer=function(e){return new Ah(this)},t.prototype.getSize=function(e){return qt.resolve(this.size)},t}(),Ah=function(t){function e(i){var l=this;return(l=t.call(this)||this).Ie=i,l}return(0,K.ZT)(e,t),e.prototype.applyChanges=function(i){var l=this,u=[];return this.changes.forEach(function(f,g){g.document.isValidDocument()?u.push(l.Ie.addEntry(i,g.document,l.getReadTime(f))):l.Ie.removeEntry(f)}),qt.waitFor(u)},e.prototype.getFromCache=function(i,l){return this.Ie.getEntry(i,l)},e.prototype.getAllFromCache=function(i,l){return this.Ie.getEntries(i,l)},e}($u),ev=function(){function t(e){this.persistence=e,this.ds=new Bl(function(i){return Kl(i)},Lc),this.lastRemoteSnapshotVersion=Xn.min(),this.highestTargetId=0,this.ws=0,this._s=new Jc,this.targetCount=0,this.ys=ju.Jt()}return t.prototype.forEachTarget=function(e,i){return this.ds.forEach(function(l,u){return i(u)}),qt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return qt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return qt.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),qt.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,i,l){return l&&(this.lastRemoteSnapshotVersion=l),i>this.ws&&(this.ws=i),qt.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var i=e.targetId;i>this.highestTargetId&&(this.ys=new ju(i),this.highestTargetId=i),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,i){return this.te(i),this.targetCount+=1,qt.resolve()},t.prototype.updateTargetData=function(e,i){return this.te(i),qt.resolve()},t.prototype.removeTargetData=function(e,i){return this.ds.delete(i.target),this._s.Zn(i.targetId),this.targetCount-=1,qt.resolve()},t.prototype.removeTargets=function(e,i,l){var u=this,f=0,g=[];return this.ds.forEach(function(w,B){B.sequenceNumber<=i&&null===l.get(B.targetId)&&(u.ds.delete(w),g.push(u.removeMatchingKeysForTargetId(e,B.targetId)),f++)}),qt.waitFor(g).next(function(){return f})},t.prototype.getTargetCount=function(e){return qt.resolve(this.targetCount)},t.prototype.getTargetData=function(e,i){var l=this.ds.get(i)||null;return qt.resolve(l)},t.prototype.addMatchingKeys=function(e,i,l){return this._s.Jn(i,l),qt.resolve()},t.prototype.removeMatchingKeys=function(e,i,l){this._s.Xn(i,l);var u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(function(g){f.push(u.markPotentiallyOrphaned(e,g))}),qt.waitFor(f)},t.prototype.removeMatchingKeysForTargetId=function(e,i){return this._s.Zn(i),qt.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,i){var l=this._s.es(i);return qt.resolve(l)},t.prototype.containsKey=function(e,i){return qt.resolve(this._s.containsKey(i))},t}(),Cp=function(){function t(e,i){var l=this;this.gs={},this.Ne=new C(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new ev(this),this.Ut=new eg,this.Ue=new bp(this.Ut,function(g){return l.referenceDelegate.ps(g)}),this.R=new _h(i),this.Ke=new og(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var i=this.gs[e.toKey()];return i||(i=new Sh(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=i),i},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,i,l){var u=this;ge("MemoryPersistence","Starting transaction:",e);var f=new tv(this.Ne.next());return this.referenceDelegate.Es(),l(f).next(function(g){return u.referenceDelegate.Ts(f).next(function(){return g})}).toPromise().then(function(g){return f.raiseOnCommittedEvent(),g})},t.prototype.Is=function(e,i){return qt.or(Object.values(this.gs).map(function(l){return function(){return l.containsKey(e,i)}}))},t}(),tv=function(t){function e(i){var l=this;return(l=t.call(this)||this).currentSequenceNumber=i,l}return(0,K.ZT)(e,t),e}(ep),Xu=function(){function t(e){this.persistence=e,this.As=new Jc,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ot()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,i,l){return this.As.addReference(l,i),this.vs.delete(l.toString()),qt.resolve()},t.prototype.removeReference=function(e,i,l){return this.As.removeReference(l,i),this.vs.add(l.toString()),qt.resolve()},t.prototype.markPotentiallyOrphaned=function(e,i){return this.vs.add(i.toString()),qt.resolve()},t.prototype.removeTarget=function(e,i){var l=this;this.As.Zn(i.targetId).forEach(function(f){return l.vs.add(f.toString())});var u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(e,i.targetId).next(function(f){f.forEach(function(g){return l.vs.add(g.toString())})}).next(function(){return u.removeTargetData(e,i)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var i=this,l=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qt.forEach(this.vs,function(u){var f=Cn.fromPath(u);return i.Ps(e,f).next(function(g){g||l.removeEntry(f)})}).next(function(){return i.Rs=null,l.apply(e)})},t.prototype.updateLimboDocument=function(e,i){var l=this;return this.Ps(e,i).next(function(u){u?l.vs.delete(i.toString()):l.vs.add(i.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,i){var l=this;return qt.or([function(){return qt.resolve(l.As.containsKey(i))},function(){return l.persistence.getTargetCache().containsKey(e,i)},function(){return l.persistence.Is(e,i)}])},t}(),Tr=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();function Ju(t,e){return"firestore_clients_"+t+"_"+e}function ed(t,e,i){var l="firestore_mutations_"+t+"_"+i;return e.isAuthenticated()&&(l+="_"+e.uid),l}function eu(t,e){return"firestore_targets_"+t+"_"+e}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");var sg=function(){function t(e,i,l,u){this.user=e,this.batchId=i,this.state=l,this.error=u}return t.Vs=function(e,i,l){var u,f=JSON.parse(l),g="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return g&&f.error&&(g="string"==typeof f.error.message&&"string"==typeof f.error.code)&&(u=new V(f.error.code,f.error.message)),g?new t(e,i,f.state,u):(vt("SharedClientState","Failed to parse mutation state for ID '"+i+"': "+l),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),Ih=function(){function t(e,i,l){this.targetId=e,this.state=i,this.error=l}return t.Vs=function(e,i){var l,u=JSON.parse(i),f="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return f&&u.error&&(f="string"==typeof u.error.message&&"string"==typeof u.error.code)&&(l=new V(u.error.code,u.error.message)),f?new t(e,u.state,l):(vt("SharedClientState","Failed to parse target state for ID '"+e+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),Dp=function(){function t(e,i){this.clientId=e,this.activeTargetIds=i}return t.Vs=function(e,i){for(var l=JSON.parse(i),u="object"==typeof l&&l.activeTargetIds instanceof Array,f=nc(),g=0;u&&g<l.activeTargetIds.length;++g)u=Sl(l.activeTargetIds[g]),f=f.add(l.activeTargetIds[g]);return u?new t(e,f):(vt("SharedClientState","Failed to parse client data for instance '"+e+"': "+i),null)},t}(),ag=function(){function t(e,i){this.clientId=e,this.onlineState=i}return t.Vs=function(e){var i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new t(i.clientId,i.onlineState):(vt("SharedClientState","Failed to parse online state: "+e),null)},t}(),xh=function(){function t(){this.activeTargetIds=nc()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),td=function(){function t(e,i,l,u,f){this.window=e,this.Se=i,this.persistenceKey=l,this.Ns=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Vr(Ln),this.started=!1,this.$s=[];var g=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Os=Ju(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new xh),this.Ls=new RegExp("^firestore_clients_"+g+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+g+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+g+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(w){return"firestore_bundle_loaded_"+w}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return(0,K.mG)(this,void 0,void 0,function(){var e,i,l,u,f,g,w,B,X,le,Le=this;return(0,K.Jh)(this,function(pt){switch(pt.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=pt.sent(),i=0,l=e;i<l.length;i++)(u=l[i])!==this.Ns&&(f=this.getItem(Ju(this.persistenceKey,u)))&&(g=Dp.Vs(u,f))&&(this.Fs=this.Fs.insert(g.clientId,g));for(this.Qs(),(w=this.storage.getItem(this.Us))&&(B=this.js(w))&&this.Ws(B),X=0,le=this.$s;X<le.length;X++)this.ks(le[X]);return this.$s=[],this.window.addEventListener("pagehide",function(){return Le.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var i=!1;return this.Fs.forEach(function(l,u){u.activeTargetIds.has(e)&&(i=!0)}),i},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,i,l){this.zs(e,i,l),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var i="not-current";if(this.isActiveQueryTarget(e)){var l=this.storage.getItem(eu(this.persistenceKey,e));if(l){var u=Ih.Vs(e,l);u&&(i=u.state)}}return this.Js.Ds(e),this.Qs(),i},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(eu(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,i,l){this.Ys(e,i,l)},t.prototype.handleUserChange=function(e,i,l){var u=this;i.forEach(function(f){u.Hs(f)}),this.currentUser=e,l.forEach(function(f){u.addPendingMutation(f)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var i=this.storage.getItem(e);return ge("SharedClientState","READ",e,i),i},t.prototype.setItem=function(e,i){ge("SharedClientState","SET",e,i),this.storage.setItem(e,i)},t.prototype.removeItem=function(e){ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var i=this,l=e;if(l.storageArea===this.storage){if(ge("SharedClientState","EVENT",l.key,l.newValue),l.key===this.Os)return void vt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,K.mG)(i,void 0,void 0,function(){var u,f,g,w,B,X;return(0,K.Jh)(this,function(le){if(this.started){if(null!==l.key)if(this.Ls.test(l.key)){if(null==l.newValue)return u=this.ti(l.key),[2,this.ei(u,null)];if(f=this.ni(l.key,l.newValue))return[2,this.ei(f.clientId,f)]}else if(this.Bs.test(l.key)){if(null!==l.newValue&&(g=this.si(l.key,l.newValue)))return[2,this.ii(g)]}else if(this.qs.test(l.key)){if(null!==l.newValue&&(w=this.ri(l.key,l.newValue)))return[2,this.oi(w)]}else if(l.key===this.Us){if(null!==l.newValue&&(B=this.js(l.newValue)))return[2,this.Ws(B)]}else if(l.key===this.Ms)(X=function(Ce){var Le=C.o;if(null!=Ce)try{var pt=JSON.parse(Ce);nn("number"==typeof pt),Le=pt}catch(mt){vt("SharedClientState","Failed to read sequence number from WebStorage",mt)}return Le}(l.newValue))!==C.o&&this.sequenceNumberHandler(X);else if(l.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(l);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,i,l){var u=new sg(this.currentUser,e,i,l),f=ed(this.persistenceKey,this.currentUser,e);this.setItem(f,u.Ss())},t.prototype.Hs=function(e){var i=ed(this.persistenceKey,this.currentUser,e);this.removeItem(i)},t.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},t.prototype.Ys=function(e,i,l){var u=eu(this.persistenceKey,e),f=new Ih(e,i,l);this.setItem(u,f.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var i=this.Ls.exec(e);return i?i[1]:null},t.prototype.ni=function(e,i){var l=this.ti(e);return Dp.Vs(l,i)},t.prototype.si=function(e,i){var l=this.Bs.exec(e),u=Number(l[1]);return sg.Vs(new Tr(void 0!==l[2]?l[2]:null),u,i)},t.prototype.ri=function(e,i){var l=this.qs.exec(e),u=Number(l[1]);return Ih.Vs(u,i)},t.prototype.js=function(e){return ag.Vs(e)},t.prototype.ii=function(e){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(i){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(ge("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,i){var l=this,u=i?this.Fs.insert(e,i):this.Fs.remove(e),f=this.Gs(this.Fs),g=this.Gs(u),w=[],B=[];return g.forEach(function(X){f.has(X)||w.push(X)}),f.forEach(function(X){g.has(X)||B.push(X)}),this.syncEngine.hi(w,B).then(function(){l.Fs=u})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var i=nc();return e.forEach(function(l,u){i=i.unionWith(u.activeTargetIds)}),i},t}(),lg=function(){function t(){this.li=new xh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,i,l){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,i,l){this.fi[e]=i},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new xh,Promise.resolve()},t.prototype.handleUserChange=function(e,i,l){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),cg=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),ug=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,i=this.gi;e<i.length;e++)(0,i[e])(0)},t.prototype.yi=function(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,i=this.gi;e<i.length;e++)(0,i[e])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),wp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ep=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),dg=function(t){function e(i){var l=this;return(l=t.call(this,i)||this).forceLongPolling=i.forceLongPolling,l.autoDetectLongPolling=i.autoDetectLongPolling,l.useFetchStreams=i.useFetchStreams,l}return(0,K.ZT)(e,t),e.prototype.Fi=function(i,l,u,f){return new Promise(function(g,w){var B=new ao;B.listenOnce(Gs.COMPLETE,function(){try{switch(B.getLastErrorCode()){case Hs.NO_ERROR:var le=B.getResponseJson();ge("Connection","XHR received:",JSON.stringify(le)),g(le);break;case Hs.TIMEOUT:ge("Connection",'RPC "'+i+'" timed out'),w(new V(S.DEADLINE_EXCEEDED,"Request time out"));break;case Hs.HTTP_ERROR:var Ce=B.getStatus();if(ge("Connection",'RPC "'+i+'" failed with status:',Ce,"response text:",B.getResponseText()),Ce>0){var Le=B.getResponseJson().error;if(Le&&Le.status&&Le.message){var pt=(Ct=Le.status.toLowerCase().replace(/_/g,"-"),Object.values(S).indexOf(Ct)>=0?Ct:S.UNKNOWN);w(new V(pt,Le.message))}else w(new V(S.UNKNOWN,"Server responded with status "+B.getStatus()))}else w(new V(S.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{ge("Connection",'RPC "'+i+'" completed.')}var Ct});var X=JSON.stringify(f);B.send(l,"POST",X,u,15)})},e.prototype.Oi=function(i,l){var u=[this.Di,"/","google.firestore.v1.Firestore","/",i,"/channel"],f=new hs,g=os(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(w.xmlHttpFactory=new zs({})),this.ki(w.initMessageHeaders,l),(0,fe.uI)()||(0,fe.b$)()||(0,fe.d)()||(0,fe.w1)()||(0,fe.Mn)()||(0,fe.ru)()||(w.httpHeadersOverwriteParam="$httpHeaders");var B=u.join("");ge("Connection","Creating WebChannel: "+B,w);var X=f.createWebChannel(B,w),le=!1,Ce=!1,Le=new Ep({Ei:function(mt){Ce?ge("Connection","Not sending because WebChannel is closed:",mt):(le||(ge("Connection","Opening WebChannel transport."),X.open(),le=!0),ge("Connection","WebChannel sending:",mt),X.send(mt))},Ti:function(){return X.close()}}),pt=function(mt,Ct,Gt){mt.listen(Ct,function(Xt){try{Gt(Xt)}catch(vn){setTimeout(function(){throw vn},0)}})};return pt(X,Is.EventType.OPEN,function(){Ce||ge("Connection","WebChannel transport opened.")}),pt(X,Is.EventType.CLOSE,function(){Ce||(Ce=!0,ge("Connection","WebChannel transport closed"),Le.Vi())}),pt(X,Is.EventType.ERROR,function(mt){Ce||(Ce=!0,hn("Connection","WebChannel transport errored:",mt),Le.Vi(new V(S.UNAVAILABLE,"The operation could not be completed")))}),pt(X,Is.EventType.MESSAGE,function(mt){var Ct;if(!Ce){var Gt=mt.data[0];nn(!!Gt);var vn=Gt.error||(null===(Ct=Gt[0])||void 0===Ct?void 0:Ct.error);if(vn){ge("Connection","WebChannel received error:",vn);var gn=vn.status,ri=function(Ai){var Ur=Bi[Ai];if(void 0!==Ur)return ch(Ur)}(gn),wn=vn.message;void 0===ri&&(ri=S.INTERNAL,wn="Unknown error status: "+gn+" with message "+vn.message),Ce=!0,Le.Vi(new V(ri,wn)),X.close()}else ge("Connection","WebChannel received:",Gt),Le.Si(Gt)}}),pt(g,Ml.STAT_EVENT,function(mt){mt.stat===$a_PROXY?ge("Connection","Detected buffering proxy"):mt.stat===$a_NOPROXY&&ge("Connection","Detected no buffering proxy")}),setTimeout(function(){Le.Pi()},0),Le},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,i,l,u){var f=this.xi(e,i);ge("RestConnection","Sending: ",f,l);var g={};return this.ki(g,u),this.Fi(e,f,g,l).then(function(w){return ge("RestConnection","Received: ",w),w},function(w){throw hn("RestConnection",e+" failed with error: ",w,"url: ",f,"request:",l),w})},t.prototype.$i=function(e,i,l,u){return this.Ni(e,i,l,u)},t.prototype.ki=function(e,i){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(var l in i.authHeaders)i.authHeaders.hasOwnProperty(l)&&(e[l]=i.authHeaders[l])},t.prototype.xi=function(e,i){return this.Di+"/v1/"+i+":"+wp[e]},t}());function nd(){return"undefined"!=typeof window?window:null}function Rh(){return"undefined"!=typeof document?document:null}function id(t){return new rt(t,!0)}var Mp=function(){function t(e,i,l,u,f){void 0===l&&(l=1e3),void 0===u&&(u=1.5),void 0===f&&(f=6e4),this.Se=e,this.timerId=i,this.Mi=l,this.Li=u,this.Bi=f,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var i=this;this.cancel();var l=Math.floor(this.qi+this.Wi()),u=Math.max(0,Date.now()-this.Ki),f=Math.max(0,l-u);f>0&&ge("ExponentialBackoff","Backing off for "+f+" ms (base delay: "+this.qi+" ms, delay with jitter: "+l+" ms, last attempt: "+u+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,f,function(){return i.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),hg=function(){function t(e,i,l,u,f,g){this.Se=e,this.zi=l,this.Hi=u,this.Ji=f,this.listener=g,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Mp(e,i)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,i){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(l){switch(l.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():i&&i.code===S.RESOURCE_EXHAUSTED?(vt(i.toString()),vt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):i&&i.code===S.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(i)];case 1:return l.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var i=this.hr(this.Yi),l=this.Yi;this.Ji.getToken().then(function(u){e.Yi===l&&e.lr(u)},function(u){i(function(){var f=new V(S.UNKNOWN,"Fetching auth token failed: "+u.message);return e.dr(f)})})},t.prototype.lr=function(e){var i=this,l=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){l(function(){return i.state=2,i.listener.Ii()})}),this.stream.Ri(function(u){l(function(){return i.dr(u)})}),this.stream.onMessage(function(u){l(function(){return i.onMessage(u)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,K.mG)(e,void 0,void 0,function(){return(0,K.Jh)(this,function(i){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return ge("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var i=this;return function(l){i.Se.enqueueAndForget(function(){return i.Yi===e?l():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),nv=function(t){function e(i,l,u,f,g){var w=this;return(w=t.call(this,i,"listen_stream_connection_backoff","listen_stream_idle",l,u,g)||this).R=f,w}return(0,K.ZT)(e,t),e.prototype.wr=function(i){return this.Hi.Oi("Listen",i)},e.prototype.onMessage=function(i){this.Zi.reset();var l=function(f,g){var w,Gt;if("targetChange"in g){var B="NO_CHANGE"===(Gt=g.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Gt?1:"REMOVE"===Gt?2:"CURRENT"===Gt?3:"RESET"===Gt?4:Ot(),X=g.targetChange.targetIds||[],le=function(Gt,Xt){return Gt.I?(nn(void 0===Xt||"string"==typeof Xt),uo.fromBase64String(Xt||"")):(nn(void 0===Xt||Xt instanceof Uint8Array),uo.fromUint8Array(Xt||new Uint8Array))}(f,g.targetChange.resumeToken),Ce=(Le=g.targetChange.cause)&&function(Gt){var Xt=void 0===Gt.code?S.UNKNOWN:ch(Gt.code);return new V(Xt,Gt.message||"")}(Le);w=new oc(B,X,le,Ce||null)}else if("documentChange"in g){X=fo(f,(B=g.documentChange).document.name),le=_n(B.document.updateTime);var Le=new So({mapValue:{fields:B.document.fields}}),pt=(Ce=Lr.newFoundDocument(X,le,Le),B.targetIds||[]);w=new ic(pt,B.removedTargetIds||[],Ce.key,Ce)}else if("documentDelete"in g)X=fo(f,(B=g.documentDelete).document),le=B.readTime?_n(B.readTime):Xn.min(),Le=Lr.newNoDocument(X,le),w=new ic([],Ce=B.removedTargetIds||[],Le.key,Le);else if("documentRemove"in g)X=fo(f,(B=g.documentRemove).document),w=new ic([],le=B.removedTargetIds||[],X,null);else{if(!("filter"in g))return Ot();var Ct=g.filter;X=new Wf(B=Ct.count||0),w=new rc(le=Ct.targetId,X)}return w}(this.R,i),u=function(f){if(!("targetChange"in f))return Xn.min();var g=f.targetChange;return g.targetIds&&g.targetIds.length?Xn.min():g.readTime?_n(g.readTime):Xn.min()}(i);return this.listener._r(l,u)},e.prototype.mr=function(i){var f,g,w,B,l={};l.database=aa(this.R),l.addTarget=(f=this.R,(w=Al(B=(g=i).target)?{documents:Gm(f,B)}:{query:zm(f,B)}).targetId=g.targetId,g.resumeToken.approximateByteSize()>0?w.resumeToken=Zt(f,g.resumeToken):g.snapshotVersion.compareTo(Xn.min())>0&&(w.readTime=Lt(f,g.snapshotVersion.toTimestamp())),w);var u=function(f,g){var w=function(B,X){switch(X){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ot()}}(0,g.purpose);return null==w?null:{"goog-listen-tags":w}}(0,i);u&&(l.labels=u),this.cr(l)},e.prototype.yr=function(i){var l={};l.database=aa(this.R),l.removeTarget=i,this.cr(l)},e}(hg),iv=function(t){function e(i,l,u,f,g){var w=this;return(w=t.call(this,i,"write_stream_connection_backoff","write_stream_idle",l,u,g)||this).R=f,w.gr=!1,w}return(0,K.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(i){return this.Hi.Oi("Write",i)},e.prototype.onMessage=function(i){if(nn(!!i.streamToken),this.lastStreamToken=i.streamToken,this.gr){this.Zi.reset();var l=(g=i.commitTime,(f=i.writeResults)&&f.length>0?(nn(void 0!==g),f.map(function(w){return X=g,(le=_n((B=w).updateTime?B.updateTime:X)).isEqual(Xn.min())&&(le=_n(X)),new Yf(le,B.transformResults||[]);var B,X,le})):[]),u=_n(i.commitTime);return this.listener.Tr(u,l)}var f,g;return nn(!i.writeResults||0===i.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var i={};i.database=aa(this.R),this.cr(i)},e.prototype.Er=function(i){var l=this,u={streamToken:this.lastStreamToken,writes:i.map(function(f){return xu(l.R,f)})};this.cr(u)},e}(hg),rv=function(t){function e(i,l,u){var f=this;return(f=t.call(this)||this).credentials=i,f.Hi=l,f.R=u,f.Rr=!1,f}return(0,K.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(i,l,u){var f=this;return this.br(),this.credentials.getToken().then(function(g){return f.Hi.Ni(i,l,u,g)}).catch(function(g){throw"FirebaseError"===g.name?(g.code===S.UNAUTHENTICATED&&f.credentials.invalidateToken(),g):new V(S.UNKNOWN,g.toString())})},e.prototype.$i=function(i,l,u){var f=this;return this.br(),this.credentials.getToken().then(function(g){return f.Hi.$i(i,l,u,g)}).catch(function(g){throw"FirebaseError"===g.name?(g.code===S.UNAUTHENTICATED&&f.credentials.invalidateToken(),g):new V(S.UNKNOWN,g.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),ov=function(){function t(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var i="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(vt(i),this.Vr=!1):ge("OnlineStateTracker",i)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),sv=function(t,e,i,l,u){var f=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=u,this.Lr.di(function(g){i.enqueueAndForget(function(){return(0,K.mG)(f,void 0,void 0,function(){return(0,K.Jh)(this,function(w){switch(w.label){case 0:return hl(this)?(ge("RemoteStore","Restarting streams for network reachability change."),[4,function(B){return(0,K.mG)(this,void 0,void 0,function(){var X;return(0,K.Jh)(this,function(le){switch(le.label){case 0:return(X=Ut(B)).Or.add(4),[4,vs(X)];case 1:return le.sent(),X.Br.set("Unknown"),X.Or.delete(4),[4,rd(X)];case 2:return le.sent(),[2]}})})}(this)]):[3,2];case 1:w.sent(),w.label=2;case 2:return[2]}})})})}),this.Br=new ov(i,l)};function rd(t){return(0,K.mG)(this,void 0,void 0,function(){var e,i;return(0,K.Jh)(this,function(l){switch(l.label){case 0:if(!hl(t))return[3,4];e=0,i=t.Mr,l.label=1;case 1:return e<i.length?[4,(0,i[e])(!0)]:[3,4];case 2:l.sent(),l.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function vs(t){return(0,K.mG)(this,void 0,void 0,function(){var e,i;return(0,K.Jh)(this,function(l){switch(l.label){case 0:e=0,i=t.Mr,l.label=1;case 1:return e<i.length?[4,(0,i[e])(!1)]:[3,4];case 2:l.sent(),l.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function gc(t,e){var i=Ut(t);i.$r.has(e.targetId)||(i.$r.set(e.targetId,e),nu(i)?ad(i):Cc(i).er()&&od(i,e))}function tu(t,e){var i=Ut(t),l=Cc(i);i.$r.delete(e),l.er()&&sd(i,e),0===i.$r.size&&(l.er()?l.ir():hl(i)&&i.Br.set("Unknown"))}function od(t,e){t.qr.U(e.targetId),Cc(t).mr(e)}function sd(t,e){t.qr.U(e),Cc(t).yr(e)}function ad(t){t.qr=new O({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Cc(t).start(),t.Br.Sr()}function nu(t){return hl(t)&&!Cc(t).tr()&&t.$r.size>0}function hl(t){return 0===Ut(t).Or.size}function Oa(t){t.qr=void 0}function Tp(t){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(e){return t.$r.forEach(function(i,l){od(t,i)}),[2]})})}function fg(t,e){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(i){return Oa(t),nu(t)?(t.Br.Nr(e),ad(t)):t.Br.set("Unknown"),[2]})})}function kh(t,e,i){return(0,K.mG)(this,void 0,void 0,function(){var l,u,f;return(0,K.Jh)(this,function(g){switch(g.label){case 0:if(t.Br.set("Online"),!(e instanceof oc&&2===e.state&&e.cause))return[3,6];g.label=1;case 1:return g.trys.push([1,3,,5]),[4,function(w,B){return(0,K.mG)(this,void 0,void 0,function(){var X,le,Ce,Le;return(0,K.Jh)(this,function(pt){switch(pt.label){case 0:X=B.cause,le=0,Ce=B.targetIds,pt.label=1;case 1:return le<Ce.length?w.$r.has(Le=Ce[le])?[4,w.remoteSyncer.rejectListen(Le,X)]:[3,3]:[3,5];case 2:pt.sent(),w.$r.delete(Le),w.qr.removeTarget(Le),pt.label=3;case 3:pt.label=4;case 4:return le++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return g.sent(),[3,5];case 3:return l=g.sent(),ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),[4,ld(t,l)];case 4:return g.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ic?t.qr.X(e):e instanceof rc?t.qr.rt(e):t.qr.et(e),i.isEqual(Xn.min()))return[3,13];g.label=7;case 7:return g.trys.push([7,11,,13]),[4,gp(t.localStore)];case 8:return u=g.sent(),i.compareTo(u)>=0?[4,(w=t,B=i,X=w.qr.ut(B),X.targetChanges.forEach(function(le,Ce){if(le.resumeToken.approximateByteSize()>0){var Le=w.$r.get(Ce);Le&&w.$r.set(Ce,Le.withResumeToken(le.resumeToken,B))}}),X.targetMismatches.forEach(function(le){var Ce=w.$r.get(le);if(Ce){w.$r.set(le,Ce.withResumeToken(uo.EMPTY_BYTE_STRING,Ce.snapshotVersion)),sd(w,le);var Le=new Kc(Ce.target,le,1,Ce.sequenceNumber);od(w,Le)}}),w.remoteSyncer.applyRemoteEvent(X))]:[3,10];case 9:g.sent(),g.label=10;case 10:return[3,13];case 11:return ge("RemoteStore","Failed to raise snapshot:",f=g.sent()),[4,ld(t,f)];case 12:return g.sent(),[3,13];case 13:return[2]}var w,B,X})})}function ld(t,e,i){return(0,K.mG)(this,void 0,void 0,function(){var l=this;return(0,K.Jh)(this,function(u){switch(u.label){case 0:if(!uc(e))throw e;return t.Or.add(1),[4,vs(t)];case 1:return u.sent(),t.Br.set("Offline"),i||(i=function(){return gp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,K.mG)(l,void 0,void 0,function(){return(0,K.Jh)(this,function(f){switch(f.label){case 0:return ge("RemoteStore","Retrying IndexedDB access"),[4,i()];case 1:return f.sent(),t.Or.delete(1),[4,rd(t)];case 2:return f.sent(),[2]}})})}),[2]}})})}function Oh(t,e){return e().catch(function(i){return ld(t,i,e)})}function _c(t){return(0,K.mG)(this,void 0,void 0,function(){var e,i,l,u,f;return(0,K.Jh)(this,function(g){switch(g.label){case 0:e=Ut(t),i=Pa(e),l=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,g.label=1;case 1:if(!(hl(w=e)&&w.Fr.length<10))return[3,7];g.label=2;case 2:return g.trys.push([2,4,,6]),[4,rg(e.localStore,l)];case 3:return null===(u=g.sent())?(0===e.Fr.length&&i.ir(),[3,7]):(l=u.batchId,function(w,B){w.Fr.push(B);var X=Pa(w);X.er()&&X.pr&&X.Er(B.mutations)}(e,u),[3,6]);case 4:return f=g.sent(),[4,ld(e,f)];case 5:return g.sent(),[3,6];case 6:return[3,1];case 7:return Sp(e)&&vc(e),[2]}var w})})}function Sp(t){return hl(t)&&!Pa(t).tr()&&t.Fr.length>0}function vc(t){Pa(t).start()}function yc(t){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(e){return Pa(t).Ar(),[2]})})}function Ph(t){return(0,K.mG)(this,void 0,void 0,function(){var e,i,l;return(0,K.Jh)(this,function(f){for(e=Pa(t),i=0,l=t.Fr;i<l.length;i++)e.Er(l[i].mutations);return[2]})})}function bc(t,e,i){return(0,K.mG)(this,void 0,void 0,function(){var l,u;return(0,K.Jh)(this,function(f){switch(f.label){case 0:return l=t.Fr.shift(),u=Wc.from(l,e,i),[4,Oh(t,function(){return t.remoteSyncer.applySuccessfulWrite(u)})];case 1:return f.sent(),[4,_c(t)];case 2:return f.sent(),[2]}})})}function iu(t,e){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(i){switch(i.label){case 0:return e&&Pa(t).pr?[4,function(l,u){return(0,K.mG)(this,void 0,void 0,function(){var f,g;return(0,K.Jh)(this,function(w){switch(w.label){case 0:return lh(g=u.code)&&g!==S.ABORTED?(f=l.Fr.shift(),Pa(l).sr(),[4,Oh(l,function(){return l.remoteSyncer.rejectFailedWrite(f.batchId,u)})]):[3,3];case 1:return w.sent(),[4,_c(l)];case 2:w.sent(),w.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return Sp(t)&&vc(t),[2]}})})}function fl(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i;return(0,K.Jh)(this,function(l){switch(l.label){case 0:return i=Ut(t),e?(i.Or.delete(2),[4,rd(i)]):[3,2];case 1:return l.sent(),[3,5];case 2:return e?[3,4]:(i.Or.add(2),[4,vs(i)]);case 3:l.sent(),i.Br.set("Unknown"),l.label=4;case 4:l.label=5;case 5:return[2]}})})}function Cc(t){var i,l,u,f,e=this;return t.Ur||(t.Ur=(i=t.datastore,l=t.asyncQueue,u={Ii:Tp.bind(null,t),Ri:fg.bind(null,t),_r:kh.bind(null,t)},(f=Ut(i)).br(),new nv(l,f.Hi,f.credentials,f.R,u)),t.Mr.push(function(i){return(0,K.mG)(e,void 0,void 0,function(){return(0,K.Jh)(this,function(l){switch(l.label){case 0:return i?(t.Ur.sr(),nu(t)?ad(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:l.sent(),Oa(t),l.label=3;case 3:return[2]}})})})),t.Ur}function Pa(t){var i,l,u,f,e=this;return t.Kr||(t.Kr=(i=t.datastore,l=t.asyncQueue,u={Ii:yc.bind(null,t),Ri:iu.bind(null,t),Ir:Ph.bind(null,t),Tr:bc.bind(null,t)},(f=Ut(i)).br(),new iv(l,f.Hi,f.credentials,f.R,u)),t.Mr.push(function(i){return(0,K.mG)(e,void 0,void 0,function(){return(0,K.Jh)(this,function(l){switch(l.label){case 0:return i?(t.Kr.sr(),[4,_c(t)]):[3,2];case 1:return l.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:l.sent(),t.Fr.length>0&&(ge("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),l.label=4;case 4:return[2]}})})})),t.Kr}var Ap=function(){function t(e,i,l,u,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=l,this.op=u,this.removalCallback=f,this.deferred=new xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(g){})}return t.createAndSchedule=function(e,i,l,u,f){var g=new t(e,i,Date.now()+l,u,f);return g.start(l),g},t.prototype.start=function(e){var i=this;this.timerHandle=setTimeout(function(){return i.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new V(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(i){return e.deferred.resolve(i)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function pl(t,e){if(vt("AsyncQueue",e+": "+t),uc(t))return new V(S.UNAVAILABLE,e+": "+t);throw t}var cd=function(){function t(e){this.comparator=e?function(i,l){return e(i,l)||Cn.comparator(i.key,l.key)}:function(i,l){return Cn.comparator(i.key,l.key)},this.keyedMap=xa(),this.sortedSet=new Vr(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return null!=this.keyedMap.get(e)},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(i,l){return e(i),!1})},t.prototype.add=function(e){var i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))},t.prototype.delete=function(e){var i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var i=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();i.hasNext();){var u=i.getNext().key,f=l.getNext().key;if(!u.isEqual(f))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(i){e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},t.prototype.copy=function(e,i){var l=new t;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=i,l},t}(),Fh=function(){function t(){this.Qr=new Vr(Cn.comparator)}return t.prototype.track=function(e){var i=e.doc.key,l=this.Qr.get(i);l?0!==e.type&&3===l.type?this.Qr=this.Qr.insert(i,e):3===e.type&&1!==l.type?this.Qr=this.Qr.insert(i,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Qr=this.Qr.insert(i,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Qr=this.Qr.insert(i,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Qr=this.Qr.remove(i):1===e.type&&2===l.type?this.Qr=this.Qr.insert(i,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Qr=this.Qr.insert(i,{type:2,doc:e.doc}):Ot():this.Qr=this.Qr.insert(i,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(i,l){e.push(l)}),e},t}(),Vl=function(){function t(e,i,l,u,f,g,w,B){this.query=e,this.docs=i,this.oldDocs=l,this.docChanges=u,this.mutatedKeys=f,this.fromCache=g,this.syncStateChanged=w,this.excludesMetadataChanges=B}return t.fromInitialDocuments=function(e,i,l,u){var f=[];return i.forEach(function(g){f.push({type:0,doc:g})}),new t(e,i,cd.emptySet(i),f,l,u,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$s(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var i=this.docChanges,l=e.docChanges;if(i.length!==l.length)return!1;for(var u=0;u<i.length;u++)if(i[u].type!==l[u].type||!i[u].doc.isEqual(l[u].doc))return!1;return!0},t}(),pg=function(){this.Wr=void 0,this.listeners=[]},Ip=function(){this.queries=new Bl(function(t){return ia(t)},$s),this.onlineState="Unknown",this.Gr=new Set};function xp(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,l,u,f,g,w,B;return(0,K.Jh)(this,function(X){switch(X.label){case 0:if(i=Ut(t),u=!1,(f=i.queries.get(l=e.query))||(u=!0,f=new pg),!u)return[3,4];X.label=1;case 1:return X.trys.push([1,3,,4]),g=f,[4,i.onListen(l)];case 2:return g.Wr=X.sent(),[3,4];case 3:return w=X.sent(),B=pl(w,"Initialization of query '"+Uc(e.query)+"' failed"),[2,void e.onError(B)];case 4:return i.queries.set(l,f),f.listeners.push(e),e.zr(i.onlineState),f.Wr&&e.Hr(f.Wr)&&dd(i),[2]}})})}function ud(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,l,u,f,g;return(0,K.Jh)(this,function(w){return i=Ut(t),u=!1,(f=i.queries.get(l=e.query))&&(g=f.listeners.indexOf(e))>=0&&(f.listeners.splice(g,1),u=0===f.listeners.length),u?[2,(i.queries.delete(l),i.onUnlisten(l))]:[2]})})}function Rp(t,e){for(var i=Ut(t),l=!1,u=0,f=e;u<f.length;u++){var g=f[u],B=i.queries.get(g.query);if(B){for(var X=0,le=B.listeners;X<le.length;X++)le[X].Hr(g)&&(l=!0);B.Wr=g}}l&&dd(i)}function mg(t,e,i){var l=Ut(t),u=l.queries.get(e);if(u)for(var f=0,g=u.listeners;f<g.length;f++)g[f].onError(i);l.queries.delete(e)}function dd(t){t.Gr.forEach(function(e){e.next()})}var Nh=function(){function t(e,i,l){this.query=e,this.Jr=i,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=l||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var i=[],l=0,u=e.docChanges;l<u.length;l++){var f=u[l];3!==f.type&&i.push(f)}e=new Vl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var g=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),g=!0):this.eo(e,this.onlineState)&&(this.no(e),g=!0),this.Xr=e,g},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var i=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),i=!0),i},t.prototype.eo=function(e,i){return!e.fromCache||!(this.options.so&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)},t.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),gg=function(){function t(e,i){this.payload=e,this.byteLength=i}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ts=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return fo(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?Iu(this.R,e.document,!1):Lr.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return _n(e)},t}();!function(){function t(e,i,l){this.ro=e,this.localStore=i,this.R=l,this.queries=[],this.documents=[],this.progress=function kp(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(e)}t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var i=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++i):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var i=new Map,l=new ts(this.R),u=0,f=e;u<f.length;u++){var g=f[u];if(g.metadata.queries)for(var w=l.qn(g.metadata.name),B=0,X=g.metadata.queries;B<X.length;B++){var le=X[B],Ce=(i.get(le)||xi()).add(w);i.set(le,Ce)}}return i},t.prototype.complete=function(){return(0,K.mG)(this,void 0,void 0,function(){var e,i,l,u,f;return(0,K.Jh)(this,function(g){switch(g.label){case 0:return[4,Qs(this.localStore,new ts(this.R),this.documents,this.ro.id)];case 1:e=g.sent(),i=this.co(this.documents),l=0,u=this.queries,g.label=2;case 2:return l<u.length?[4,yp(this.localStore,f=u[l],i.get(f.name))]:[3,5];case 3:g.sent(),g.label=4;case 4:return l++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ng(Object.assign({},this.progress),e))]}})})}}();var vg=function(t){this.key=t},yg=function(t){this.key=t},Lh=function(){function t(e,i){this.query=e,this.uo=i,this.ao=null,this.current=!1,this.ho=xi(),this.mutatedKeys=xi(),this.lo=il(e),this.fo=new cd(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,i){var l=this,u=i?i.mo:new Fh,f=i?i.fo:this.fo,g=i?i.mutatedKeys:this.mutatedKeys,w=f,B=!1,X=Il(this.query)&&f.size===this.query.limit?f.last():null,le=el(this.query)&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal(function(Le,pt){var mt=f.get(Le),Ct=ra(l.query,pt)?pt:null,Gt=!!mt&&l.mutatedKeys.has(mt.key),Xt=!!Ct&&(Ct.hasLocalMutations||l.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations),vn=!1;mt&&Ct?mt.data.isEqual(Ct.data)?Gt!==Xt&&(u.track({type:3,doc:Ct}),vn=!0):l.yo(mt,Ct)||(u.track({type:2,doc:Ct}),vn=!0,(X&&l.lo(Ct,X)>0||le&&l.lo(Ct,le)<0)&&(B=!0)):!mt&&Ct?(u.track({type:0,doc:Ct}),vn=!0):mt&&!Ct&&(u.track({type:1,doc:mt}),vn=!0,(X||le)&&(B=!0)),vn&&(Ct?(w=w.add(Ct),g=Xt?g.add(Le):g.delete(Le)):(w=w.delete(Le),g=g.delete(Le)))}),Il(this.query)||el(this.query))for(;w.size>this.query.limit;){var Ce=Il(this.query)?w.last():w.first();w=w.delete(Ce.key),g=g.delete(Ce.key),u.track({type:1,doc:Ce})}return{fo:w,mo:u,Nn:B,mutatedKeys:g}},t.prototype.yo=function(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations},t.prototype.applyChanges=function(e,i,l){var u=this,f=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var g=e.mo.jr();g.sort(function(le,Ce){return pt=Ce.type,(mt=function(Ct){switch(Ct){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}})(le.type)-mt(pt)||u.lo(le.doc,Ce.doc);var pt,mt}),this.po(l);var w=i?this.Eo():[],B=0===this.ho.size&&this.current?1:0,X=B!==this.ao;return this.ao=B,0!==g.length||X?{snapshot:new Vl(this.query,e.fo,f,g,e.mutatedKeys,0===B,X,!1),To:w}:{To:w}},t.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Fh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var i=this;e&&(e.addedDocuments.forEach(function(l){return i.uo=i.uo.add(l)}),e.modifiedDocuments.forEach(function(l){}),e.removedDocuments.forEach(function(l){return i.uo=i.uo.delete(l)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var i=this.ho;this.ho=xi(),this.fo.forEach(function(u){e.Io(u.key)&&(e.ho=e.ho.add(u.key))});var l=[];return i.forEach(function(u){e.ho.has(u)||l.push(new yg(u))}),this.ho.forEach(function(u){i.has(u)||l.push(new vg(u))}),l},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=xi();var i=this._o(e.documents);return this.applyChanges(i,!0)},t.prototype.Ro=function(){return Vl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),av=function(t,e,i){this.query=t,this.targetId=e,this.view=i},bg=function(t){this.key=t,this.bo=!1},Bh=function(){function t(e,i,l,u,f,g){this.localStore=e,this.remoteStore=i,this.eventManager=l,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=g,this.vo={},this.Po=new Bl(function(w){return ia(w)},$s),this.Vo=new Map,this.So=new Set,this.Do=new Vr(Cn.comparator),this.Co=new Map,this.No=new Jc,this.xo={},this.ko=new Map,this.Fo=ju.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Op(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,u,f,g,w;return(0,K.Jh)(this,function(B){switch(B.label){case 0:return i=md(t),(f=i.Po.get(e))?(i.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Ro(),[3,4]):[3,1];case 1:return[4,mc(i.localStore,Zr(e))];case 2:return g=B.sent(),w=i.sharedClientState.addLocalQueryTarget(g.targetId),[4,Vh(i,e,g.targetId,"current"===w)];case 3:u=B.sent(),i.isPrimaryClient&&gc(i.remoteStore,g),B.label=4;case 4:return[2,u]}})})}function Vh(t,e,i,l){return(0,K.mG)(this,void 0,void 0,function(){var u,f,g,w,B,X;return(0,K.Jh)(this,function(le){switch(le.label){case 0:return t.Oo=function(Ce,Le,pt){return function(mt,Ct,Gt,Xt){return(0,K.mG)(this,void 0,void 0,function(){var vn,gn,ri;return(0,K.Jh)(this,function(wn){switch(wn.label){case 0:return(vn=Ct.view._o(Gt)).Nn?[4,Xc(mt.localStore,Ct.query,!1).then(function(Ai){return Ct.view._o(Ai.documents,vn)})]:[3,2];case 1:vn=wn.sent(),wn.label=2;case 2:return gn=Xt&&Xt.targetChanges.get(Ct.targetId),ri=Ct.view.applyChanges(vn,mt.isPrimaryClient,gn),[2,(Hh(mt,Ct.targetId,ri.To),ri.snapshot)]}})})}(t,Ce,Le,pt)},[4,Xc(t.localStore,e,!0)];case 1:return u=le.sent(),f=new Lh(e,u.Bn),g=f._o(u.documents),w=$c.createSynthesizedTargetChangeForCurrentChange(i,l&&"Offline"!==t.onlineState),B=f.applyChanges(g,t.isPrimaryClient,w),Hh(t,i,B.To),X=new av(e,i,f),[2,(t.Po.set(e,X),t.Vo.has(i)?t.Vo.get(i).push(e):t.Vo.set(i,[e]),B.snapshot)]}})})}function Cg(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,l,u;return(0,K.Jh)(this,function(f){switch(f.label){case 0:return i=Ut(t),l=i.Po.get(e),(u=i.Vo.get(l.targetId)).length>1?[2,(i.Vo.set(l.targetId,u.filter(function(g){return!$s(g,e)})),void i.Po.delete(e))]:i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)?[3,2]:[4,jn(i.localStore,l.targetId,!1).then(function(){i.sharedClientState.clearQueryState(l.targetId),tu(i.remoteStore,l.targetId),jo(i,l.targetId)}).catch(ul)]):[3,3];case 1:f.sent(),f.label=2;case 2:return[3,5];case 3:return jo(i,l.targetId),[4,jn(i.localStore,l.targetId,!0)];case 4:f.sent(),f.label=5;case 5:return[2]}})})}function Dg(t,e,i){return(0,K.mG)(this,void 0,void 0,function(){var l,u,f,g;return(0,K.Jh)(this,function(w){switch(w.label){case 0:l=Bp(t),w.label=1;case 1:return w.trys.push([1,5,,6]),[4,(B=l.localStore,X=e,Ce=Ut(B),Le=fr.now(),pt=X.reduce(function(mt,Ct){return mt.add(Ct.key)},xi()),Ce.persistence.runTransaction("Locally write mutations","readwrite",function(mt){return Ce.Mn.pn(mt,pt).next(function(Ct){le=Ct;for(var Gt=[],Xt=0,vn=X;Xt<vn.length;Xt++){var gn=vn[Xt],ri=rh(gn,le.get(gn.key));null!=ri&&Gt.push(new sa(gn.key,ri,Za(ri.value.mapValue),Xr.exists(!0)))}return Ce._n.addMutationBatch(mt,Le,Gt,X)})}).then(function(mt){return mt.applyToLocalDocumentSet(le),{batchId:mt.batchId,changes:le}}))];case 2:return u=w.sent(),l.sharedClientState.addPendingMutation(u.batchId),function(B,X,le){var Ce=B.xo[B.currentUser.toKey()];Ce||(Ce=new Vr(Ln)),Ce=Ce.insert(X,le),B.xo[B.currentUser.toKey()]=Ce}(l,u.batchId,i),[4,ha(l,u.changes)];case 3:return w.sent(),[4,_c(l.remoteStore)];case 4:return w.sent(),[3,6];case 5:return f=w.sent(),g=pl(f,"Failed to persist write"),i.reject(g),[3,6];case 6:return[2]}var B,X,le,Ce,Le,pt})})}function jh(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,l;return(0,K.Jh)(this,function(u){switch(u.label){case 0:i=Ut(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,_p(i.localStore,e)];case 2:return l=u.sent(),e.targetChanges.forEach(function(f,g){var w=i.Co.get(g);w&&(nn(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?w.bo=!0:f.modifiedDocuments.size>0?nn(w.bo):f.removedDocuments.size>0&&(nn(w.bo),w.bo=!1))}),[4,ha(i,l,e)];case 3:return u.sent(),[3,6];case 4:return[4,ul(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function Pp(t,e,i){var l=Ut(t);if(l.isPrimaryClient&&0===i||!l.isPrimaryClient&&1===i){var u=[];l.Po.forEach(function(f,g){var w=g.view.zr(e);w.snapshot&&u.push(w.snapshot)}),function(f,g){var w=Ut(f);w.onlineState=g;var B=!1;w.queries.forEach(function(X,le){for(var Ce=0,Le=le.listeners;Ce<Le.length;Ce++)Le[Ce].zr(g)&&(B=!0)}),B&&dd(w)}(l.eventManager,e),u.length&&l.vo._r(u),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function Fp(t,e,i){return(0,K.mG)(this,void 0,void 0,function(){var l,u,f,g,w,B;return(0,K.Jh)(this,function(X){switch(X.label){case 0:return(l=Ut(t)).sharedClientState.updateQueryState(e,"rejected",i),u=l.Co.get(e),(f=u&&u.key)?(g=(g=new Vr(Cn.comparator)).insert(f,Lr.newNoDocument(f,Xn.min())),w=xi().add(f),B=new zc(Xn.min(),new Map,new Mr(Ln),g,w),[4,jh(l,B)]):[3,2];case 1:return X.sent(),l.Do=l.Do.remove(f),l.Co.delete(e),Lp(l),[3,4];case 2:return[4,jn(l.localStore,e,!1).then(function(){return jo(l,e,i)}).catch(ul)];case 3:X.sent(),X.label=4;case 4:return[2]}})})}function wg(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,l,u;return(0,K.Jh)(this,function(f){switch(f.label){case 0:i=Ut(t),l=e.batch.batchId,f.label=1;case 1:return f.trys.push([1,4,,6]),[4,ig(i.localStore,e)];case 2:return u=f.sent(),Uh(i,l,null),hd(i,l),i.sharedClientState.updateMutationState(l,"acknowledged"),[4,ha(i,u)];case 3:return f.sent(),[3,6];case 4:return[4,ul(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}})})}function Eg(t,e,i){return(0,K.mG)(this,void 0,void 0,function(){var l,u;return(0,K.Jh)(this,function(f){switch(f.label){case 0:l=Ut(t),f.label=1;case 1:return f.trys.push([1,4,,6]),[4,(g=l.localStore,w=e,B=Ut(g),B.persistence.runTransaction("Reject batch","readwrite-primary",function(X){var le;return B._n.lookupMutationBatch(X,w).next(function(Ce){return nn(null!==Ce),le=Ce.keys(),B._n.removeMutationBatch(X,Ce)}).next(function(){return B._n.performConsistencyCheck(X)}).next(function(){return B.Mn.pn(X,le)})}))];case 2:return u=f.sent(),Uh(l,e,i),hd(l,e),l.sharedClientState.updateMutationState(e,"rejected",i),[4,ha(l,u)];case 3:return f.sent(),[3,6];case 4:return[4,ul(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}var g,w,B})})}function Np(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,l,u,f,g;return(0,K.Jh)(this,function(w){switch(w.label){case 0:hl((i=Ut(t)).remoteStore)||ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),w.label=1;case 1:return w.trys.push([1,3,,4]),[4,(B=i.localStore,X=Ut(B),X.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(le){return X._n.getHighestUnacknowledgedBatchId(le)}))];case 2:return-1===(l=w.sent())?[2,void e.resolve()]:((u=i.ko.get(l)||[]).push(e),i.ko.set(l,u),[3,4]);case 3:return f=w.sent(),g=pl(f,"Initialization of waitForPendingWrites() operation failed"),e.reject(g),[3,4];case 4:return[2]}var B,X})})}function hd(t,e){(t.ko.get(e)||[]).forEach(function(i){i.resolve()}),t.ko.delete(e)}function Uh(t,e,i){var l=Ut(t),u=l.xo[l.currentUser.toKey()];if(u){var f=u.get(e);f&&(i?f.reject(i):f.resolve(),u=u.remove(e)),l.xo[l.currentUser.toKey()]=u}}function jo(t,e,i){void 0===i&&(i=null),t.sharedClientState.removeLocalQueryTarget(e);for(var l=0,u=t.Vo.get(e);l<u.length;l++){var f=u[l];t.Po.delete(f),i&&t.vo.Mo(f,i)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(g){t.No.containsKey(g)||fd(t,g)})}function fd(t,e){t.So.delete(e.path.canonicalString());var i=t.Do.get(e);null!==i&&(tu(t.remoteStore,i),t.Do=t.Do.remove(e),t.Co.delete(i),Lp(t))}function Hh(t,e,i){for(var l=0,u=i;l<u.length;l++){var f=u[l];f instanceof vg?(t.No.addReference(f.key,e),Mg(t,f)):f instanceof yg?(ge("SyncEngine","Document no longer in limbo: "+f.key),t.No.removeReference(f.key,e),t.No.containsKey(f.key)||fd(t,f.key)):Ot()}}function Mg(t,e){var i=e.key,l=i.path.canonicalString();t.Do.get(i)||t.So.has(l)||(ge("SyncEngine","New document in limbo: "+i),t.So.add(l),Lp(t))}function Lp(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var i=new Cn(fi.fromString(e)),l=t.Fo.next();t.Co.set(l,new bg(i)),t.Do=t.Do.insert(i,l),gc(t.remoteStore,new Kc(Zr(Ma(i.path)),l,2,C.o))}}function ha(t,e,i){return(0,K.mG)(this,void 0,void 0,function(){var l,u,f,g;return(0,K.Jh)(this,function(w){switch(w.label){case 0:return l=Ut(t),u=[],f=[],g=[],l.Po.isEmpty()?[3,3]:(l.Po.forEach(function(B,X){g.push(l.Oo(X,e,i).then(function(le){if(le){l.isPrimaryClient&&l.sharedClientState.updateQueryState(X.targetId,le.fromCache?"not-current":"current"),u.push(le);var Ce=qs.Pn(X.targetId,le);f.push(Ce)}}))}),[4,Promise.all(g)]);case 1:return w.sent(),l.vo._r(u),[4,function(B,X){return(0,K.mG)(this,void 0,void 0,function(){var le,Ce,Le,pt,mt,Ct,Gt,vn;return(0,K.Jh)(this,function(gn){switch(gn.label){case 0:le=Ut(B),gn.label=1;case 1:return gn.trys.push([1,3,,4]),[4,le.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(ri){return qt.forEach(X,function(wn){return qt.forEach(wn.bn,function(Ai){return le.persistence.referenceDelegate.addReference(ri,wn.targetId,Ai)}).next(function(){return qt.forEach(wn.vn,function(Ai){return le.persistence.referenceDelegate.removeReference(ri,wn.targetId,Ai)})})})})];case 2:return gn.sent(),[3,4];case 3:if(!uc(Ce=gn.sent()))throw Ce;return ge("LocalStore","Failed to update sequence numbers: "+Ce),[3,4];case 4:for(Le=0,pt=X;Le<pt.length;Le++)Ct=(mt=pt[Le]).targetId,mt.fromCache||(Gt=le.kn.get(Ct),vn=Gt.withLastLimboFreeSnapshotVersion(Gt.snapshotVersion),le.kn=le.kn.insert(Ct,vn));return[2]}})})}(l.localStore,f)];case 2:w.sent(),w.label=3;case 3:return[2]}})})}function Tg(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,l;return(0,K.Jh)(this,function(u){switch(u.label){case 0:return(i=Ut(t)).currentUser.isEqual(e)?[3,3]:(ge("SyncEngine","User change. New user:",e.toKey()),[4,mp(i.localStore,e)]);case 1:return l=u.sent(),i.currentUser=e,(f=i).ko.forEach(function(w){w.forEach(function(B){B.reject(new V(S.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ko.clear(),i.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),[4,ha(i,l.Ln)];case 2:u.sent(),u.label=3;case 3:return[2]}var f})})}function Sg(t,e){var i=Ut(t),l=i.Co.get(e);if(l&&l.bo)return xi().add(l.key);var u=xi(),f=i.Vo.get(e);if(!f)return u;for(var g=0,w=f;g<w.length;g++){var X=i.Po.get(w[g]);u=u.unionWith(X.view.wo)}return u}function Ag(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,l,u;return(0,K.Jh)(this,function(f){switch(f.label){case 0:return[4,Xc((i=Ut(t)).localStore,e.query,!0)];case 1:return l=f.sent(),u=e.view.Ao(l),[2,(i.isPrimaryClient&&Hh(i,e.targetId,u.To),u)]}})})}function Gh(t){return(0,K.mG)(this,void 0,void 0,function(){var e;return(0,K.Jh)(this,function(i){return[2,Th((e=Ut(t)).localStore).then(function(l){return ha(e,l)})]})})}function Ig(t,e,i,l){return(0,K.mG)(this,void 0,void 0,function(){var u,f;return(0,K.Jh)(this,function(g){switch(g.label){case 0:return[4,(w=(u=Ut(t)).localStore,B=e,X=Ut(w),le=Ut(X._n),X.persistence.runTransaction("Lookup mutation documents","readonly",function(Ce){return le.jt(Ce,B).next(function(Le){return Le?X.Mn.pn(Ce,Le):qt.resolve(null)})}))];case 1:return null===(f=g.sent())?[3,6]:"pending"!==i?[3,3]:[4,_c(u.remoteStore)];case 2:return g.sent(),[3,4];case 3:"acknowledged"===i||"rejected"===i?(Uh(u,e,l||null),hd(u,e),function(w,B){Ut(Ut(w)._n).Gt(B)}(u.localStore,e)):Ot(),g.label=4;case 4:return[4,ha(u,f)];case 5:return g.sent(),[3,7];case 6:ge("SyncEngine","Cannot apply mutation batch with id: "+e),g.label=7;case 7:return[2]}var w,B,X,le})})}function xg(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,l,u,f,g,B,X;return(0,K.Jh)(this,function(le){switch(le.label){case 0:return md(i=Ut(t)),Bp(i),!0!==e||!0===i.$o?[3,3]:(l=i.sharedClientState.getAllActiveQueryTargets(),[4,ru(i,l.toArray())]);case 1:return u=le.sent(),i.$o=!0,[4,fl(i.remoteStore,!0)];case 2:for(le.sent(),f=0,g=u;f<g.length;f++)gc(i.remoteStore,g[f]);return[3,7];case 3:return!1!==e||!1===i.$o?[3,7]:(B=[],X=Promise.resolve(),i.Vo.forEach(function(Ce,Le){i.sharedClientState.isLocalQueryTarget(Le)?B.push(Le):X=X.then(function(){return jo(i,Le),jn(i.localStore,Le,!0)}),tu(i.remoteStore,Le)}),[4,X]);case 4:return le.sent(),[4,ru(i,B)];case 5:return le.sent(),(Le=Ut(i)).Co.forEach(function(pt,mt){tu(Le.remoteStore,mt)}),Le.No.ts(),Le.Co=new Map,Le.Do=new Vr(Cn.comparator),i.$o=!1,[4,fl(i.remoteStore,!1)];case 6:le.sent(),le.label=7;case 7:return[2]}var Le})})}function ru(t,e,i){return(0,K.mG)(this,void 0,void 0,function(){var l,u,f,g,w,B,X,le,Ce,Le,mt,Ct,Gt;return(0,K.Jh)(this,function(Xt){switch(Xt.label){case 0:l=Ut(t),u=[],f=[],g=0,w=e,Xt.label=1;case 1:return g<w.length?(X=void 0,(le=l.Vo.get(B=w[g]))&&0!==le.length?[4,mc(l.localStore,Zr(le[0]))]:[3,7]):[3,13];case 2:X=Xt.sent(),Ce=0,Le=le,Xt.label=3;case 3:return Ce<Le.length?(mt=l.Po.get(Le[Ce]),[4,Ag(l,mt)]):[3,6];case 4:(Ct=Xt.sent()).snapshot&&f.push(Ct.snapshot),Xt.label=5;case 5:return Ce++,[3,3];case 6:return[3,11];case 7:return[4,Mh(l.localStore,B)];case 8:return Gt=Xt.sent(),[4,mc(l.localStore,Gt)];case 9:return X=Xt.sent(),[4,Vh(l,pd(Gt),B,!1)];case 10:Xt.sent(),Xt.label=11;case 11:u.push(X),Xt.label=12;case 12:return g++,[3,1];case 13:return[2,(l.vo._r(f),u)]}})})}function pd(t){return Br(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Rg(t){var e=Ut(t);return Ut(Ut(e.localStore).persistence).fn()}function zh(t,e,i,l){return(0,K.mG)(this,void 0,void 0,function(){var u,f,g;return(0,K.Jh)(this,function(w){switch(w.label){case 0:return(u=Ut(t)).$o?(ge("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!u.Vo.has(e))return[3,8];switch(i){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Th(u.localStore)];case 3:return f=w.sent(),g=zc.createSynthesizedRemoteEventForCurrentChange(e,"current"===i),[4,ha(u,f,g)];case 4:return w.sent(),[3,8];case 5:return[4,jn(u.localStore,e,!0)];case 6:return w.sent(),jo(u,e,l),[3,8];case 7:Ot(),w.label=8;case 8:return[2]}})})}function $h(t,e,i){return(0,K.mG)(this,void 0,void 0,function(){var l,u,f,g,w,B,X,le,Ce;return(0,K.Jh)(this,function(pt){switch(pt.label){case 0:if(!(l=md(t)).$o)return[3,10];u=0,f=e,pt.label=1;case 1:return u<f.length?l.Vo.has(g=f[u])?(ge("SyncEngine","Adding an already active target "+g),[3,5]):[4,Mh(l.localStore,g)]:[3,6];case 2:return w=pt.sent(),[4,mc(l.localStore,w)];case 3:return B=pt.sent(),[4,Vh(l,pd(w),B.targetId,!1)];case 4:pt.sent(),gc(l.remoteStore,B),pt.label=5;case 5:return u++,[3,1];case 6:X=function(mt){return(0,K.Jh)(this,function(Ct){switch(Ct.label){case 0:return l.Vo.has(mt)?[4,jn(l.localStore,mt,!1).then(function(){tu(l.remoteStore,mt),jo(l,mt)}).catch(ul)]:[3,2];case 1:Ct.sent(),Ct.label=2;case 2:return[2]}})},le=0,Ce=i,pt.label=7;case 7:return le<Ce.length?[5,X(Ce[le])]:[3,10];case 8:pt.sent(),pt.label=9;case 9:return le++,[3,7];case 10:return[2]}})})}function md(t){var e=Ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fp.bind(null,e),e.vo._r=Rp.bind(null,e.eventManager),e.vo.Mo=mg.bind(null,e.eventManager),e}function Bp(t){var e=Ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Eg.bind(null,e),e}var gd=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(i){switch(i.label){case 0:return this.R=id(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return i.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return pp(this.persistence,new hp,e.initialUser,this.R)},t.prototype.qo=function(e){return new Cp(Xu.bs,this.R)},t.prototype.Bo=function(e){return new lg},t.prototype.terminate=function(){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),kg=function(t){function e(i,l,u){var f=this;return(f=t.call(this)||this).Qo=i,f.cacheSizeBytes=l,f.forceOwnership=u,f.synchronizeTabs=!1,f}return(0,K.ZT)(e,t),e.prototype.initialize=function(i){return(0,K.mG)(this,void 0,void 0,function(){var l=this;return(0,K.Jh)(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,i)];case 1:return u.sent(),[4,Zu(this.localStore)];case 2:return u.sent(),[4,this.Qo.initialize(this,i)];case 3:return u.sent(),[4,Bp(this.Qo.syncEngine)];case 4:return u.sent(),[4,_c(this.Qo.remoteStore)];case 5:return u.sent(),[4,this.persistence.He(function(){return l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(l.localStore),Promise.resolve()})];case 6:return u.sent(),[2]}})})},e.prototype.Ko=function(i){return pp(this.persistence,new hp,i.initialUser,this.R)},e.prototype.Uo=function(i){return new Gu(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)},e.prototype.qo=function(i){var l=Qu(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?Ns.withCacheSize(this.cacheSizeBytes):Ns.DEFAULT;return new J_(this.synchronizeTabs,l,i.clientId,u,i.asyncQueue,nd(),Rh(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(i){return new lg},e}(gd),Og=function(t){function e(i,l){var u=this;return(u=t.call(this,i,l,!1)||this).Qo=i,u.cacheSizeBytes=l,u.synchronizeTabs=!0,u}return(0,K.ZT)(e,t),e.prototype.initialize=function(i){return(0,K.mG)(this,void 0,void 0,function(){var l,u=this;return(0,K.Jh)(this,function(f){switch(f.label){case 0:return[4,t.prototype.initialize.call(this,i)];case 1:return f.sent(),l=this.Qo.syncEngine,this.sharedClientState instanceof td?(this.sharedClientState.syncEngine={ui:Ig.bind(null,l),ai:zh.bind(null,l),hi:$h.bind(null,l),fn:Rg.bind(null,l),ci:Gh.bind(null,l)},[4,this.sharedClientState.start()]):[3,3];case 2:f.sent(),f.label=3;case 3:return[4,this.persistence.He(function(g){return(0,K.mG)(u,void 0,void 0,function(){return(0,K.Jh)(this,function(w){switch(w.label){case 0:return[4,xg(this.Qo.syncEngine,g)];case 1:return w.sent(),this.gcScheduler&&(g&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):g||this.gcScheduler.stop()),[2]}})})})];case 4:return f.sent(),[2]}})})},e.prototype.Bo=function(i){var l=nd();if(!td.yt(l))throw new V(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var u=Qu(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new td(l,i.asyncQueue,u,i.clientId,i.initialUser)},e}(kg),_d=function(){function t(){}return t.prototype.initialize=function(e,i){return(0,K.mG)(this,void 0,void 0,function(){var l=this;return(0,K.Jh)(this,function(u){switch(u.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(f){return Pp(l.syncEngine,f,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Tg.bind(null,this.syncEngine),[4,fl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:u.sent(),u.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new Ip},t.prototype.createDatastore=function(e){var l=id(e.databaseInfo.databaseId),u=new dg(e.databaseInfo);return new rv(e.credentials,u,l)},t.prototype.createRemoteStore=function(e){var i,l,u,f,g,w=this;return i=this.localStore,l=this.datastore,u=e.asyncQueue,f=function(B){return Pp(w.syncEngine,B,0)},g=ug.yt()?new ug:new cg,new sv(i,l,u,f,g)},t.prototype.createSyncEngine=function(e,i){return X=i,le=new Bh(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),X&&(le.$o=!0),le;var X,le},t.prototype.terminate=function(){return function(e){return(0,K.mG)(this,void 0,void 0,function(){var i;return(0,K.Jh)(this,function(l){switch(l.label){case 0:return i=Ut(e),ge("RemoteStore","RemoteStore shutting down."),i.Or.add(5),[4,vs(i)];case 1:return l.sent(),i.Lr.shutdown(),i.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),ou=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,i){var l=this;this.muted||setTimeout(function(){l.muted||e(i)},0)},t}(),jp=(function(){function t(e,i){var l=this;this.Go=e,this.R=i,this.metadata=new xo,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(u){u&&u.io()?l.metadata.resolve(u.payload.metadata):l.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==u?void 0:u.payload)))},function(u){return l.metadata.reject(u)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,K.mG)(this,void 0,void 0,function(){var e,i,l,u;return(0,K.Jh)(this,function(f){switch(f.label){case 0:return[4,this.Jo()];case 1:return null===(e=f.sent())?[2,null]:(i=this.zo.decode(e),l=Number(i),isNaN(l)&&this.Yo("length string ("+i+") is not valid number"),[4,this.Xo(l)]);case 2:return u=f.sent(),[2,new gg(JSON.parse(u),e.length+l)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,K.mG)(this,void 0,void 0,function(){var e,i;return(0,K.Jh)(this,function(l){switch(l.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(l.sent())return[3,3];l.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),i=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),i)])}})})},t.prototype.Xo=function(e){return(0,K.mG)(this,void 0,void 0,function(){var i;return(0,K.Jh)(this,function(l){switch(l.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:l.sent()&&this.Yo("Reached the end of bundle when more is expected."),l.label=2;case 2:return[3,0];case 3:return i=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),i)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return(0,K.mG)(this,void 0,void 0,function(){var e,i;return(0,K.Jh)(this,function(l){switch(l.label){case 0:return[4,this.Go.read()];case 1:return(e=l.sent()).done||((i=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),i.set(e.value,this.buffer.length),this.buffer=i),[2,e.done]}})})}}(),function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return(0,K.mG)(this,void 0,void 0,function(){var i,l=this;return(0,K.Jh)(this,function(u){switch(u.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new V(S.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(f,g){return(0,K.mG)(this,void 0,void 0,function(){var w,B,X,le,Ce,Le;return(0,K.Jh)(this,function(pt){switch(pt.label){case 0:return w=Ut(f),B=aa(w.R)+"/documents",X={documents:g.map(function(mt){return ii(w.R,mt)})},[4,w.$i("BatchGetDocuments",B,X)];case 1:return le=pt.sent(),Ce=new Map,le.forEach(function(mt){var Gt,Xt,Ct=(Gt=w.R,"found"in(Xt=mt)?function(vn,gn){nn(!!gn.found);var ri=fo(vn,gn.found.name),wn=_n(gn.found.updateTime),Ai=new So({mapValue:{fields:gn.found.fields}});return Lr.newFoundDocument(ri,wn,Ai)}(Gt,Xt):"missing"in Xt?function(vn,gn){nn(!!gn.missing),nn(!!gn.readTime);var ri=fo(vn,gn.missing),wn=_n(gn.readTime);return Lr.newNoDocument(ri,wn)}(Gt,Xt):Ot());Ce.set(Ct.key.toString(),Ct)}),Le=[],[2,(g.forEach(function(mt){var Ct=Ce.get(mt.toString());nn(!!Ct),Le.push(Ct)}),Le)]}})})}(this.datastore,e)];case 1:return[2,((i=u.sent()).forEach(function(f){return l.recordVersion(f)}),i)]}})})},t.prototype.set=function(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Pl(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return(0,K.mG)(this,void 0,void 0,function(){var e,i=this;return(0,K.Jh)(this,function(l){switch(l.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(u){e.delete(u.key.toString())}),e.forEach(function(u,f){var g=Cn.fromPath(f);i.mutations.push(new Au(g,i.precondition(g)))}),[4,function(u,f){return(0,K.mG)(this,void 0,void 0,function(){var g,w,B;return(0,K.Jh)(this,function(X){switch(X.label){case 0:return g=Ut(u),w=aa(g.R)+"/documents",B={writes:f.map(function(le){return xu(g.R,le)})},[4,g.Ni("Commit",w,B)];case 1:return X.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return l.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Ot();i=Xn.min()}var l=this.readVersions.get(e.key.toString());if(l){if(!i.isEqual(l))throw new V(S.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)},t.prototype.precondition=function(e){var i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?Xr.updateTime(i):Xr.none()},t.prototype.preconditionForUpdate=function(e){var i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(Xn.min()))throw new V(S.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xr.updateTime(i)}return Xr.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}()),Fa=function(){function t(e,i,l,u){this.asyncQueue=e,this.datastore=i,this.updateFunction=l,this.deferred=u,this.ec=5,this.Zi=new Mp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,K.mG)(e,void 0,void 0,function(){var i,l,u=this;return(0,K.Jh)(this,function(f){return i=new jp(this.datastore),(l=this.sc(i))&&l.then(function(g){u.asyncQueue.enqueueAndForget(function(){return i.commit().then(function(){u.deferred.resolve(g)}).catch(function(w){u.ic(w)})})}).catch(function(g){u.ic(g)}),[2]})})})},t.prototype.sc=function(e){try{var i=this.updateFunction(e);return!wa(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(l){return this.deferred.reject(l),null}},t.prototype.ic=function(e){var i=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return i.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if("FirebaseError"===e.name){var i=e.code;return"aborted"===i||"failed-precondition"===i||!lh(i)}return!1},t}(),vd=function(){function t(e,i,l){var u=this;this.credentials=e,this.asyncQueue=i,this.databaseInfo=l,this.user=Tr.UNAUTHENTICATED,this.clientId=ps.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(i,function(f){return(0,K.mG)(u,void 0,void 0,function(){return(0,K.Jh)(this,function(g){switch(g.label){case 0:return ge("FirestoreClient","Received user=",f.uid),[4,this.credentialListener(f)];case 1:return g.sent(),this.user=f,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var i=new xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,K.mG)(e,void 0,void 0,function(){var l,u;return(0,K.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:f.sent(),f.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:f.sent(),f.label=4;case 4:return this.credentials.removeChangeListener(),i.resolve(),[3,6];case 5:return l=f.sent(),u=pl(l,"Failed to shutdown persistence"),i.reject(u),[3,6];case 6:return[2]}})})}),i.promise},t}();function Up(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,l,u=this;return(0,K.Jh)(this,function(f){switch(f.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return i=f.sent(),[4,e.initialize(i)];case 2:return f.sent(),l=i.initialUser,t.setCredentialChangeListener(function(g){return(0,K.mG)(u,void 0,void 0,function(){return(0,K.Jh)(this,function(w){switch(w.label){case 0:return l.isEqual(g)?[3,2]:[4,mp(e.localStore,g)];case 1:w.sent(),l=g,w.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Hp(t,e){return(0,K.mG)(this,void 0,void 0,function(){var i,l;return(0,K.Jh)(this,function(u){switch(u.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Gp(t)];case 1:return i=u.sent(),ge("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return l=u.sent(),[4,e.initialize(i,l)];case 3:return u.sent(),t.setCredentialChangeListener(function(f){return function(g,w){return(0,K.mG)(this,void 0,void 0,function(){var B,X;return(0,K.Jh)(this,function(le){switch(le.label){case 0:return(B=Ut(g)).asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials"),X=hl(B),B.Or.add(3),[4,vs(B)];case 1:return le.sent(),X&&B.Br.set("Unknown"),[4,B.remoteSyncer.handleCredentialChange(w)];case 2:return le.sent(),B.Or.delete(3),[4,rd(B)];case 3:return le.sent(),[2]}})})}(e.remoteStore,f)}),t.onlineComponents=e,[2]}})})}function Gp(t){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ge("FirestoreClient","Using default OfflineComponentProvider"),[4,Up(t,new gd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Dc(t){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ge("FirestoreClient","Using default OnlineComponentProvider"),[4,Hp(t,new _d)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Wh(t){return Gp(t).then(function(e){return e.persistence})}function su(t){return Gp(t).then(function(e){return e.localStore})}function wc(t){return Dc(t).then(function(e){return e.remoteStore})}function Kh(t){return Dc(t).then(function(e){return e.syncEngine})}function ml(t){return(0,K.mG)(this,void 0,void 0,function(){var e,i;return(0,K.Jh)(this,function(l){switch(l.label){case 0:return[4,Dc(t)];case 1:return e=l.sent(),[2,((i=e.eventManager).onListen=Op.bind(null,e.syncEngine),i.onUnlisten=Cg.bind(null,e.syncEngine),i)]}})})}function qh(t,e,i){var l=this;void 0===i&&(i={});var u=new xo;return t.asyncQueue.enqueueAndForget(function(){return(0,K.mG)(l,void 0,void 0,function(){var f;return(0,K.Jh)(this,function(g){switch(g.label){case 0:return f=function(w,B,X,le,Ce){var Le=new ou({next:function(mt){B.enqueueAndForget(function(){return ud(w,pt)});var Ct=mt.docs.has(X);!Ct&&mt.fromCache?Ce.reject(new V(S.UNAVAILABLE,"Failed to get document because the client is offline.")):Ct&&mt.fromCache&&le&&"server"===le.source?Ce.reject(new V(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Ce.resolve(mt)},error:function(mt){return Ce.reject(mt)}}),pt=new Nh(Ma(X.path),Le,{includeMetadataChanges:!0,so:!0});return xp(w,pt)},[4,ml(t)];case 1:return[2,f.apply(void 0,[g.sent(),t.asyncQueue,e,i,u])]}})})}),u.promise}function Qh(t,e,i){var l=this;void 0===i&&(i={});var u=new xo;return t.asyncQueue.enqueueAndForget(function(){return(0,K.mG)(l,void 0,void 0,function(){var f;return(0,K.Jh)(this,function(g){switch(g.label){case 0:return f=function(w,B,X,le,Ce){var Le=new ou({next:function(mt){B.enqueueAndForget(function(){return ud(w,pt)}),mt.fromCache&&"server"===le.source?Ce.reject(new V(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Ce.resolve(mt)},error:function(mt){return Ce.reject(mt)}}),pt=new Nh(X,Le,{includeMetadataChanges:!0,so:!0});return xp(w,pt)},[4,ml(t)];case 1:return[2,f.apply(void 0,[g.sent(),t.asyncQueue,e,i,u])]}})})}),u.promise}var zp=function(t,e,i,l,u,f,g,w){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.useFetchStreams=w},yd=function(){function t(e,i){this.projectId=e,this.database=i||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),bd=new Map,$p=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Yp=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,i){this.changeListener=i,e.enqueueRetryable(function(){return i(Tr.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Wp=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,i){var l=this;this.changeListener=i,e.enqueueRetryable(function(){return i(l.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ec=function(){function t(e){var i=this;this.currentUser=Tr.UNAUTHENTICATED,this.oc=new xo,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){i.cc++,i.currentUser=i.ac(),i.oc.resolve(),i.changeListener&&i.asyncQueue.enqueueRetryable(function(){return i.changeListener(i.currentUser)})};var l=function(u){ge("FirebaseCredentialsProvider","Auth detected"),i.auth=u,i.auth.addAuthTokenListener(i.uc)};e.onInit(function(u){return l(u)}),setTimeout(function(){if(!i.auth){var u=e.getImmediate({optional:!0});u?l(u):(ge("FirebaseCredentialsProvider","Auth not yet detected"),i.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,i=this.cc,l=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(l).then(function(u){return e.cc!==i?(ge("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):u?(nn("string"==typeof u.accessToken),new $p(u.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,i){var l=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,K.mG)(l,void 0,void 0,function(){return(0,K.Jh)(this,function(u){switch(u.label){case 0:return[4,this.oc.promise];case 1:return u.sent(),[4,i(this.currentUser)];case 2:return u.sent(),this.changeListener=i,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return nn(null===e||"string"==typeof e),new Tr(e)},t}(),Kp=function(){function t(e,i,l){this.hc=e,this.lc=i,this.fc=l,this.type="FirstParty",this.user=Tr.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},i=this.hc.auth.getAuthHeaderValueForFirstParty([]);return i&&(e.Authorization=i),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),Pg=function(){function t(e,i,l){this.hc=e,this.lc=i,this.fc=l}return t.prototype.getToken=function(){return Promise.resolve(new Kp(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,i){e.enqueueRetryable(function(){return i(Tr.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Zh(t,e,i){if(!i)throw new V(S.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function gl(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new V(S.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function qp(t,e,i,l){if(!0===e&&!0===l)throw new V(S.INVALID_ARGUMENT,t+" and "+i+" cannot be used together.")}function Qp(t){if(!Cn.isDocumentKey(t))throw new V(S.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Zp(t){if(Cn.isDocumentKey(t))throw new V(S.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Cd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(i){if(i.constructor){var l=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(l&&l.length>1)return l[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ot()}function oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var i=Cd(t);throw new V(S.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+i)}return t}function Dd(t,e){if(e<=0)throw new V(S.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Xh=function(){function t(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new V(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new V(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),Mc=function(){function t(e,i){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xh({}),this._settingsFrozen=!1,e instanceof yd?(this._databaseId=e,this._credentials=new Yp):(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yd(l.options.projectId)}(e),this._credentials=new Ec(i))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new V(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new V(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xh(e),void 0!==e.credentials&&(this._credentials=function(i){if(!i)return new Yp;switch(i.type){case"gapi":var l=i.client;return nn(!("object"!=typeof l||null===l||!l.auth||!l.auth.getAuthHeaderValueForFirstParty)),new Pg(l,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new V(S.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(i=bd.get(this))&&(ge("ComponentProvider","Removing Datastore"),bd.delete(this),i.terminate()),Promise.resolve();var i},t}(),ar=function(){function t(e,i,l){this.converter=i,this._key=l,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new _l(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Uo=function(){function t(e,i,l){this.converter=i,this._query=l,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),_l=function(t){function e(i,l,u){var f=this;return(f=t.call(this,i,l,Ma(u))||this)._path=u,f.type="collection",f}return(0,K.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var i=this._path.popLast();return i.isEmpty()?null:new ar(this.firestore,null,new Cn(i))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(i){return new e(this.firestore,i,this._path)},e}(Uo);function Xp(t,e){for(var i,l=[],u=2;u<arguments.length;u++)l[u-2]=arguments[u];if(t=(0,fe.m9)(t),Zh("collection","path",e),t instanceof Mc)return Zp(i=fi.fromString.apply(fi,(0,K.ev)([e],l))),new _l(t,null,i);if(!(t instanceof ar||t instanceof _l))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Zp(i=fi.fromString.apply(fi,(0,K.ev)([t.path],l)).child(fi.fromString(e))),new _l(t.firestore,null,i)}function wd(t,e){for(var i,l=[],u=2;u<arguments.length;u++)l[u-2]=arguments[u];if(t=(0,fe.m9)(t),1===arguments.length&&(e=ps.u()),Zh("doc","path",e),t instanceof Mc)return Qp(i=fi.fromString.apply(fi,(0,K.ev)([e],l))),new ar(t,null,new Cn(i));if(!(t instanceof ar||t instanceof _l))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Qp(i=t._path.child(fi.fromString.apply(fi,(0,K.ev)([e],l)))),new ar(t.firestore,t instanceof _l?t.converter:null,new Cn(i))}function Jp(t,e){return t=(0,fe.m9)(t),e=(0,fe.m9)(e),(t instanceof ar||t instanceof _l)&&(e instanceof ar||e instanceof _l)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Jh(t,e){return t=(0,fe.m9)(t),e=(0,fe.m9)(e),t instanceof Uo&&e instanceof Uo&&t.firestore===e.firestore&&$s(t._query,e._query)&&t.converter===e.converter}var cv=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Mp(this,"async_queue_retry"),this.Ic=function(){var l=Rh();l&&ge("AsyncQueue","Visibility state changed to "+l.visibilityState),e.Zi.Gi()};var i=Rh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var i=Rh();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var i=this;if(this.Ac(),this._c)return new Promise(function(){});var l=new xo;return this.Rc(function(){return i._c&&i.Ec?Promise.resolve():(e().then(l.resolve,l.reject),l.promise)}).then(function(){return l.promise})},t.prototype.enqueueRetryable=function(e){var i=this;this.enqueueAndForget(function(){return i.wc.push(e),i.bc()})},t.prototype.bc=function(){return(0,K.mG)(this,void 0,void 0,function(){var e,i=this;return(0,K.Jh)(this,function(l){switch(l.label){case 0:if(0===this.wc.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return l.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!uc(e=l.sent()))throw e;return ge("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return i.bc()}),l.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var i=this,l=this.dc.then(function(){return i.gc=!0,e().catch(function(u){throw i.yc=u,i.gc=!1,vt("INTERNAL UNHANDLED ERROR: ",(g=(f=u).message||"",f.stack&&(g=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),g)),u;var f,g}).then(function(u){return i.gc=!1,u})});return this.dc=l,l},t.prototype.enqueueAfterDelay=function(e,i,l){var u=this;this.Ac(),this.Tc.indexOf(e)>-1&&(i=0);var f=Ap.createAndSchedule(this,e,i,l,function(g){return u.vc(g)});return this.mc.push(f),f},t.prototype.Ac=function(){this.yc&&Ot()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,K.mG)(this,void 0,void 0,function(){var e;return(0,K.Jh)(this,function(i){switch(i.label){case 0:return[4,e=this.dc];case 1:i.sent(),i.label=2;case 2:if(e!==this.dc)return[3,0];i.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var i=0,l=this.mc;i<l.length;i++)if(l[i].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var i=this;return this.Pc().then(function(){i.mc.sort(function(g,w){return g.targetTimeMs-w.targetTimeMs});for(var l=0,u=i.mc;l<u.length;l++){var f=u[l];if(f.skipDelay(),"all"!==e&&f.timerId===e)break}return i.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var i=this.mc.indexOf(e);this.mc.splice(i,1)},t}();function jl(t){return function(e,i){if("object"!=typeof e||null===e)return!1;for(var l=e,u=0,f=["next","error","complete"];u<f.length;u++){var g=f[u];if(g in l&&"function"==typeof l[g])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new xo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(e,i,l){this._progressObserver={next:e,error:i,complete:l}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,i){return this._taskCompletionResolver.promise.then(e,i)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Sr=function(t){function e(i,l){var u=this;return(u=t.call(this,i,l)||this).type="firestore",u._queue=new cv,u._persistenceKey="name"in i?i.name:"[DEFAULT]",u}return(0,K.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Ed(this),this._firestoreClient.terminate()},e}(Mc);function mo(t){return t._firestoreClient||Ed(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ed(t){var e,f,w,i=t._freezeSettings(),l=(f=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new zp(t._databaseId,f,t._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));t._firestoreClient=new vd(t._credentials,t._queue,l)}function em(t,e,i){var l=this,u=new xo;return t.asyncQueue.enqueue(function(){return(0,K.mG)(l,void 0,void 0,function(){var f;return(0,K.Jh)(this,function(g){switch(g.label){case 0:return g.trys.push([0,3,,4]),[4,Up(t,i)];case 1:return g.sent(),[4,Hp(t,e)];case 2:return g.sent(),u.resolve(),[3,4];case 3:if(!("FirebaseError"===(w=f=g.sent()).name?w.code===S.FAILED_PRECONDITION||w.code===S.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw f;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+f),u.reject(f),[3,4];case 4:return[2]}var w})})}).then(function(){return u.promise})}function ef(t){if(t._initialized||t._terminated)throw new V(S.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Zs=function(){function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var l=0;l<e.length;++l)if(0===e[l].length)throw new V(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ms(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Tc=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(uo.fromBase64String(e))}catch(i){throw new V(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}},t.fromUint8Array=function(e){return new t(uo.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),go=function(t){this._methodName=t},tf=function(){function t(e,i){if(!isFinite(e)||e<-90||e>90)throw new V(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new V(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Ln(this._lat,e._lat)||Ln(this._long,e._long)},t}(),uv=/^__.*__$/,tm=function(){function t(e,i,l){this.data=e,this.fieldMask=i,this.fieldTransforms=l}return t.prototype.toMutation=function(e,i){return null!==this.fieldMask?new sa(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ol(e,this.data,i,this.fieldTransforms)},t}(),nf=function(){function t(e,i,l){this.data=e,this.fieldMask=i,this.fieldTransforms=l}return t.prototype.toMutation=function(e,i){return new sa(e,this.data,this.fieldMask,i,this.fieldTransforms)},t}();function rf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}var nm=function(){function t(e,i,l,u,f,g){this.settings=e,this.databaseId=i,this.R=l,this.ignoreUndefinedProperties=u,void 0===f&&this.Cc(),this.fieldTransforms=f||[],this.fieldMask=g||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var i,l=null===(i=this.path)||void 0===i?void 0:i.child(e),u=this.xc({path:l,Fc:!1});return u.$c(e),u},t.prototype.Oc=function(e){var i,l=null===(i=this.path)||void 0===i?void 0:i.child(e),u=this.xc({path:l,Fc:!1});return u.Cc(),u},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return yl(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(i){return e.isPrefixOf(i)})||void 0!==this.fieldTransforms.find(function(i){return e.isPrefixOf(i.field)})},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(rf(this.Nc)&&uv.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),dv=function(){function t(e,i,l){this.databaseId=e,this.ignoreUndefinedProperties=i,this.R=l||id(e)}return t.prototype.Uc=function(e,i,l,u){return void 0===u&&(u=!1),new nm({Nc:e,methodName:i,qc:l,path:ms.emptyPath(),Fc:!1,Bc:u},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function vl(t){var e=t._freezeSettings(),i=id(t._databaseId);return new dv(t._databaseId,!!e.ignoreUndefinedProperties,i)}function Sc(t,e,i,l,u,f){void 0===f&&(f={});var g=t.Uc(f.merge||f.mergeFields?2:0,e,i,u);cf("Data must be an object, but it was:",g,l);var w,B,X=im(l,g);if(f.merge)w=new Li(g.fieldMask),B=g.fieldTransforms;else if(f.mergeFields){for(var le=[],Ce=0,Le=f.mergeFields;Ce<Le.length;Ce++){var pt=uf(e,Le[Ce],i);if(!g.contains(pt))throw new V(S.INVALID_ARGUMENT,"Field '"+pt+"' is specified in your field mask but missing from your input data.");_o(le,pt)||le.push(pt)}w=new Li(le),B=g.fieldTransforms.filter(function(mt){return w.covers(mt.field)})}else w=null,B=g.fieldTransforms;return new tm(new So(X),w,B)}var sf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,K.ZT)(e,t),e.prototype._toFieldTransform=function(i){if(2!==i.Nc)throw i.Lc(1===i.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return i.fieldMask.push(i.path),null},e.prototype.isEqual=function(i){return i instanceof e},e}(go);function Md(t,e,i){return new nm({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:i},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Lg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,K.ZT)(e,t),e.prototype._toFieldTransform=function(i){return new ks(i.path,new rl)},e.prototype.isEqual=function(i){return i instanceof e},e}(go),Bg=function(t){function e(i,l){var u=this;return(u=t.call(this,i)||this).Kc=l,u}return(0,K.ZT)(e,t),e.prototype._toFieldTransform=function(i){var l=Md(this,i,!0),u=this.Kc.map(function(g){return Ls(g,l)}),f=new Ta(u);return new ks(i.path,f)},e.prototype.isEqual=function(i){return this===i},e}(go),Vg=function(t){function e(i,l){var u=this;return(u=t.call(this,i)||this).Kc=l,u}return(0,K.ZT)(e,t),e.prototype._toFieldTransform=function(i){var l=Md(this,i,!0),u=this.Kc.map(function(g){return Ls(g,l)}),f=new ol(u);return new ks(i.path,f)},e.prototype.isEqual=function(i){return this===i},e}(go),jg=function(t){function e(i,l){var u=this;return(u=t.call(this,i)||this).Qc=l,u}return(0,K.ZT)(e,t),e.prototype._toFieldTransform=function(i){var l=new Sa(i.R,th(i.R,this.Qc));return new ks(i.path,l)},e.prototype.isEqual=function(i){return this===i},e}(go);function af(t,e,i,l){var u=t.Uc(1,e,i);cf("Data must be an object, but it was:",u,l);var f=[],g=So.empty();co(l,function(B,X){var le=Bs(e,B,i);X=(0,fe.m9)(X);var Ce=u.Oc(le);if(X instanceof sf)f.push(le);else{var Le=Ls(X,Ce);null!=Le&&(f.push(le),g.set(le,Le))}});var w=new Li(f);return new nf(g,w,u.fieldTransforms)}function lf(t,e,i,l,u,f){var g=t.Uc(1,e,i),w=[uf(e,l,i)],B=[u];if(f.length%2!=0)throw new V(S.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var X=0;X<f.length;X+=2)w.push(uf(e,f[X])),B.push(f[X+1]);for(var le=[],Ce=So.empty(),Le=w.length-1;Le>=0;--Le)if(!_o(le,w[Le])){var pt=w[Le],mt=B[Le];mt=(0,fe.m9)(mt);var Ct=g.Oc(pt);if(mt instanceof sf)le.push(pt);else{var Gt=Ls(mt,Ct);null!=Gt&&(le.push(pt),Ce.set(pt,Gt))}}var Xt=new Li(le);return new nf(Ce,Xt,g.fieldTransforms)}function au(t,e,i,l){return void 0===l&&(l=!1),Ls(i,t.Uc(l?4:3,e))}function Ls(t,e){if(Ac(t=(0,fe.m9)(t)))return cf("Unsupported field value:",e,t),im(t,e);if(t instanceof go)return function(i,l){if(!rf(l.Nc))throw l.Lc(i._methodName+"() can only be used with update() and set()");if(!l.path)throw l.Lc(i._methodName+"() is not currently supported inside arrays");var u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(i,l){for(var u=[],f=0,g=0,w=i;g<w.length;g++){var B=Ls(w[g],l.Mc(f));null==B&&(B={nullValue:"NULL_VALUE"}),u.push(B),f++}return{arrayValue:{values:u}}}(t,e)}return function(i,l){if(null===(i=(0,fe.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return th(l.R,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){var u=fr.fromDate(i);return{timestampValue:Lt(l.R,u)}}if(i instanceof fr)return u=new fr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3)),{timestampValue:Lt(l.R,u)};if(i instanceof tf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Tc)return{bytesValue:Zt(l.R,i._byteString)};if(i instanceof ar){var f=i.firestore._databaseId;if(!f.isEqual(u=l.databaseId))throw l.Lc("Document reference is for database "+f.projectId+"/"+f.database+" but should be for database "+u.projectId+"/"+u.database);return{referenceValue:ui(i.firestore._databaseId||l.databaseId,i._key.path)}}throw l.Lc("Unsupported field value: "+Cd(i))}(t,e)}function im(t,e){var i={};return Wa(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,function(l,u){var f=Ls(u,e.kc(l));null!=f&&(i[l]=f)}),{mapValue:{fields:i}}}function Ac(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof fr||t instanceof tf||t instanceof Tc||t instanceof ar||t instanceof go)}function cf(t,e,i){if(!Ac(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){var l=Cd(i);throw e.Lc("an object"===l?t+" a custom object":t+" "+l)}var u}function uf(t,e,i){if((e=(0,fe.m9)(e))instanceof Zs)return e._internalPath;if("string"==typeof e)return Bs(t,e);throw yl("Field path arguments must be of type string or FieldPath.",t,!1,void 0,i)}var df=new RegExp("[~\\*/\\[\\]]");function Bs(t,e,i){if(e.search(df)>=0)throw yl("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,i);try{return(new(Zs.bind.apply(Zs,(0,K.ev)([void 0],e.split(".")))))._internalPath}catch(l){throw yl("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,i)}}function yl(t,e,i,l,u){var f=l&&!l.isEmpty(),g=void 0!==u,w="Function "+e+"() called with invalid data";i&&(w+=" (via `toFirestore()`)");var B="";return(f||g)&&(B+=" (found",f&&(B+=" in field "+l),g&&(B+=" in document "+u),B+=")"),new V(S.INVALID_ARGUMENT,(w+=". ")+t+B)}function _o(t,e){return t.some(function(i){return i.isEqual(e)})}var Xs=function(){function t(e,i,l,u,f){this._firestore=e,this._userDataWriter=i,this._key=l,this._document=u,this._converter=f}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ar(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var e=new Td(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var i=this._document.data.field(Ho("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}},t}(),Td=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,K.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Xs);function Ho(t,e){return"string"==typeof e?Bs(t,e):e instanceof Zs?e._internalPath:e._delegate._internalPath}var Na=function(){function t(e,i){this.hasPendingWrites=e,this.fromCache=i}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),ns=function(t){function e(i,l,u,f,g,w){var B=this;return(B=t.call(this,i,l,u,f,w)||this)._firestore=i,B._firestoreImpl=i,B.metadata=g,B}return(0,K.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(i){if(void 0===i&&(i={}),this._document){if(this._converter){var l=new fa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(l,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}},e.prototype.get=function(i,l){if(void 0===l&&(l={}),this._document){var u=this._document.data.field(Ho("DocumentSnapshot.get",i));if(null!==u)return this._userDataWriter.convertValue(u,l.serverTimestamps)}},e}(Xs),fa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,K.ZT)(e,t),e.prototype.data=function(i){return void 0===i&&(i={}),t.prototype.data.call(this,i)},e}(ns),ys=function(){function t(e,i,l,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Na(u.hasPendingWrites,u.fromCache),this.query=l}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(i){return e.push(i)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,i){var l=this;this._snapshot.docs.forEach(function(u){e.call(i,new fa(l._firestore,l._userDataWriter,u.key,u,new Na(l._snapshot.mutatedKeys.has(u.key),l._snapshot.fromCache),l.query.converter))})},t.prototype.docChanges=function(e){void 0===e&&(e={});var i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new V(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){var f=0;return l._snapshot.docChanges.map(function(w){return{type:"added",doc:new fa(l._firestore,l._userDataWriter,w.doc.key,w.doc,new Na(l._snapshot.mutatedKeys.has(w.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:f++}})}var g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(function(w){return u||3!==w.type}).map(function(w){var B=new fa(l._firestore,l._userDataWriter,w.doc.key,w.doc,new Na(l._snapshot.mutatedKeys.has(w.doc.key),l._snapshot.fromCache),l.query.converter),X=-1,le=-1;return 0!==w.type&&(X=g.indexOf(w.doc.key),g=g.delete(w.doc.key)),1!==w.type&&(le=(g=g.add(w.doc)).indexOf(w.doc.key)),{type:Ic(w.type),doc:B,oldIndex:X,newIndex:le}})}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges},t}();function Ic(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}function Ul(t,e){return t instanceof ns&&e instanceof ns?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ys&&e instanceof ys&&t._firestore===e._firestore&&Jh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Hl(t){if(el(t)&&0===t.explicitOrderBy.length)throw new V(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pa=function(){};function bs(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var l=0,u=e;l<u.length;l++){var f=u[l];t=f._apply(t)}return t}var xc=function(t){function e(i,l,u){var f=this;return(f=t.call(this)||this).jc=i,f.Wc=l,f.Gc=u,f.type="where",f}return(0,K.ZT)(e,t),e.prototype._apply=function(i){var f,w,l=vl(i.firestore),u=function(f,g,w,B,X,le,Ce){var Le;if(X.isKeyField()){if("array-contains"===le||"array-contains-any"===le)throw new V(S.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+le+"' queries on FieldPath.documentId().");if("in"===le||"not-in"===le){_f(Ce,le);for(var pt=[],mt=0,Ct=Ce;mt<Ct.length;mt++)pt.push(gf(B,f,Ct[mt]));Le={arrayValue:{values:pt}}}else Le=gf(B,f,Ce)}else"in"!==le&&"not-in"!==le&&"array-contains-any"!==le||_f(Ce,le),Le=au(w,"where",Ce,"in"===le||"not-in"===le);var Xt=Zo.create(X,le,Le);return function(vn,gn){if(gn.g()){var ri=wu(vn);if(null!==ri&&!ri.isEqual(gn.field))throw new V(S.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+ri.toString()+"' and '"+gn.field.toString()+"'");var wn=tl(vn);null!==wn&&vf(0,gn.field,wn)}var Ai=function(Ur,mu){for(var rs=0,Mm=Ur.filters;rs<Mm.length;rs++){var Tm=Mm[rs];if(mu.indexOf(Tm.op)>=0)return Tm.op}return null}(vn,function(Ur){switch(Ur){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(gn.op));if(null!==Ai)throw new V(S.INVALID_ARGUMENT,Ai===gn.op?"Invalid query. You cannot use more than one '"+gn.op.toString()+"' filter.":"Invalid query. You cannot use '"+gn.op.toString()+"' filters with '"+Ai.toString()+"' filters.")}(f,Xt),Xt}(i._query,0,l,i.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Uo(i.firestore,i.converter,(w=(f=i._query).filters.concat([u]),new na(f.path,f.collectionGroup,f.explicitOrderBy.slice(),w,f.limit,f.limitType,f.startAt,f.endAt)))},e}(pa),rm=function(t){function e(i,l){var u=this;return(u=t.call(this)||this).jc=i,u.zc=l,u.type="orderBy",u}return(0,K.ZT)(e,t),e.prototype._apply=function(i){var u,g,l=function(u,f,g){if(null!==u.startAt)throw new V(S.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new V(S.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var w=new Xa(f,g);return function(B,X){if(null===tl(B)){var le=wu(B);null!==le&&vf(0,le,X.field)}}(u,w),w}(i._query,this.jc,this.zc);return new Uo(i.firestore,i.converter,(g=(u=i._query).explicitOrderBy.concat([l]),new na(u.path,u.collectionGroup,g,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)))},e}(pa),hf=function(t){function e(i,l,u){var f=this;return(f=t.call(this)||this).type=i,f.Hc=l,f.Jc=u,f}return(0,K.ZT)(e,t),e.prototype._apply=function(i){return new Uo(i.firestore,i.converter,nl(i._query,this.Hc,this.Jc))},e}(pa),ff=function(t){function e(i,l,u){var f=this;return(f=t.call(this)||this).type=i,f.Yc=l,f.Xc=u,f}return(0,K.ZT)(e,t),e.prototype._apply=function(i){var u,f,l=mf(i,this.type,this.Yc,this.Xc);return new Uo(i.firestore,i.converter,(f=l,new na((u=i._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)))},e}(pa),pf=function(t){function e(i,l,u){var f=this;return(f=t.call(this)||this).type=i,f.Yc=l,f.Xc=u,f}return(0,K.ZT)(e,t),e.prototype._apply=function(i){var u,f,l=mf(i,this.type,this.Yc,this.Xc);return new Uo(i.firestore,i.converter,(f=l,new na((u=i._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)))},e}(pa);function mf(t,e,i,l){if(i[0]=(0,fe.m9)(i[0]),i[0]instanceof Xs)return function(f,g,w,B,X){if(!B)throw new V(S.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+w+"().");for(var le=[],Ce=0,Le=xl(f);Ce<Le.length;Ce++){var pt=Le[Ce];if(pt.field.isKeyField())le.push($l(g,B.key));else{var mt=B.data.field(pt.field);if(Pc(mt))throw new V(S.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===mt){var Ct=pt.field.canonicalString();throw new V(S.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Ct+"' (used as the orderBy) does not exist.")}le.push(mt)}}return new Ql(le,X)}(t._query,t.firestore._databaseId,e,i[0]._document,l);var u=vl(t.firestore);return function(f,g,w,B,X,le){var Ce=f.explicitOrderBy;if(X.length>Ce.length)throw new V(S.INVALID_ARGUMENT,"Too many arguments provided to "+B+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Le=[],pt=0;pt<X.length;pt++){var mt=X[pt];if(Ce[pt].field.isKeyField()){if("string"!=typeof mt)throw new V(S.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+B+"(), but got a "+typeof mt);if(!Eu(f)&&-1!==mt.indexOf("/"))throw new V(S.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+B+"() must be a plain document ID, but '"+mt+"' contains a slash.");var Ct=f.path.child(fi.fromString(mt));if(!Cn.isDocumentKey(Ct))throw new V(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+B+"() must result in a valid document path, but '"+Ct+"' is not because it contains an odd number of segments.");var Gt=new Cn(Ct);Le.push($l(g,Gt))}else{var Xt=au(w,B,mt);Le.push(Xt)}}return new Ql(Le,le)}(t._query,t.firestore._databaseId,u,e,i,l)}function gf(t,e,i){if("string"==typeof(i=(0,fe.m9)(i))){if(""===i)throw new V(S.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Eu(e)&&-1!==i.indexOf("/"))throw new V(S.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+i+"' contains a '/' character.");var l=e.path.child(fi.fromString(i));if(!Cn.isDocumentKey(l))throw new V(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+l+"' is not because it has an odd number of segments ("+l.length+").");return $l(t,new Cn(l))}if(i instanceof ar)return $l(t,i._key);throw new V(S.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Cd(i)+".")}function _f(t,e){if(!Array.isArray(t)||0===t.length)throw new V(S.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new V(S.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function vf(t,e,i){if(!i.isEqual(e))throw new V(S.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+i.toString()+"' instead.")}var Sd=function(){function t(){}return t.prototype.convertValue=function(e,i){switch(void 0===i&&(i="none"),qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw Ot()}},t.prototype.convertObject=function(e,i){var l=this,u={};return co(e.fields,function(f,g){u[f]=l.convertValue(g,i)}),u},t.prototype.convertGeoPoint=function(e){return new tf(_r(e.latitude),_r(e.longitude))},t.prototype.convertArray=function(e,i){var l=this;return(e.values||[]).map(function(u){return l.convertValue(u,i)})},t.prototype.convertServerTimestamp=function(e,i){switch(i){case"previous":var l=Zd(e);return null==l?null:this.convertValue(l,i);case"estimate":return this.convertTimestamp(xs(e));default:return null}},t.prototype.convertTimestamp=function(e){var i=Da(e);return new fr(i.seconds,i.nanos)},t.prototype.convertDocumentKey=function(e,i){var l=fi.fromString(e);nn(Xf(l));var u=new yd(l.get(1),l.get(3)),f=new Cn(l.popFirst(5));return u.isEqual(i)||vt("Document "+f+" contains a document reference within a different database ("+u.projectId+"/"+u.database+") which is not supported. It will be treated as a reference in the current database ("+i.projectId+"/"+i.database+") instead."),f},t}();function Ad(t,e,i){return t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e}var om=function(t){function e(i){var l=this;return(l=t.call(this)||this).firestore=i,l}return(0,K.ZT)(e,t),e.prototype.convertBytes=function(i){return new Tc(i)},e.prototype.convertReference=function(i){var l=this.convertDocumentKey(i,this.firestore._databaseId);return new ar(this.firestore,null,l)},e}(Sd),Ug=function(){function t(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=vl(e)}return t.prototype.set=function(e,i,l){this._verifyNotCommitted();var u=La(e,this._firestore),f=Ad(u.converter,i,l),g=Sc(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,l);return this._mutations.push(g.toMutation(u._key,Xr.none())),this},t.prototype.update=function(e,i,l){for(var u=[],f=3;f<arguments.length;f++)u[f-3]=arguments[f];this._verifyNotCommitted();var g,w=La(e,this._firestore);return g="string"==typeof(i=(0,fe.m9)(i))||i instanceof Zs?lf(this._dataReader,"WriteBatch.update",w._key,i,l,u):af(this._dataReader,"WriteBatch.update",w._key,i),this._mutations.push(g.toMutation(w._key,Xr.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var i=La(e,this._firestore);return this._mutations=this._mutations.concat(new Pl(i._key,Xr.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new V(S.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function La(t,e){if((t=(0,fe.m9)(t)).firestore!==e)throw new V(S.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var bl=function(t){function e(i){var l=this;return(l=t.call(this)||this).firestore=i,l}return(0,K.ZT)(e,t),e.prototype.convertBytes=function(i){return new Tc(i)},e.prototype.convertReference=function(i){var l=this.convertDocumentKey(i,this.firestore._databaseId);return new ar(this.firestore,null,l)},e}(Sd);function sm(t,e,i){t=oi(t,ar);var l=oi(t.firestore,Sr),u=Ad(t.converter,e,i);return lu(l,[Sc(vl(l),"setDoc",t._key,u,null!==t.converter,i).toMutation(t._key,Xr.none())])}function am(t,e,i){for(var l=[],u=3;u<arguments.length;u++)l[u-3]=arguments[u];t=oi(t,ar);var f=oi(t.firestore,Sr),g=vl(f);return lu(f,[("string"==typeof(e=(0,fe.m9)(e))||e instanceof Zs?lf(g,"updateDoc",t._key,e,i,l):af(g,"updateDoc",t._key,e)).toMutation(t._key,Xr.exists(!0))])}function yf(t){for(var e,i,l,u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];t=(0,fe.m9)(t);var g={includeMetadataChanges:!1},w=0;"object"!=typeof u[w]||jl(u[w])||(g=u[w],w++);var B,X,le,Ce={includeMetadataChanges:g.includeMetadataChanges};if(jl(u[w])){var Le=u[w];u[w]=null===(e=Le.next)||void 0===e?void 0:e.bind(Le),u[w+1]=null===(i=Le.error)||void 0===i?void 0:i.bind(Le),u[w+2]=null===(l=Le.complete)||void 0===l?void 0:l.bind(Le)}if(t instanceof ar)X=oi(t.firestore,Sr),le=Ma(t._key.path),B={next:function(Ct){u[w]&&u[w](Id(X,t,Ct))},error:u[w+1],complete:u[w+2]};else{var pt=oi(t,Uo);X=oi(pt.firestore,Sr),le=pt._query;var mt=new bl(X);B={next:function(Ct){u[w]&&u[w](new ys(X,mt,pt,Ct))},error:u[w+1],complete:u[w+2]},Hl(t._query)}return function(Ct,Gt,Xt,vn){var gn=this,ri=new ou(vn),wn=new Nh(Gt,ri,Xt);return Ct.asyncQueue.enqueueAndForget(function(){return(0,K.mG)(gn,void 0,void 0,function(){var Ai;return(0,K.Jh)(this,function(Ur){switch(Ur.label){case 0:return Ai=xp,[4,ml(Ct)];case 1:return[2,Ai.apply(void 0,[Ur.sent(),wn])]}})})}),function(){ri.Wo(),Ct.asyncQueue.enqueueAndForget(function(){return(0,K.mG)(gn,void 0,void 0,function(){var Ai;return(0,K.Jh)(this,function(Ur){switch(Ur.label){case 0:return Ai=ud,[4,ml(Ct)];case 1:return[2,Ai.apply(void 0,[Ur.sent(),wn])]}})})})}}(mo(X),le,Ce,B)}function lu(t,e){return function(i,l){var u=this,f=new xo;return i.asyncQueue.enqueueAndForget(function(){return(0,K.mG)(u,void 0,void 0,function(){var g;return(0,K.Jh)(this,function(w){switch(w.label){case 0:return g=Dg,[4,Kh(i)];case 1:return[2,g.apply(void 0,[w.sent(),l,f])]}})})}),f.promise}(mo(t),e)}function Id(t,e,i){var l=i.docs.get(e._key),u=new bl(t);return new ns(t,u,e._key,l,new Na(i.hasPendingWrites,i.fromCache),e.converter)}var Hg=function(t){function e(i,l){var u=this;return(u=t.call(this,i,l)||this)._firestore=i,u}return(0,K.ZT)(e,t),e.prototype.get=function(i){var l=this,u=La(i,this._firestore),f=new bl(this._firestore);return t.prototype.get.call(this,i).then(function(g){return new ns(l._firestore,f,u._key,g._document,new Na(!1,!1),u.converter)})},e}(function(){function t(e,i){this._firestore=e,this._transaction=i,this._dataReader=vl(e)}return t.prototype.get=function(e){var i=this,l=La(e,this._firestore),u=new om(this._firestore);return this._transaction.lookup([l._key]).then(function(f){if(!f||1!==f.length)return Ot();var g=f[0];if(g.isFoundDocument())return new Xs(i._firestore,u,g.key,g,l.converter);if(g.isNoDocument())return new Xs(i._firestore,u,l._key,null,l.converter);throw Ot()})},t.prototype.set=function(e,i,l){var u=La(e,this._firestore),f=Ad(u.converter,i,l),g=Sc(this._dataReader,"Transaction.set",u._key,f,null!==u.converter,l);return this._transaction.set(u._key,g),this},t.prototype.update=function(e,i,l){for(var u=[],f=3;f<arguments.length;f++)u[f-3]=arguments[f];var g,w=La(e,this._firestore);return g="string"==typeof(i=(0,fe.m9)(i))||i instanceof Zs?lf(this._dataReader,"Transaction.update",w._key,i,l,u):af(this._dataReader,"Transaction.update",w._key,i),this._transaction.update(w._key,g),this},t.prototype.delete=function(e){var i=La(e,this._firestore);return this._transaction.delete(i._key),this},t}());function lm(){if("undefined"==typeof Uint8Array)throw new V(S.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Gg(){if("undefined"==typeof atob)throw new V(S.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var cm=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return Gg(),new t(Tc.fromBase64String(e))},t.fromUint8Array=function(e){return lm(),new t(Tc.fromUint8Array(e))},t.prototype.toBase64=function(){return Gg(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return lm(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),bf=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,i){return function(l,u){ef(l=oi(l,Sr));var f=mo(l),g=l._freezeSettings(),w=new _d;return em(f,w,new kg(w,g.cacheSizeBytes,null==u?void 0:u.forceOwnership))}(e._delegate,{forceOwnership:i})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(i){ef(i=oi(i,Sr));var l=mo(i),u=i._freezeSettings(),f=new _d;return em(l,f,new Og(f,u.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(i){var l=this;if(i._initialized&&!i._terminated)throw new V(S.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var u=new xo;return i._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,K.mG)(l,void 0,void 0,function(){var f;return(0,K.Jh)(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,function(w){return(0,K.mG)(this,void 0,void 0,function(){return(0,K.Jh)(this,function(X){switch(X.label){case 0:return Ys.yt()?[4,Ys.delete(w+"main")]:[2,Promise.resolve()];case 1:return X.sent(),[2]}})})}(Qu(i._databaseId,i._persistenceKey))];case 1:return g.sent(),u.resolve(),[3,3];case 2:return f=g.sent(),u.reject(f),[3,3];case 3:return[2]}})})}),u.promise}(e._delegate)},t}(),xd=function(){function t(e,i,l){var u=this;this._delegate=i,this.Zc=l,this.INTERNAL={delete:function(){return u.terminate()}},e instanceof yd||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var i=this._delegate._getSettings();e.merge||i.host===e.host||hn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},i),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,i,l){void 0===l&&(l={}),function(u,f,g,w){var B;void 0===w&&(w={});var X=(u=oi(u,Mc))._getSettings();if("firestore.googleapis.com"!==X.host&&X.host!==f&&hn("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},X),{host:f+":"+g,ssl:!1})),w.mockUserToken){var le,Ce;if("string"==typeof w.mockUserToken)le=w.mockUserToken,Ce=Tr.MOCK_USER;else{le=(0,fe.Sg)(w.mockUserToken,null===(B=u._app)||void 0===B?void 0:B.options.projectId);var Le=w.mockUserToken.sub||w.mockUserToken.user_id;if(!Le)throw new V(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Ce=new Tr(Le)}u._credentials=new Wp(new $p(le,Ce))}}(this._delegate,e,i,l)},t.prototype.enableNetwork=function(){return function(e){var i=this;return e.asyncQueue.enqueue(function(){return(0,K.mG)(i,void 0,void 0,function(){var l,u;return(0,K.Jh)(this,function(f){switch(f.label){case 0:return[4,Wh(e)];case 1:return l=f.sent(),[4,wc(e)];case 2:return u=f.sent(),[2,(l.setNetworkEnabled(!0),g=u,w=Ut(g),w.Or.delete(0),rd(w))]}var g,w})})})}(mo(oi(this._delegate,Sr)))},t.prototype.disableNetwork=function(){return function(e){var i=this;return e.asyncQueue.enqueue(function(){return(0,K.mG)(i,void 0,void 0,function(){var l,u;return(0,K.Jh)(this,function(f){switch(f.label){case 0:return[4,Wh(e)];case 1:return l=f.sent(),[4,wc(e)];case 2:return u=f.sent(),[2,(l.setNetworkEnabled(!1),function(g){return(0,K.mG)(this,void 0,void 0,function(){var w;return(0,K.Jh)(this,function(B){switch(B.label){case 0:return(w=Ut(g)).Or.add(0),[4,vs(w)];case 1:return B.sent(),w.Br.set("Offline"),[2]}})})}(u))]}})})})}(mo(oi(this._delegate,Sr)))},t.prototype.enablePersistence=function(e){var i=!1,l=!1;return e&&qp("synchronizeTabs",i=!!e.synchronizeTabs,"experimentalForceOwningTab",l=!!e.experimentalForceOwningTab),i?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,l)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var i=this,l=new xo;return e.asyncQueue.enqueueAndForget(function(){return(0,K.mG)(i,void 0,void 0,function(){var u;return(0,K.Jh)(this,function(f){switch(f.label){case 0:return u=Np,[4,Kh(e)];case 1:return[2,u.apply(void 0,[f.sent(),l])]}})})}),l.promise}(mo(oi(this._delegate,Sr)))},t.prototype.onSnapshotsInSync=function(e){return l=e,function(u,f){var g=this,w=new ou(f);return u.asyncQueue.enqueueAndForget(function(){return(0,K.mG)(g,void 0,void 0,function(){var B;return(0,K.Jh)(this,function(X){switch(X.label){case 0:return B=function(le,Ce){Ut(le).Gr.add(Ce),Ce.next()},[4,ml(u)];case 1:return[2,B.apply(void 0,[X.sent(),w])]}})})}),function(){w.Wo(),u.asyncQueue.enqueueAndForget(function(){return(0,K.mG)(g,void 0,void 0,function(){var B;return(0,K.Jh)(this,function(X){switch(X.label){case 0:return B=function(le,Ce){Ut(le).Gr.delete(Ce)},[4,ml(u)];case 1:return[2,B.apply(void 0,[X.sent(),w])]}})})})}}(mo(oi(this._delegate,Sr)),jl(l)?l:{next:l});var l},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new V(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Od(this,Xp(this._delegate,e))}catch(i){throw is(i,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Cl(this,wd(this._delegate,e))}catch(i){throw is(i,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new uu(this,function(i,l){if(i=oi(i,Mc),Zh("collectionGroup","collection id",l),l.indexOf("/")>=0)throw new V(S.INVALID_ARGUMENT,"Invalid collection ID '"+l+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Uo(i,null,(u=l,new na(fi.emptyPath(),u)));var u}(this._delegate,e))}catch(i){throw is(i,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var l,i=this;return function(f,g){var w=this,B=new xo;return f.asyncQueue.enqueueAndForget(function(){return(0,K.mG)(w,void 0,void 0,function(){var X;return(0,K.Jh)(this,function(le){switch(le.label){case 0:return[4,(Ce=f,Dc(Ce).then(function(Le){return Le.datastore}))];case 1:return X=le.sent(),new Fa(f.asyncQueue,X,g,B).run(),[2]}var Ce})})}),B.promise}(mo(l=this._delegate),function(f){return function(l){return e(new zg(i,l))}(new Hg(l,f))})},t.prototype.batch=function(){var e=this;return mo(this._delegate),new $g(new Ug(this._delegate,function(i){return lu(e._delegate,i)}))},t.prototype.loadBundle=function(e){throw new V(S.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new V(S.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Rd=function(t){function e(i){var l=this;return(l=t.call(this)||this).firestore=i,l}return(0,K.ZT)(e,t),e.prototype.convertBytes=function(i){return new cm(new Tc(i))},e.prototype.convertReference=function(i){var l=this.convertDocumentKey(i,this.firestore._databaseId);return Cl.eu(l,this.firestore,null)},e}(Sd),zg=function(){function t(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new Rd(e)}return t.prototype.get=function(e){var i=this,l=Dl(e);return this._delegate.get(l).then(function(u){return new cu(i._firestore,new ns(i._firestore._delegate,i._userDataWriter,u._key,u._document,u.metadata,l.converter))})},t.prototype.set=function(e,i,l){var u=Dl(e);return l?(gl("Transaction.set",l),this._delegate.set(u,i,l)):this._delegate.set(u,i),this},t.prototype.update=function(e,i,l){for(var u,f=[],g=3;g<arguments.length;g++)f[g-3]=arguments[g];var w=Dl(e);return 2===arguments.length?this._delegate.update(w,i):(u=this._delegate).update.apply(u,(0,K.ev)([w,i,l],f)),this},t.prototype.delete=function(e){var i=Dl(e);return this._delegate.delete(i),this},t}(),$g=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,i,l){var u=Dl(e);return l?(gl("WriteBatch.set",l),this._delegate.set(u,i,l)):this._delegate.set(u,i),this},t.prototype.update=function(e,i,l){for(var u,f=[],g=3;g<arguments.length;g++)f[g-3]=arguments[g];var w=Dl(e);return 2===arguments.length?this._delegate.update(w,i):(u=this._delegate).update.apply(u,(0,K.ev)([w,i,l],f)),this},t.prototype.delete=function(e){var i=Dl(e);return this._delegate.delete(i),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),kd=function(){function t(e,i,l){this._firestore=e,this._userDataWriter=i,this._delegate=l}return t.prototype.fromFirestore=function(e,i){var l=new fa(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rc(this._firestore,l),null!=i?i:{})},t.prototype.toFirestore=function(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)},t.nu=function(e,i){var l=t.su,u=l.get(e);u||l.set(e,u=new WeakMap);var f=u.get(i);return f||(f=new t(e,new Rd(e),i),u.set(i,f)),f},t}();kd.su=new WeakMap;var Cl=function(){function t(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new Rd(e)}return t.iu=function(e,i,l){if(e.length%2!=0)throw new V(S.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(i,new ar(i._delegate,l,new Cn(e)))},t.eu=function(e,i,l){return new t(i,new ar(i._delegate,l,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Od(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Od(this.firestore,Xp(this._delegate,e))}catch(i){throw is(i,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=(0,fe.m9)(e))instanceof ar&&Jp(this._delegate,e)},t.prototype.set=function(e,i){i=gl("DocumentReference.set",i);try{return i?sm(this._delegate,e,i):sm(this._delegate,e)}catch(l){throw is(l,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,i){for(var l=[],u=2;u<arguments.length;u++)l[u-2]=arguments[u];try{return 1===arguments.length?am(this._delegate,e):am.apply(void 0,(0,K.ev)([this._delegate,e,i],l))}catch(f){throw is(f,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return lu(oi((e=this._delegate).firestore,Sr),[new Pl(e._key,Xr.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var u=um(i),f=Gl(i,function(g){return new cu(e.firestore,new ns(e.firestore._delegate,e._userDataWriter,g._key,g._document,g.metadata,e._delegate.converter))});return yf(this._delegate,u,f)},t.prototype.get=function(e){var i=this;return("cache"===(null==e?void 0:e.source)?function(l){l=oi(l,ar);var u=oi(l.firestore,Sr),f=mo(u),g=new bl(u);return function(w,B){var X=this,le=new xo;return w.asyncQueue.enqueueAndForget(function(){return(0,K.mG)(X,void 0,void 0,function(){var Ce;return(0,K.Jh)(this,function(Le){switch(Le.label){case 0:return Ce=function(pt,mt,Ct){return(0,K.mG)(this,void 0,void 0,function(){var Gt,Xt;return(0,K.Jh)(this,function(vn){switch(vn.label){case 0:return vn.trys.push([0,2,,3]),[4,(gn=pt,ri=mt,wn=Ut(gn),wn.persistence.runTransaction("read document","readonly",function(Ai){return wn.Mn.mn(Ai,ri)}))];case 1:return(Xt=vn.sent()).isFoundDocument()?Ct.resolve(Xt):Xt.isNoDocument()?Ct.resolve(null):Ct.reject(new V(S.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Gt=vn.sent(),Xt=pl(Gt,"Failed to get document '"+mt+" from cache"),Ct.reject(Xt),[3,3];case 3:return[2]}var gn,ri,wn})})},[4,su(w)];case 1:return[2,Ce.apply(void 0,[Le.sent(),B,le])]}})})}),le.promise}(f,l._key).then(function(w){return new ns(u,g,l._key,w,new Na(null!==w&&w.hasLocalMutations,!0),l.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(l){l=oi(l,ar);var u=oi(l.firestore,Sr);return qh(mo(u),l._key,{source:"server"}).then(function(f){return Id(u,l,f)})}(this._delegate):function(l){l=oi(l,ar);var u=oi(l.firestore,Sr);return qh(mo(u),l._key).then(function(f){return Id(u,l,f)})}(this._delegate)).then(function(l){return new cu(i.firestore,new ns(i.firestore._delegate,i._userDataWriter,l._key,l._document,l.metadata,i._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?kd.nu(this.firestore,e):null))},t}();function is(t,e,i){return t.message=t.message.replace(e,i),t}function um(t){for(var e=0,i=t;e<i.length;e++){var l=i[e];if("object"==typeof l&&!jl(l))return l}return{}}function Gl(t,e){var i,l,u;return{next:function(f){u.next&&u.next(e(f))},error:null===(i=(u=jl(t[0])?t[0]:jl(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===i?void 0:i.bind(u),complete:null===(l=u.complete)||void 0===l?void 0:l.bind(u)}}var cu=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Cl(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,i){return this._delegate.get(e,i)},t.prototype.isEqual=function(e){return Ul(this._delegate,e._delegate)},t}(),Rc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,K.ZT)(e,t),e.prototype.data=function(i){return this._delegate.data(i)},e}(cu),uu=function(){function t(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new Rd(e)}return t.prototype.where=function(e,i,l){try{return new t(this.firestore,bs(this._delegate,(g=l,w=i,B=Ho("where",u=e),new xc(B,w,g))))}catch(u){throw is(u,/(orderBy|where)\(\)/,"Query.$1()")}var u,g,w,B},t.prototype.orderBy=function(e,i){try{return new t(this.firestore,bs(this._delegate,function(l,u){void 0===u&&(u="asc");var f=u,g=Ho("orderBy",l);return new rm(g,f)}(e,i)))}catch(l){throw is(l,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,bs(this._delegate,(Dd("limit",i=e),new hf("limit",i,"F"))))}catch(i){throw is(i,"limit()","Query.limit()")}var i},t.prototype.limitToLast=function(e){try{return new t(this.firestore,bs(this._delegate,(Dd("limitToLast",i=e),new hf("limitToLast",i,"L"))))}catch(i){throw is(i,"limitToLast()","Query.limitToLast()")}var i},t.prototype.startAt=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,bs(this._delegate,function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return new ff("startAt",l,!0)}.apply(void 0,e)))}catch(l){throw is(l,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,bs(this._delegate,function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return new ff("startAfter",l,!1)}.apply(void 0,e)))}catch(l){throw is(l,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,bs(this._delegate,function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return new pf("endBefore",l,!0)}.apply(void 0,e)))}catch(l){throw is(l,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,bs(this._delegate,function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return new pf("endAt",l,!1)}.apply(void 0,e)))}catch(l){throw is(l,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return Jh(this._delegate,e._delegate)},t.prototype.get=function(e){var i=this;return("cache"===(null==e?void 0:e.source)?function(l){l=oi(l,Uo);var u=oi(l.firestore,Sr),f=mo(u),g=new bl(u);return function(w,B){var X=this,le=new xo;return w.asyncQueue.enqueueAndForget(function(){return(0,K.mG)(X,void 0,void 0,function(){var Ce;return(0,K.Jh)(this,function(Le){switch(Le.label){case 0:return Ce=function(pt,mt,Ct){return(0,K.mG)(this,void 0,void 0,function(){var Gt,Xt,vn,gn,ri;return(0,K.Jh)(this,function(wn){switch(wn.label){case 0:return wn.trys.push([0,2,,3]),[4,Xc(pt,mt,!0)];case 1:return ri=wn.sent(),Gt=new Lh(mt,ri.Bn),Xt=Gt._o(ri.documents),vn=Gt.applyChanges(Xt,!1),Ct.resolve(vn.snapshot),[3,3];case 2:return gn=wn.sent(),ri=pl(gn,"Failed to execute query '"+mt+" against cache"),Ct.reject(ri),[3,3];case 3:return[2]}})})},[4,su(w)];case 1:return[2,Ce.apply(void 0,[Le.sent(),B,le])]}})})}),le.promise}(f,l._query).then(function(w){return new ys(u,g,l,w)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(l){l=oi(l,Uo);var u=oi(l.firestore,Sr),f=mo(u),g=new bl(u);return Qh(f,l._query,{source:"server"}).then(function(w){return new ys(u,g,l,w)})}(this._delegate):function(l){l=oi(l,Uo);var u=oi(l.firestore,Sr),f=mo(u),g=new bl(u);return Hl(l._query),Qh(f,l._query).then(function(w){return new ys(u,g,l,w)})}(this._delegate)).then(function(l){return new kc(i.firestore,new ys(i.firestore._delegate,i._userDataWriter,i._delegate,l._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var u=um(i),f=Gl(i,function(g){return new kc(e.firestore,new ys(e.firestore._delegate,e._userDataWriter,e._delegate,g._snapshot))});return yf(this._delegate,u,f)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?kd.nu(this.firestore,e):null))},t}(),dm=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Rc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),kc=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"query",{get:function(){return new uu(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(i){return new Rc(e._firestore,i)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var i=this;return this._delegate.docChanges(e).map(function(l){return new dm(i._firestore,l)})},t.prototype.forEach=function(e,i){var l=this;this._delegate.forEach(function(u){e.call(i,new Rc(l._firestore,u))})},t.prototype.isEqual=function(e){return Ul(this._delegate,e._delegate)},t}(),Od=function(t){function e(i,l){var u=this;return(u=t.call(this,i,l)||this).firestore=i,u._delegate=l,u}return(0,K.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var i=this._delegate.parent;return i?new Cl(this.firestore,i):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(i){try{return new Cl(this.firestore,void 0===i?wd(this._delegate):wd(this._delegate,i))}catch(l){throw is(l,"doc()","CollectionReference.doc()")}},e.prototype.add=function(i){var u,f,g,w,B,l=this;return(u=this._delegate,f=i,g=oi(u.firestore,Sr),w=wd(u),B=Ad(u.converter,f),lu(g,[Sc(vl(u.firestore),"addDoc",w._key,B,null!==u.converter,{}).toMutation(w._key,Xr.exists(!1))]).then(function(){return w})).then(function(u){return new Cl(l.firestore,u)})},e.prototype.isEqual=function(i){return Jp(this._delegate,i._delegate)},e.prototype.withConverter=function(i){return new e(this.firestore,this._delegate.withConverter(i?kd.nu(this.firestore,i):null))},e}(uu);function Dl(t){return oi(t,ar)}var Yg=function(){function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._delegate=new(Zs.bind.apply(Zs,(0,K.ev)([void 0],e)))}return t.documentId=function(){return new t(ms.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=(0,fe.m9)(e))instanceof Zs&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),Wg=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new Lg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new sf("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var l=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return new Bg("arrayUnion",u)}.apply(void 0,e);return l._methodName="FieldValue.arrayUnion",new t(l)},t.arrayRemove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var l=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return new Vg("arrayRemove",u)}.apply(void 0,e);return l._methodName="FieldValue.arrayRemove",new t(l)},t.increment=function(e){var i=new jg("increment",e);return i._methodName="FieldValue.increment",new t(i)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),Kg=R(2461),hm={Firestore:xd,GeoPoint:tf,Timestamp:fr,Blob:cm,Transaction:zg,WriteBatch:$g,DocumentReference:Cl,DocumentSnapshot:cu,Query:uu,QueryDocumentSnapshot:Rc,QuerySnapshot:kc,CollectionReference:Od,FieldPath:Yg,FieldValue:Wg,setLogLevel:function hv(t){ae.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function qg(t){t.INTERNAL.registerComponent(new Kg.wA("firestore",function(l){return e=l.getProvider("app").getImmediate(),i=l.getProvider("auth-internal"),new xd(e,new Sr(e,i),new bf);var e,i},"PUBLIC").setServiceProps(Object.assign({},hm))),t.registerVersion("@firebase/firestore","2.4.1")}(nt.Z),R(7579),R(6451),R(3900),R(6063),R(3099),R(590),R(576),R(9468);const zl=new z.OlP("angularfire2.auth.use-emulator");function Ld(t,e){return function _m(t,e=Te.z){return new Ee.y(i=>{let l;return null!=e?e.schedule(()=>{l=t.onSnapshot({includeMetadataChanges:!0},i)}):l=t.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=l&&l()}})}(t,e)}function Bd(t,e){return Ld(t,e).pipe((0,Tt.U)(i=>({payload:i,type:"query"})))}function Oc(t,e){return Bd(t,e).pipe((0,Ae.O)(void 0),lt(),(0,Tt.U)(([i,l])=>{const u=l.payload.docChanges(),f=u.map(g=>({type:g.type,payload:g}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((g,w)=>{const B=u.find(le=>le.doc.ref.isEqual(g.ref)),X=null==i?void 0:i.payload.docs.find(le=>le.ref.isEqual(g.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(g.metadata)||!B&&X&&JSON.stringify(X.metadata)===JSON.stringify(g.metadata)||f.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:g}})}),f}))}function Vd(t,e,i){return Oc(t,i).pipe((0,zt.R)((l,u)=>function e_(t,e,i){return e.forEach(l=>{i.indexOf(l.type)>-1&&(t=function ym(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return jd(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const i=t.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}return jd(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jd(t,e.oldIndex,1)}return t}(t,l))}),t}(l,u.map(f=>f.payload),e),[]),(0,st.x)(),(0,Tt.U)(l=>l.map(u=>({type:u.type,payload:u}))))}function jd(t,e,i,...l){const u=t.slice();return u.splice(e,i,...l),u}function Ud(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class wf{constructor(e,i,l){this.ref=e,this.query=i,this.afs=l}stateChanges(e){let i=Oc(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe((0,Tt.U)(l=>l.filter(u=>e.indexOf(u.type)>-1)))),i.pipe((0,Ae.O)(void 0),lt(),(0,ve.h)(([l,u])=>u.length>0||!l),(0,Tt.U)(([l,u])=>u),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe((0,zt.R)((i,l)=>[...i,...l],[]))}snapshotChanges(e){const i=Ud(e);return Vd(this.query,i,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Bd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(i=>i.payload.docs.map(l=>e.idField?Object.assign(Object.assign({},l.data()),{[e.idField]:l.id}):l.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,Fe.D)(this.query.get(e)).pipe((0,me.Q)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new bm(this.ref.doc(e),this.afs)}}class bm{constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){const l=this.ref.collection(e),{ref:u,query:f}=Mf(l,i);return new wf(u,f,this.afs)}snapshotChanges(){return function vm(t,e){return Ld(t,e).pipe((0,Ae.O)(void 0),lt(),(0,Tt.U)(([i,l])=>l.exists?(null==i?void 0:i.exists)?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Tt.U)(({payload:i})=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return(0,Fe.D)(this.ref.get(e)).pipe((0,me.Q)(this.afs.schedulers.insideAngular))}}class Cm{constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return e&&0!==e.length?Oc(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(i=>i.filter(l=>e.indexOf(l.type)>-1)),(0,ve.h)(i=>i.length>0),this.afs.keepUnstableUntilFirst):Oc(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe((0,zt.R)((i,l)=>[...i,...l],[]))}snapshotChanges(e){const i=Ud(e);return Vd(this.query,i,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Bd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(l=>l.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,Fe.D)(this.query.get(e)).pipe((0,me.Q)(this.afs.schedulers.insideAngular))}}const Hd=new z.OlP("angularfire2.enableFirestorePersistence"),Gd=new z.OlP("angularfire2.firestore.persistenceSettings"),zd=new z.OlP("angularfire2.firestore.settings"),Ef=new z.OlP("angularfire2.firestore.use-emulator");function Mf(t,e=(i=>i)){return{query:e(t),ref:t}}let Dm=(()=>{class t{constructor(i,l,u,f,g,w,B,X,le){this.schedulers=new he.HU(w),this.keepUnstableUntilFirst=(0,he.ss)(this.schedulers);const Ce=(0,he.on)(i,w,l);!ze.Z.auth&&le&&(0,he.yq)();const Le=X;[this.firestore,this.persistenceEnabled$]=(0,he.sI)(`${Ce.name}.firestore`,"AngularFirestore",Ce,()=>{const pt=w.runOutsideAngular(()=>Ce.firestore());if(f&&pt.settings(f),Le&&pt.useEmulator(...Le),u&&!(0,Ne.PM)(g)){const mt=()=>{try{return(0,Fe.D)(pt.enablePersistence(B||void 0).then(()=>!0,()=>!1))}catch(Ct){return"undefined"!=typeof console&&console.warn(Ct),(0,Ie.of)(!1)}};return[pt,w.runOutsideAngular(mt)]}return[pt,(0,Ie.of)(!1)]},[f,Le,u])}collection(i,l){let u;u="string"==typeof i?this.firestore.collection(i):i;const{ref:f,query:g}=Mf(u,l),w=this.schedulers.ngZone.run(()=>f);return new wf(w,g,this)}collectionGroup(i,l){const u=l||(g=>g),f=this.firestore.collectionGroup(i);return new Cm(u(f),this)}doc(i){let l;l="string"==typeof i?this.firestore.doc(i):i;const u=this.schedulers.ngZone.run(()=>l);return new bm(u,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(i){return new(i||t)(z.LFG(he.Dh),z.LFG(he.xv,8),z.LFG(Hd,8),z.LFG(zd,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(Gd,8),z.LFG(Ef,8),z.LFG(zl,8))},t.\u0275prov=z.Yz7({factory:function(){return new t(z.LFG(he.Dh),z.LFG(he.xv,8),z.LFG(Hd,8),z.LFG(zd,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(Gd,8),z.LFG(Ef,8),z.LFG(zl,8))},token:t,providedIn:"any"}),t})(),wm=(()=>{class t{static enablePersistence(i){return{ngModule:t,providers:[{provide:Hd,useValue:!0},{provide:Gd,useValue:i}]}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=z.oAB({type:t}),t.\u0275inj=z.cJS({providers:[Dm]}),t})(),Em=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=z.oAB({type:t,bootstrap:[Pe]}),t.\u0275inj=z.cJS({providers:[],imports:[[_.b2,xe,m.PW,ke.q,he.hO.initializeApp(De_firebaseConfig),wm]]}),t})();(0,z.G48)(),_.q6().bootstrapModule(Em).catch(t=>console.error(t))},5867:(Ht,Qe,R)=>{R.d(Qe,{Z:()=>_.Z});var _=R(8367),m="8.10.1";_.Z.registerVersion("firebase",m,"app"),_.Z.SDK_VERSION=m},1135:(Ht,Qe,R)=>{R.d(Qe,{X:()=>z});var _=R(7579);class z extends _.x{constructor(ue){super(),this._value=ue}get value(){return this.getValue()}_subscribe(ue){const de=super._subscribe(ue);return!de.closed&&ue.next(this._value),de}getValue(){const{hasError:ue,thrownError:de,_value:xe}=this;if(ue)throw de;return this._throwIfClosed(),xe}next(ue){super.next(this._value=ue)}}},8306:(Ht,Qe,R)=>{R.d(Qe,{y:()=>he});var _=R(930),z=R(727),m=R(8822),ue=R(4671);var Pe=R(2416),ke=R(576),De=R(2806);let he=(()=>{class Ie{constructor(ot){ot&&(this._subscribe=ot)}lift(ot){const Ue=new Ie;return Ue.source=this,Ue.operator=ot,Ue}subscribe(ot,Ue,lt){const Tt=function Fe(Ie){return Ie&&Ie instanceof _.Lv||function Ee(Ie){return Ie&&(0,ke.m)(Ie.next)&&(0,ke.m)(Ie.error)&&(0,ke.m)(Ie.complete)}(Ie)&&(0,z.Nn)(Ie)}(ot)?ot:new _.Hp(ot,Ue,lt);return(0,De.x)(()=>{const{operator:zt,source:st}=this;Tt.add(zt?zt.call(Tt,st):st?this._subscribe(Tt):this._trySubscribe(Tt))}),Tt}_trySubscribe(ot){try{return this._subscribe(ot)}catch(Ue){ot.error(Ue)}}forEach(ot,Ue){return new(Ue=Te(Ue))((lt,Tt)=>{const zt=new _.Hp({next:st=>{try{ot(st)}catch(ve){Tt(ve),zt.unsubscribe()}},error:Tt,complete:lt});this.subscribe(zt)})}_subscribe(ot){var Ue;return null===(Ue=this.source)||void 0===Ue?void 0:Ue.subscribe(ot)}[m.L](){return this}pipe(...ot){return function xe(Ie){return 0===Ie.length?ue.y:1===Ie.length?Ie[0]:function(ot){return Ie.reduce((Ue,lt)=>lt(Ue),ot)}}(ot)(this)}toPromise(ot){return new(ot=Te(ot))((Ue,lt)=>{let Tt;this.subscribe(zt=>Tt=zt,zt=>lt(zt),()=>Ue(Tt))})}}return Ie.create=Ae=>new Ie(Ae),Ie})();function Te(Ie){var Ae;return null!==(Ae=null!=Ie?Ie:Pe.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(Ht,Qe,R)=>{R.d(Qe,{x:()=>Pe});var _=R(8306),z=R(727);const ue=(0,R(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=R(8737),xe=R(2806);let Pe=(()=>{class De extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Te){const Ee=new ke(this,this);return Ee.operator=Te,Ee}_throwIfClosed(){if(this.closed)throw new ue}next(Te){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(Te)}})}error(Te){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Te;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(Te)}})}complete(){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Te}=this;for(;Te.length;)Te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Te;return(null===(Te=this.observers)||void 0===Te?void 0:Te.length)>0}_trySubscribe(Te){return this._throwIfClosed(),super._trySubscribe(Te)}_subscribe(Te){return this._throwIfClosed(),this._checkFinalizedStatuses(Te),this._innerSubscribe(Te)}_innerSubscribe(Te){const{hasError:Ee,isStopped:Fe,observers:Ie}=this;return Ee||Fe?z.Lc:(this.currentObservers=null,Ie.push(Te),new z.w0(()=>{this.currentObservers=null,(0,de.P)(Ie,Te)}))}_checkFinalizedStatuses(Te){const{hasError:Ee,thrownError:Fe,isStopped:Ie}=this;Ee?Te.error(Fe):Ie&&Te.complete()}asObservable(){const Te=new _.y;return Te.source=this,Te}}return De.create=(he,Te)=>new ke(he,Te),De})();class ke extends Pe{constructor(he,Te){super(),this.destination=he,this.source=Te}next(he){var Te,Ee;null===(Ee=null===(Te=this.destination)||void 0===Te?void 0:Te.next)||void 0===Ee||Ee.call(Te,he)}error(he){var Te,Ee;null===(Ee=null===(Te=this.destination)||void 0===Te?void 0:Te.error)||void 0===Ee||Ee.call(Te,he)}complete(){var he,Te;null===(Te=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===Te||Te.call(he)}_subscribe(he){var Te,Ee;return null!==(Ee=null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(he))&&void 0!==Ee?Ee:z.Lc}}},930:(Ht,Qe,R)=>{R.d(Qe,{Hp:()=>ot,Lv:()=>Ee});var _=R(576),z=R(727),m=R(2416),ue=R(7849),de=R(5032);const xe=De("C",void 0,void 0);function De(st,ve,me){return{kind:st,value:ve,error:me}}var he=R(3410),Te=R(2806);class Ee extends z.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,z.Nn)(ve)&&ve.add(this)):this.destination=zt}static create(ve,me,Ne){return new ot(ve,me,Ne)}next(ve){this.isStopped?Tt(function ke(st){return De("N",st,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Tt(function Pe(st){return De("E",void 0,st)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Tt(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Ie(st,ve){return Fe.call(st,ve)}class Ae{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:me}=this;if(me.next)try{me.next(ve)}catch(Ne){Ue(Ne)}}error(ve){const{partialObserver:me}=this;if(me.error)try{me.error(ve)}catch(Ne){Ue(Ne)}else Ue(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(me){Ue(me)}}}class ot extends Ee{constructor(ve,me,Ne){let ze;if(super(),(0,_.m)(ve)||!ve)ze={next:null!=ve?ve:void 0,error:null!=me?me:void 0,complete:null!=Ne?Ne:void 0};else{let nt;this&&m.v.useDeprecatedNextContext?(nt=Object.create(ve),nt.unsubscribe=()=>this.unsubscribe(),ze={next:ve.next&&Ie(ve.next,nt),error:ve.error&&Ie(ve.error,nt),complete:ve.complete&&Ie(ve.complete,nt)}):ze=ve}this.destination=new Ae(ze)}}function Ue(st){m.v.useDeprecatedSynchronousErrorHandling?(0,Te.O)(st):(0,ue.h)(st)}function Tt(st,ve){const{onStoppedNotification:me}=m.v;me&&he.z.setTimeout(()=>me(st,ve))}const zt={closed:!0,next:de.Z,error:function lt(st){throw st},complete:de.Z}},727:(Ht,Qe,R)=>{R.d(Qe,{Lc:()=>xe,w0:()=>de,Nn:()=>Pe});var _=R(576);const m=(0,R(3888).d)(De=>function(Te){De(this),this.message=Te?`${Te.length} errors occurred during unsubscription:\n${Te.map((Ee,Fe)=>`${Fe+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Te});var ue=R(8737);class de{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:Te}=this;if(Te)if(this._parentage=null,Array.isArray(Te))for(const Ie of Te)Ie.remove(this);else Te.remove(this);const{initialTeardown:Ee}=this;if((0,_.m)(Ee))try{Ee()}catch(Ie){he=Ie instanceof m?Ie.errors:[Ie]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Ie of Fe)try{ke(Ie)}catch(Ae){he=null!=he?he:[],Ae instanceof m?he=[...he,...Ae.errors]:he.push(Ae)}}if(he)throw new m(he)}}add(he){var Te;if(he&&he!==this)if(this.closed)ke(he);else{if(he instanceof de){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(Te=this._finalizers)&&void 0!==Te?Te:[]).push(he)}}_hasParent(he){const{_parentage:Te}=this;return Te===he||Array.isArray(Te)&&Te.includes(he)}_addParent(he){const{_parentage:Te}=this;this._parentage=Array.isArray(Te)?(Te.push(he),Te):Te?[Te,he]:he}_removeParent(he){const{_parentage:Te}=this;Te===he?this._parentage=null:Array.isArray(Te)&&(0,ue.P)(Te,he)}remove(he){const{_finalizers:Te}=this;Te&&(0,ue.P)(Te,he),he instanceof de&&he._removeParent(this)}}de.EMPTY=(()=>{const De=new de;return De.closed=!0,De})();const xe=de.EMPTY;function Pe(De){return De instanceof de||De&&"closed"in De&&(0,_.m)(De.remove)&&(0,_.m)(De.add)&&(0,_.m)(De.unsubscribe)}function ke(De){(0,_.m)(De)?De():De.unsubscribe()}},2416:(Ht,Qe,R)=>{R.d(Qe,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Ht,Qe,R)=>{R.d(Qe,{z:()=>de});var _=R(8189),m=R(3269),ue=R(8996);function de(...xe){return function z(){return(0,_.J)(1)}()((0,ue.D)(xe,(0,m.yG)(xe)))}},9770:(Ht,Qe,R)=>{R.d(Qe,{P:()=>m});var _=R(8306),z=R(8421);function m(ue){return new _.y(de=>{(0,z.Xf)(ue()).subscribe(de)})}},515:(Ht,Qe,R)=>{R.d(Qe,{E:()=>z});const z=new(R(8306).y)(de=>de.complete())},4128:(Ht,Qe,R)=>{R.d(Qe,{D:()=>ke});var _=R(8306),z=R(4742),m=R(8421),ue=R(3269),de=R(5403),xe=R(3268),Pe=R(1810);function ke(...De){const he=(0,ue.jO)(De),{args:Te,keys:Ee}=(0,z.D)(De),Fe=new _.y(Ie=>{const{length:Ae}=Te;if(!Ae)return void Ie.complete();const ot=new Array(Ae);let Ue=Ae,lt=Ae;for(let Tt=0;Tt<Ae;Tt++){let zt=!1;(0,m.Xf)(Te[Tt]).subscribe((0,de.x)(Ie,st=>{zt||(zt=!0,lt--),ot[Tt]=st},()=>Ue--,void 0,()=>{(!Ue||!zt)&&(lt||Ie.next(Ee?(0,Pe.n)(Ee,ot):ot),Ie.complete())}))}});return he?Fe.pipe((0,xe.Z)(he)):Fe}},8996:(Ht,Qe,R)=>{R.d(Qe,{D:()=>ve});var _=R(8421),z=R(5363),m=R(9468),xe=R(8306),ke=R(2202),De=R(576),he=R(9672);function Ee(me,Ne){if(!me)throw new Error("Iterable cannot be null");return new xe.y(ze=>{(0,he.f)(ze,Ne,()=>{const nt=me[Symbol.asyncIterator]();(0,he.f)(ze,Ne,()=>{nt.next().then(K=>{K.done?ze.complete():ze.next(K.value)})},0,!0)})})}var Fe=R(3670),Ie=R(8239),Ae=R(1144),ot=R(6495),Ue=R(2206),lt=R(4532),Tt=R(3260);function ve(me,Ne){return Ne?function st(me,Ne){if(null!=me){if((0,Fe.c)(me))return function ue(me,Ne){return(0,_.Xf)(me).pipe((0,m.R)(Ne),(0,z.Q)(Ne))}(me,Ne);if((0,Ae.z)(me))return function Pe(me,Ne){return new xe.y(ze=>{let nt=0;return Ne.schedule(function(){nt===me.length?ze.complete():(ze.next(me[nt++]),ze.closed||this.schedule())})})}(me,Ne);if((0,Ie.t)(me))return function de(me,Ne){return(0,_.Xf)(me).pipe((0,m.R)(Ne),(0,z.Q)(Ne))}(me,Ne);if((0,Ue.D)(me))return Ee(me,Ne);if((0,ot.T)(me))return function Te(me,Ne){return new xe.y(ze=>{let nt;return(0,he.f)(ze,Ne,()=>{nt=me[ke.h](),(0,he.f)(ze,Ne,()=>{let K,fe;try{({value:K,done:fe}=nt.next())}catch(Xe){return void ze.error(Xe)}fe?ze.complete():ze.next(K)},0,!0)}),()=>(0,De.m)(null==nt?void 0:nt.return)&&nt.return()})}(me,Ne);if((0,Tt.L)(me))return function zt(me,Ne){return Ee((0,Tt.Q)(me),Ne)}(me,Ne)}throw(0,lt.z)(me)}(me,Ne):(0,_.Xf)(me)}},4968:(Ht,Qe,R)=>{R.d(Qe,{R:()=>he});var _=R(8421),z=R(8306),m=R(5577),ue=R(1144),de=R(576),xe=R(3268);const Pe=["addListener","removeListener"],ke=["addEventListener","removeEventListener"],De=["on","off"];function he(Ae,ot,Ue,lt){if((0,de.m)(Ue)&&(lt=Ue,Ue=void 0),lt)return he(Ae,ot,Ue).pipe((0,xe.Z)(lt));const[Tt,zt]=function Ie(Ae){return(0,de.m)(Ae.addEventListener)&&(0,de.m)(Ae.removeEventListener)}(Ae)?ke.map(st=>ve=>Ae[st](ot,ve,Ue)):function Ee(Ae){return(0,de.m)(Ae.addListener)&&(0,de.m)(Ae.removeListener)}(Ae)?Pe.map(Te(Ae,ot)):function Fe(Ae){return(0,de.m)(Ae.on)&&(0,de.m)(Ae.off)}(Ae)?De.map(Te(Ae,ot)):[];if(!Tt&&(0,ue.z)(Ae))return(0,m.z)(st=>he(st,ot,Ue))((0,_.Xf)(Ae));if(!Tt)throw new TypeError("Invalid event target");return new z.y(st=>{const ve=(...me)=>st.next(1<me.length?me:me[0]);return Tt(ve),()=>zt(ve)})}function Te(Ae,ot){return Ue=>lt=>Ae[Ue](ot,lt)}},8421:(Ht,Qe,R)=>{R.d(Qe,{Xf:()=>Fe});var _=R(655),z=R(1144),m=R(8239),ue=R(8306),de=R(3670),xe=R(2206),Pe=R(4532),ke=R(6495),De=R(3260),he=R(576),Te=R(7849),Ee=R(8822);function Fe(st){if(st instanceof ue.y)return st;if(null!=st){if((0,de.c)(st))return function Ie(st){return new ue.y(ve=>{const me=st[Ee.L]();if((0,he.m)(me.subscribe))return me.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(st);if((0,z.z)(st))return function Ae(st){return new ue.y(ve=>{for(let me=0;me<st.length&&!ve.closed;me++)ve.next(st[me]);ve.complete()})}(st);if((0,m.t)(st))return function ot(st){return new ue.y(ve=>{st.then(me=>{ve.closed||(ve.next(me),ve.complete())},me=>ve.error(me)).then(null,Te.h)})}(st);if((0,xe.D)(st))return lt(st);if((0,ke.T)(st))return function Ue(st){return new ue.y(ve=>{for(const me of st)if(ve.next(me),ve.closed)return;ve.complete()})}(st);if((0,De.L)(st))return function Tt(st){return lt((0,De.Q)(st))}(st)}throw(0,Pe.z)(st)}function lt(st){return new ue.y(ve=>{(function zt(st,ve){var me,Ne,ze,nt;return(0,_.mG)(this,void 0,void 0,function*(){try{for(me=(0,_.KL)(st);!(Ne=yield me.next()).done;)if(ve.next(Ne.value),ve.closed)return}catch(K){ze={error:K}}finally{try{Ne&&!Ne.done&&(nt=me.return)&&(yield nt.call(me))}finally{if(ze)throw ze.error}}ve.complete()})})(st,ve).catch(me=>ve.error(me))})}},6451:(Ht,Qe,R)=>{R.d(Qe,{T:()=>xe});var _=R(8189),z=R(8421),m=R(515),ue=R(3269),de=R(8996);function xe(...Pe){const ke=(0,ue.yG)(Pe),De=(0,ue._6)(Pe,1/0),he=Pe;return he.length?1===he.length?(0,z.Xf)(he[0]):(0,_.J)(De)((0,de.D)(he,ke)):m.E}},9646:(Ht,Qe,R)=>{R.d(Qe,{of:()=>m});var _=R(3269),z=R(8996);function m(...ue){const de=(0,_.yG)(ue);return(0,z.D)(ue,de)}},2843:(Ht,Qe,R)=>{R.d(Qe,{_:()=>m});var _=R(8306),z=R(576);function m(ue,de){const xe=(0,z.m)(ue)?ue:()=>ue,Pe=ke=>ke.error(xe());return new _.y(de?ke=>de.schedule(Pe,0,ke):Pe)}},5963:(Ht,Qe,R)=>{R.d(Qe,{H:()=>de});var _=R(8306),z=R(4986),m=R(3532);function de(xe=0,Pe,ke=z.P){let De=-1;return null!=Pe&&((0,m.K)(Pe)?ke=Pe:De=Pe),new _.y(he=>{let Te=function ue(xe){return xe instanceof Date&&!isNaN(xe)}(xe)?+xe-ke.now():xe;Te<0&&(Te=0);let Ee=0;return ke.schedule(function(){he.closed||(he.next(Ee++),0<=De?this.schedule(void 0,De):he.complete())},Te)})}},5403:(Ht,Qe,R)=>{R.d(Qe,{x:()=>z});var _=R(930);function z(ue,de,xe,Pe,ke){return new m(ue,de,xe,Pe,ke)}class m extends _.Lv{constructor(de,xe,Pe,ke,De,he){super(de),this.onFinalize=De,this.shouldUnsubscribe=he,this._next=xe?function(Te){try{xe(Te)}catch(Ee){de.error(Ee)}}:super._next,this._error=ke?function(Te){try{ke(Te)}catch(Ee){de.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(Te){de.error(Te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:xe}=this;super.unsubscribe(),!xe&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},262:(Ht,Qe,R)=>{R.d(Qe,{K:()=>ue});var _=R(8421),z=R(5403),m=R(4482);function ue(de){return(0,m.e)((xe,Pe)=>{let he,ke=null,De=!1;ke=xe.subscribe((0,z.x)(Pe,void 0,void 0,Te=>{he=(0,_.Xf)(de(Te,ue(de)(xe))),ke?(ke.unsubscribe(),ke=null,he.subscribe(Pe)):De=!0})),De&&(ke.unsubscribe(),ke=null,he.subscribe(Pe))})}},4351:(Ht,Qe,R)=>{R.d(Qe,{b:()=>m});var _=R(5577),z=R(576);function m(ue,de){return(0,z.m)(de)?(0,_.z)(ue,de,1):(0,_.z)(ue,1)}},6590:(Ht,Qe,R)=>{R.d(Qe,{d:()=>m});var _=R(4482),z=R(5403);function m(ue){return(0,_.e)((de,xe)=>{let Pe=!1;de.subscribe((0,z.x)(xe,ke=>{Pe=!0,xe.next(ke)},()=>{Pe||xe.next(ue),xe.complete()}))})}},4825:(Ht,Qe,R)=>{R.d(Qe,{g:()=>Fe});var _=R(4986),z=R(7272),m=R(5698),ue=R(4482),de=R(5403),xe=R(5032),ke=R(4004),he=R(5577);function Te(Ie,Ae){return Ae?ot=>(0,z.z)(Ae.pipe((0,m.q)(1),function Pe(){return(0,ue.e)((Ie,Ae)=>{Ie.subscribe((0,de.x)(Ae,xe.Z))})}()),ot.pipe(Te(Ie))):(0,he.z)((ot,Ue)=>Ie(ot,Ue).pipe((0,m.q)(1),function De(Ie){return(0,ke.U)(()=>Ie)}(ot)))}var Ee=R(5963);function Fe(Ie,Ae=_.z){const ot=(0,Ee.H)(Ie,Ae);return Te(()=>ot)}},1884:(Ht,Qe,R)=>{R.d(Qe,{x:()=>ue});var _=R(4671),z=R(4482),m=R(5403);function ue(xe,Pe=_.y){return xe=null!=xe?xe:de,(0,z.e)((ke,De)=>{let he,Te=!0;ke.subscribe((0,m.x)(De,Ee=>{const Fe=Pe(Ee);(Te||!xe(he,Fe))&&(Te=!1,he=Fe,De.next(Ee))}))})}function de(xe,Pe){return xe===Pe}},9300:(Ht,Qe,R)=>{R.d(Qe,{h:()=>m});var _=R(4482),z=R(5403);function m(ue,de){return(0,_.e)((xe,Pe)=>{let ke=0;xe.subscribe((0,z.x)(Pe,De=>ue.call(de,De,ke++)&&Pe.next(De)))})}},8746:(Ht,Qe,R)=>{R.d(Qe,{x:()=>z});var _=R(4482);function z(m){return(0,_.e)((ue,de)=>{try{ue.subscribe(de)}finally{de.add(m)}})}},590:(Ht,Qe,R)=>{R.d(Qe,{P:()=>Pe});var _=R(6805),z=R(9300),m=R(5698),ue=R(6590),de=R(8068),xe=R(4671);function Pe(ke,De){const he=arguments.length>=2;return Te=>Te.pipe(ke?(0,z.h)((Ee,Fe)=>ke(Ee,Fe,Te)):xe.y,(0,m.q)(1),he?(0,ue.d)(De):(0,de.T)(()=>new _.K))}},4004:(Ht,Qe,R)=>{R.d(Qe,{U:()=>m});var _=R(4482),z=R(5403);function m(ue,de){return(0,_.e)((xe,Pe)=>{let ke=0;xe.subscribe((0,z.x)(Pe,De=>{Pe.next(ue.call(de,De,ke++))}))})}},8189:(Ht,Qe,R)=>{R.d(Qe,{J:()=>m});var _=R(5577),z=R(4671);function m(ue=1/0){return(0,_.z)(z.y,ue)}},5577:(Ht,Qe,R)=>{R.d(Qe,{z:()=>ke});var _=R(4004),z=R(8421),m=R(4482),ue=R(9672),de=R(5403),Pe=R(576);function ke(De,he,Te=1/0){return(0,Pe.m)(he)?ke((Ee,Fe)=>(0,_.U)((Ie,Ae)=>he(Ee,Ie,Fe,Ae))((0,z.Xf)(De(Ee,Fe))),Te):("number"==typeof he&&(Te=he),(0,m.e)((Ee,Fe)=>function xe(De,he,Te,Ee,Fe,Ie,Ae,ot){const Ue=[];let lt=0,Tt=0,zt=!1;const st=()=>{zt&&!Ue.length&&!lt&&he.complete()},ve=Ne=>lt<Ee?me(Ne):Ue.push(Ne),me=Ne=>{Ie&&he.next(Ne),lt++;let ze=!1;(0,z.Xf)(Te(Ne,Tt++)).subscribe((0,de.x)(he,nt=>{null==Fe||Fe(nt),Ie?ve(nt):he.next(nt)},()=>{ze=!0},void 0,()=>{if(ze)try{for(lt--;Ue.length&&lt<Ee;){const nt=Ue.shift();Ae?(0,ue.f)(he,Ae,()=>me(nt)):me(nt)}st()}catch(nt){he.error(nt)}}))};return De.subscribe((0,de.x)(he,ve,()=>{zt=!0,st()})),()=>{null==ot||ot()}}(Ee,Fe,De,Te)))}},5363:(Ht,Qe,R)=>{R.d(Qe,{Q:()=>ue});var _=R(9672),z=R(4482),m=R(5403);function ue(de,xe=0){return(0,z.e)((Pe,ke)=>{Pe.subscribe((0,m.x)(ke,De=>(0,_.f)(ke,de,()=>ke.next(De),xe),()=>(0,_.f)(ke,de,()=>ke.complete(),xe),De=>(0,_.f)(ke,de,()=>ke.error(De),xe)))})}},5026:(Ht,Qe,R)=>{R.d(Qe,{R:()=>ue});var _=R(4482),z=R(5403);function m(de,xe,Pe,ke,De){return(he,Te)=>{let Ee=Pe,Fe=xe,Ie=0;he.subscribe((0,z.x)(Te,Ae=>{const ot=Ie++;Fe=Ee?de(Fe,Ae,ot):(Ee=!0,Ae),ke&&Te.next(Fe)},De&&(()=>{Ee&&Te.next(Fe),Te.complete()})))}}function ue(de,xe){return(0,_.e)(m(de,xe,arguments.length>=2,!0))}},3099:(Ht,Qe,R)=>{R.d(Qe,{B:()=>de});var _=R(8421),z=R(7579),m=R(930),ue=R(4482);function de(Pe={}){const{connector:ke=(()=>new z.x),resetOnError:De=!0,resetOnComplete:he=!0,resetOnRefCountZero:Te=!0}=Pe;return Ee=>{let Fe,Ie,Ae,ot=0,Ue=!1,lt=!1;const Tt=()=>{null==Ie||Ie.unsubscribe(),Ie=void 0},zt=()=>{Tt(),Fe=Ae=void 0,Ue=lt=!1},st=()=>{const ve=Fe;zt(),null==ve||ve.unsubscribe()};return(0,ue.e)((ve,me)=>{ot++,!lt&&!Ue&&Tt();const Ne=Ae=null!=Ae?Ae:ke();me.add(()=>{ot--,0===ot&&!lt&&!Ue&&(Ie=xe(st,Te))}),Ne.subscribe(me),!Fe&&ot>0&&(Fe=new m.Hp({next:ze=>Ne.next(ze),error:ze=>{lt=!0,Tt(),Ie=xe(zt,De,ze),Ne.error(ze)},complete:()=>{Ue=!0,Tt(),Ie=xe(zt,he),Ne.complete()}}),(0,_.Xf)(ve).subscribe(Fe))})(Ee)}}function xe(Pe,ke,...De){if(!0===ke)return void Pe();if(!1===ke)return;const he=new m.Hp({next:()=>{he.unsubscribe(),Pe()}});return ke(...De).subscribe(he)}},5965:(Ht,Qe,R)=>{R.d(Qe,{O:()=>ue});var _=R(7272),z=R(3269),m=R(4482);function ue(...de){const xe=(0,z.yG)(de);return(0,m.e)((Pe,ke)=>{(xe?(0,_.z)(de,Pe,xe):(0,_.z)(de,Pe)).subscribe(ke)})}},9468:(Ht,Qe,R)=>{R.d(Qe,{R:()=>z});var _=R(4482);function z(m,ue=0){return(0,_.e)((de,xe)=>{xe.add(m.schedule(()=>de.subscribe(xe),ue))})}},3900:(Ht,Qe,R)=>{R.d(Qe,{w:()=>ue});var _=R(8421),z=R(4482),m=R(5403);function ue(de,xe){return(0,z.e)((Pe,ke)=>{let De=null,he=0,Te=!1;const Ee=()=>Te&&!De&&ke.complete();Pe.subscribe((0,m.x)(ke,Fe=>{null==De||De.unsubscribe();let Ie=0;const Ae=he++;(0,_.Xf)(de(Fe,Ae)).subscribe(De=(0,m.x)(ke,ot=>ke.next(xe?xe(Fe,ot,Ae,Ie++):ot),()=>{De=null,Ee()}))},()=>{Te=!0,Ee()}))})}},5698:(Ht,Qe,R)=>{R.d(Qe,{q:()=>ue});var _=R(515),z=R(4482),m=R(5403);function ue(de){return de<=0?()=>_.E:(0,z.e)((xe,Pe)=>{let ke=0;xe.subscribe((0,m.x)(Pe,De=>{++ke<=de&&(Pe.next(De),de<=ke&&Pe.complete())}))})}},2722:(Ht,Qe,R)=>{R.d(Qe,{R:()=>de});var _=R(4482),z=R(5403),m=R(8421),ue=R(5032);function de(xe){return(0,_.e)((Pe,ke)=>{(0,m.Xf)(xe).subscribe((0,z.x)(ke,()=>ke.complete(),ue.Z)),!ke.closed&&Pe.subscribe(ke)})}},8505:(Ht,Qe,R)=>{R.d(Qe,{b:()=>de});var _=R(576),z=R(4482),m=R(5403),ue=R(4671);function de(xe,Pe,ke){const De=(0,_.m)(xe)||Pe||ke?{next:xe,error:Pe,complete:ke}:xe;return De?(0,z.e)((he,Te)=>{var Ee;null===(Ee=De.subscribe)||void 0===Ee||Ee.call(De);let Fe=!0;he.subscribe((0,m.x)(Te,Ie=>{var Ae;null===(Ae=De.next)||void 0===Ae||Ae.call(De,Ie),Te.next(Ie)},()=>{var Ie;Fe=!1,null===(Ie=De.complete)||void 0===Ie||Ie.call(De),Te.complete()},Ie=>{var Ae;Fe=!1,null===(Ae=De.error)||void 0===Ae||Ae.call(De,Ie),Te.error(Ie)},()=>{var Ie,Ae;Fe&&(null===(Ie=De.unsubscribe)||void 0===Ie||Ie.call(De)),null===(Ae=De.finalize)||void 0===Ae||Ae.call(De)}))}):ue.y}},8068:(Ht,Qe,R)=>{R.d(Qe,{T:()=>ue});var _=R(6805),z=R(4482),m=R(5403);function ue(xe=de){return(0,z.e)((Pe,ke)=>{let De=!1;Pe.subscribe((0,m.x)(ke,he=>{De=!0,ke.next(he)},()=>De?ke.complete():ke.error(xe())))})}function de(){return new _.K}},4408:(Ht,Qe,R)=>{R.d(Qe,{o:()=>de});var _=R(727);class z extends _.w0{constructor(Pe,ke){super()}schedule(Pe,ke=0){return this}}const m={setInterval(xe,Pe,...ke){const{delegate:De}=m;return(null==De?void 0:De.setInterval)?De.setInterval(xe,Pe,...ke):setInterval(xe,Pe,...ke)},clearInterval(xe){const{delegate:Pe}=m;return((null==Pe?void 0:Pe.clearInterval)||clearInterval)(xe)},delegate:void 0};var ue=R(8737);class de extends z{constructor(Pe,ke){super(Pe,ke),this.scheduler=Pe,this.work=ke,this.pending=!1}schedule(Pe,ke=0){if(this.closed)return this;this.state=Pe;const De=this.id,he=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(he,De,ke)),this.pending=!0,this.delay=ke,this.id=this.id||this.requestAsyncId(he,this.id,ke),this}requestAsyncId(Pe,ke,De=0){return m.setInterval(Pe.flush.bind(Pe,this),De)}recycleAsyncId(Pe,ke,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return ke;m.clearInterval(ke)}execute(Pe,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(Pe,ke);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,ke){let he,De=!1;try{this.work(Pe)}catch(Te){De=!0,he=Te||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:ke}=this,{actions:De}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(De,this),null!=Pe&&(this.id=this.recycleAsyncId(ke,Pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ht,Qe,R)=>{R.d(Qe,{v:()=>m});var _=R(6063);class z{constructor(de,xe=z.now){this.schedulerActionCtor=de,this.now=xe}schedule(de,xe=0,Pe){return new this.schedulerActionCtor(this,de).schedule(Pe,xe)}}z.now=_.l.now;class m extends z{constructor(de,xe=z.now){super(de,xe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(de){const{actions:xe}=this;if(this._active)return void xe.push(de);let Pe;this._active=!0;do{if(Pe=de.execute(de.state,de.delay))break}while(de=xe.shift());if(this._active=!1,Pe){for(;de=xe.shift();)de.unsubscribe();throw Pe}}}},4986:(Ht,Qe,R)=>{R.d(Qe,{P:()=>ue,z:()=>m});var _=R(4408);const m=new(R(7565).v)(_.o),ue=m},6063:(Ht,Qe,R)=>{R.d(Qe,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(Ht,Qe,R)=>{R.d(Qe,{z:()=>_});const _={setTimeout(z,m,...ue){const{delegate:de}=_;return(null==de?void 0:de.setTimeout)?de.setTimeout(z,m,...ue):setTimeout(z,m,...ue)},clearTimeout(z){const{delegate:m}=_;return((null==m?void 0:m.clearTimeout)||clearTimeout)(z)},delegate:void 0}},2202:(Ht,Qe,R)=>{R.d(Qe,{h:()=>z});const z=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ht,Qe,R)=>{R.d(Qe,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ht,Qe,R)=>{R.d(Qe,{K:()=>z});const z=(0,R(3888).d)(m=>function(){m(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Ht,Qe,R)=>{R.d(Qe,{_6:()=>xe,jO:()=>ue,yG:()=>de});var _=R(576),z=R(3532);function m(Pe){return Pe[Pe.length-1]}function ue(Pe){return(0,_.m)(m(Pe))?Pe.pop():void 0}function de(Pe){return(0,z.K)(m(Pe))?Pe.pop():void 0}function xe(Pe,ke){return"number"==typeof m(Pe)?Pe.pop():ke}},4742:(Ht,Qe,R)=>{R.d(Qe,{D:()=>de});const{isArray:_}=Array,{getPrototypeOf:z,prototype:m,keys:ue}=Object;function de(Pe){if(1===Pe.length){const ke=Pe[0];if(_(ke))return{args:ke,keys:null};if(function xe(Pe){return Pe&&"object"==typeof Pe&&z(Pe)===m}(ke)){const De=ue(ke);return{args:De.map(he=>ke[he]),keys:De}}}return{args:Pe,keys:null}}},8737:(Ht,Qe,R)=>{function _(z,m){if(z){const ue=z.indexOf(m);0<=ue&&z.splice(ue,1)}}R.d(Qe,{P:()=>_})},3888:(Ht,Qe,R)=>{function _(z){const ue=z(de=>{Error.call(de),de.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}R.d(Qe,{d:()=>_})},1810:(Ht,Qe,R)=>{function _(z,m){return z.reduce((ue,de,xe)=>(ue[de]=m[xe],ue),{})}R.d(Qe,{n:()=>_})},2806:(Ht,Qe,R)=>{R.d(Qe,{O:()=>ue,x:()=>m});var _=R(2416);let z=null;function m(de){if(_.v.useDeprecatedSynchronousErrorHandling){const xe=!z;if(xe&&(z={errorThrown:!1,error:null}),de(),xe){const{errorThrown:Pe,error:ke}=z;if(z=null,Pe)throw ke}}else de()}function ue(de){_.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=de)}},9672:(Ht,Qe,R)=>{function _(z,m,ue,de=0,xe=!1){const Pe=m.schedule(function(){ue(),xe?z.add(this.schedule(null,de)):this.unsubscribe()},de);if(z.add(Pe),!xe)return Pe}R.d(Qe,{f:()=>_})},4671:(Ht,Qe,R)=>{function _(z){return z}R.d(Qe,{y:()=>_})},1144:(Ht,Qe,R)=>{R.d(Qe,{z:()=>_});const _=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(Ht,Qe,R)=>{R.d(Qe,{D:()=>z});var _=R(576);function z(m){return Symbol.asyncIterator&&(0,_.m)(null==m?void 0:m[Symbol.asyncIterator])}},576:(Ht,Qe,R)=>{function _(z){return"function"==typeof z}R.d(Qe,{m:()=>_})},3670:(Ht,Qe,R)=>{R.d(Qe,{c:()=>m});var _=R(8822),z=R(576);function m(ue){return(0,z.m)(ue[_.L])}},6495:(Ht,Qe,R)=>{R.d(Qe,{T:()=>m});var _=R(2202),z=R(576);function m(ue){return(0,z.m)(null==ue?void 0:ue[_.h])}},8239:(Ht,Qe,R)=>{R.d(Qe,{t:()=>z});var _=R(576);function z(m){return(0,_.m)(null==m?void 0:m.then)}},3260:(Ht,Qe,R)=>{R.d(Qe,{L:()=>ue,Q:()=>m});var _=R(655),z=R(576);function m(de){return(0,_.FC)(this,arguments,function*(){const Pe=de.getReader();try{for(;;){const{value:ke,done:De}=yield(0,_.qq)(Pe.read());if(De)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(ke)}}finally{Pe.releaseLock()}})}function ue(de){return(0,z.m)(null==de?void 0:de.getReader)}},3532:(Ht,Qe,R)=>{R.d(Qe,{K:()=>z});var _=R(576);function z(m){return m&&(0,_.m)(m.schedule)}},4482:(Ht,Qe,R)=>{R.d(Qe,{A:()=>z,e:()=>m});var _=R(576);function z(ue){return(0,_.m)(null==ue?void 0:ue.lift)}function m(ue){return de=>{if(z(de))return de.lift(function(xe){try{return ue(xe,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ht,Qe,R)=>{R.d(Qe,{Z:()=>ue});var _=R(4004);const{isArray:z}=Array;function ue(de){return(0,_.U)(xe=>function m(de,xe){return z(xe)?de(...xe):de(xe)}(de,xe))}},5032:(Ht,Qe,R)=>{function _(){}R.d(Qe,{Z:()=>_})},7849:(Ht,Qe,R)=>{R.d(Qe,{h:()=>m});var _=R(2416),z=R(3410);function m(ue){z.z.setTimeout(()=>{const{onUnhandledError:de}=_.v;if(!de)throw ue;de(ue)})}},4532:(Ht,Qe,R)=>{function _(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Qe,{z:()=>_})},655:(Ht,Qe,R)=>{R.d(Qe,{CR:()=>Fe,FC:()=>lt,Jh:()=>De,KL:()=>zt,XA:()=>Ee,ZT:()=>z,ev:()=>ot,mG:()=>ke,pi:()=>m,qq:()=>Ue});var _=function(fe,Xe){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,ht){ct.__proto__=ht}||function(ct,ht){for(var Ze in ht)Object.prototype.hasOwnProperty.call(ht,Ze)&&(ct[Ze]=ht[Ze])})(fe,Xe)};function z(fe,Xe){if("function"!=typeof Xe&&null!==Xe)throw new TypeError("Class extends value "+String(Xe)+" is not a constructor or null");function ct(){this.constructor=fe}_(fe,Xe),fe.prototype=null===Xe?Object.create(Xe):(ct.prototype=Xe.prototype,new ct)}var m=function(){return m=Object.assign||function(Xe){for(var ct,ht=1,Ze=arguments.length;ht<Ze;ht++)for(var _t in ct=arguments[ht])Object.prototype.hasOwnProperty.call(ct,_t)&&(Xe[_t]=ct[_t]);return Xe},m.apply(this,arguments)};function ke(fe,Xe,ct,ht){return new(ct||(ct=Promise))(function(_t,at){function Wt($t){try{Pt(ht.next($t))}catch(Ft){at(Ft)}}function xt($t){try{Pt(ht.throw($t))}catch(Ft){at(Ft)}}function Pt($t){$t.done?_t($t.value):function Ze(_t){return _t instanceof ct?_t:new ct(function(at){at(_t)})}($t.value).then(Wt,xt)}Pt((ht=ht.apply(fe,Xe||[])).next())})}function De(fe,Xe){var ht,Ze,_t,at,ct={label:0,sent:function(){if(1&_t[0])throw _t[1];return _t[1]},trys:[],ops:[]};return at={next:Wt(0),throw:Wt(1),return:Wt(2)},"function"==typeof Symbol&&(at[Symbol.iterator]=function(){return this}),at;function Wt(Pt){return function($t){return function xt(Pt){if(ht)throw new TypeError("Generator is already executing.");for(;ct;)try{if(ht=1,Ze&&(_t=2&Pt[0]?Ze.return:Pt[0]?Ze.throw||((_t=Ze.return)&&_t.call(Ze),0):Ze.next)&&!(_t=_t.call(Ze,Pt[1])).done)return _t;switch(Ze=0,_t&&(Pt=[2&Pt[0],_t.value]),Pt[0]){case 0:case 1:_t=Pt;break;case 4:return ct.label++,{value:Pt[1],done:!1};case 5:ct.label++,Ze=Pt[1],Pt=[0];continue;case 7:Pt=ct.ops.pop(),ct.trys.pop();continue;default:if(!(_t=(_t=ct.trys).length>0&&_t[_t.length-1])&&(6===Pt[0]||2===Pt[0])){ct=0;continue}if(3===Pt[0]&&(!_t||Pt[1]>_t[0]&&Pt[1]<_t[3])){ct.label=Pt[1];break}if(6===Pt[0]&&ct.label<_t[1]){ct.label=_t[1],_t=Pt;break}if(_t&&ct.label<_t[2]){ct.label=_t[2],ct.ops.push(Pt);break}_t[2]&&ct.ops.pop(),ct.trys.pop();continue}Pt=Xe.call(fe,ct)}catch($t){Pt=[6,$t],Ze=0}finally{ht=_t=0}if(5&Pt[0])throw Pt[1];return{value:Pt[0]?Pt[1]:void 0,done:!0}}([Pt,$t])}}}function Ee(fe){var Xe="function"==typeof Symbol&&Symbol.iterator,ct=Xe&&fe[Xe],ht=0;if(ct)return ct.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&ht>=fe.length&&(fe=void 0),{value:fe&&fe[ht++],done:!fe}}};throw new TypeError(Xe?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(fe,Xe){var ct="function"==typeof Symbol&&fe[Symbol.iterator];if(!ct)return fe;var Ze,at,ht=ct.call(fe),_t=[];try{for(;(void 0===Xe||Xe-- >0)&&!(Ze=ht.next()).done;)_t.push(Ze.value)}catch(Wt){at={error:Wt}}finally{try{Ze&&!Ze.done&&(ct=ht.return)&&ct.call(ht)}finally{if(at)throw at.error}}return _t}function ot(fe,Xe,ct){if(ct||2===arguments.length)for(var _t,ht=0,Ze=Xe.length;ht<Ze;ht++)(_t||!(ht in Xe))&&(_t||(_t=Array.prototype.slice.call(Xe,0,ht)),_t[ht]=Xe[ht]);return fe.concat(_t||Array.prototype.slice.call(Xe))}function Ue(fe){return this instanceof Ue?(this.v=fe,this):new Ue(fe)}function lt(fe,Xe,ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,ht=ct.apply(fe,Xe||[]),_t=[];return Ze={},at("next"),at("throw"),at("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze;function at(Et){ht[Et]&&(Ze[Et]=function(Vt){return new Promise(function(tt,je){_t.push([Et,Vt,tt,je])>1||Wt(Et,Vt)})})}function Wt(Et,Vt){try{!function xt(Et){Et.value instanceof Ue?Promise.resolve(Et.value.v).then(Pt,$t):Ft(_t[0][2],Et)}(ht[Et](Vt))}catch(tt){Ft(_t[0][3],tt)}}function Pt(Et){Wt("next",Et)}function $t(Et){Wt("throw",Et)}function Ft(Et,Vt){Et(Vt),_t.shift(),_t.length&&Wt(_t[0][0],_t[0][1])}}function zt(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,Xe=fe[Symbol.asyncIterator];return Xe?Xe.call(fe):(fe=Ee(fe),ct={},ht("next"),ht("throw"),ht("return"),ct[Symbol.asyncIterator]=function(){return this},ct);function ht(_t){ct[_t]=fe[_t]&&function(at){return new Promise(function(Wt,xt){!function Ze(_t,at,Wt,xt){Promise.resolve(xt).then(function(Pt){_t({value:Pt,done:Wt})},at)}(Wt,xt,(at=fe[_t](at)).done,at.value)})}}}},1777:(Ht,Qe,R)=>{R.d(Qe,{F4:()=>he,IO:()=>Ae,LC:()=>z,SB:()=>De,X$:()=>ue,ZE:()=>Tt,ZN:()=>lt,_j:()=>_,eR:()=>Te,jt:()=>de,k1:()=>zt,l3:()=>m,oB:()=>ke,pV:()=>Fe,ru:()=>xe,vP:()=>Pe});class _{}class z{}const m="*";function ue(st,ve){return{type:7,name:st,definitions:ve,options:{}}}function de(st,ve=null){return{type:4,styles:ve,timings:st}}function xe(st,ve=null){return{type:3,steps:st,options:ve}}function Pe(st,ve=null){return{type:2,steps:st,options:ve}}function ke(st){return{type:6,styles:st,offset:null}}function De(st,ve,me){return{type:0,name:st,styles:ve,options:me}}function he(st){return{type:5,steps:st}}function Te(st,ve,me=null){return{type:1,expr:st,animation:ve,options:me}}function Fe(st=null){return{type:9,options:st}}function Ae(st,ve,me=null){return{type:11,selector:st,animation:ve,options:me}}function Ue(st){Promise.resolve(null).then(st)}class lt{constructor(ve=0,me=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ve+me}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}onStart(ve){this._onStartFns.push(ve)}onDone(ve){this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ue(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ve=>ve()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ve){this._position=this.totalTime?ve*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ve){const me="start"==ve?this._onStartFns:this._onDoneFns;me.forEach(Ne=>Ne()),me.length=0}}class Tt{constructor(ve){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ve;let me=0,Ne=0,ze=0;const nt=this.players.length;0==nt?Ue(()=>this._onFinish()):this.players.forEach(K=>{K.onDone(()=>{++me==nt&&this._onFinish()}),K.onDestroy(()=>{++Ne==nt&&this._onDestroy()}),K.onStart(()=>{++ze==nt&&this._onStart()})}),this.totalTime=this.players.reduce((K,fe)=>Math.max(K,fe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}init(){this.players.forEach(ve=>ve.init())}onStart(ve){this._onStartFns.push(ve)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ve=>ve()),this._onStartFns=[])}onDone(ve){this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ve=>ve.play())}pause(){this.players.forEach(ve=>ve.pause())}restart(){this.players.forEach(ve=>ve.restart())}finish(){this._onFinish(),this.players.forEach(ve=>ve.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ve=>ve.destroy()),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this.players.forEach(ve=>ve.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ve){const me=ve*this.totalTime;this.players.forEach(Ne=>{const ze=Ne.totalTime?Math.min(1,me/Ne.totalTime):1;Ne.setPosition(ze)})}getPosition(){const ve=this.players.reduce((me,Ne)=>null===me||Ne.totalTime>me.totalTime?Ne:me,null);return null!=ve?ve.getPosition():0}beforeDestroy(){this.players.forEach(ve=>{ve.beforeDestroy&&ve.beforeDestroy()})}triggerCallback(ve){const me="start"==ve?this._onStartFns:this._onDoneFns;me.forEach(Ne=>Ne()),me.length=0}}const zt="!"},8255:(Ht,Qe,R)=>{R.d(Qe,{rt:()=>Vn,tE:()=>It,qV:()=>et,qm:()=>Hn,ic:()=>ct,X6:()=>fn,yG:()=>wt});var _=R(9808),z=R(5e3),m=R(925),ue=R(1135),de=R(7579),xe=R(9646),Pe=R(1159),ke=R(9300),he=R(5698),Te=R(1884),Ee=R(2722),Fe=R(3191),Ie=R(6564);let ct=(()=>{class Ge{constructor(I){this._platform=I}isDisabled(I){return I.hasAttribute("disabled")}isVisible(I){return function Ze(Ge){return!!(Ge.offsetWidth||Ge.offsetHeight||"function"==typeof Ge.getClientRects&&Ge.getClientRects().length)}(I)&&"visible"===getComputedStyle(I).visibility}isTabbable(I){if(!this._platform.isBrowser)return!1;const U=function ht(Ge){try{return Ge.frameElement}catch(H){return null}}(function tt(Ge){return Ge.ownerDocument&&Ge.ownerDocument.defaultView||window}(I));if(U&&(-1===Ft(U)||!this.isVisible(U)))return!1;let ne=I.nodeName.toLowerCase(),_e=Ft(I);return I.hasAttribute("contenteditable")?-1!==_e:!("iframe"===ne||"object"===ne||this._platform.WEBKIT&&this._platform.IOS&&!function Et(Ge){let H=Ge.nodeName.toLowerCase(),I="input"===H&&Ge.type;return"text"===I||"password"===I||"select"===H||"textarea"===H}(I))&&("audio"===ne?!!I.hasAttribute("controls")&&-1!==_e:"video"===ne?-1!==_e&&(null!==_e||this._platform.FIREFOX||I.hasAttribute("controls")):I.tabIndex>=0)}isFocusable(I,U){return function Vt(Ge){return!function at(Ge){return function xt(Ge){return"input"==Ge.nodeName.toLowerCase()}(Ge)&&"hidden"==Ge.type}(Ge)&&(function _t(Ge){let H=Ge.nodeName.toLowerCase();return"input"===H||"select"===H||"button"===H||"textarea"===H}(Ge)||function Wt(Ge){return function Pt(Ge){return"a"==Ge.nodeName.toLowerCase()}(Ge)&&Ge.hasAttribute("href")}(Ge)||Ge.hasAttribute("contenteditable")||$t(Ge))}(I)&&!this.isDisabled(I)&&((null==U?void 0:U.ignoreVisibility)||this.isVisible(I))}}return Ge.\u0275fac=function(I){return new(I||Ge)(z.LFG(m.t4))},Ge.\u0275prov=z.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})();function $t(Ge){if(!Ge.hasAttribute("tabindex")||void 0===Ge.tabIndex)return!1;let H=Ge.getAttribute("tabindex");return!(!H||isNaN(parseInt(H,10)))}function Ft(Ge){if(!$t(Ge))return null;const H=parseInt(Ge.getAttribute("tabindex")||"",10);return isNaN(H)?-1:H}class je{constructor(H,I,U,ne,_e=!1){this._element=H,this._checker=I,this._ngZone=U,this._document=ne,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,_e||this.attachAnchors()}get enabled(){return this._enabled}set enabled(H){this._enabled=H,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(H,this._startAnchor),this._toggleAnchorTabIndex(H,this._endAnchor))}destroy(){const H=this._startAnchor,I=this._endAnchor;H&&(H.removeEventListener("focus",this.startAnchorListener),H.remove()),I&&(I.removeEventListener("focus",this.endAnchorListener),I.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(H){return new Promise(I=>{this._executeOnStable(()=>I(this.focusInitialElement(H)))})}focusFirstTabbableElementWhenReady(H){return new Promise(I=>{this._executeOnStable(()=>I(this.focusFirstTabbableElement(H)))})}focusLastTabbableElementWhenReady(H){return new Promise(I=>{this._executeOnStable(()=>I(this.focusLastTabbableElement(H)))})}_getRegionBoundary(H){const I=this._element.querySelectorAll(`[cdk-focus-region-${H}], [cdkFocusRegion${H}], [cdk-focus-${H}]`);return"start"==H?I.length?I[0]:this._getFirstTabbableElement(this._element):I.length?I[I.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(H){const I=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(I){if(!this._checker.isFocusable(I)){const U=this._getFirstTabbableElement(I);return null==U||U.focus(H),!!U}return I.focus(H),!0}return this.focusFirstTabbableElement(H)}focusFirstTabbableElement(H){const I=this._getRegionBoundary("start");return I&&I.focus(H),!!I}focusLastTabbableElement(H){const I=this._getRegionBoundary("end");return I&&I.focus(H),!!I}hasAttached(){return this._hasAttached}_getFirstTabbableElement(H){if(this._checker.isFocusable(H)&&this._checker.isTabbable(H))return H;const I=H.children;for(let U=0;U<I.length;U++){const ne=I[U].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(I[U]):null;if(ne)return ne}return null}_getLastTabbableElement(H){if(this._checker.isFocusable(H)&&this._checker.isTabbable(H))return H;const I=H.children;for(let U=I.length-1;U>=0;U--){const ne=I[U].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(I[U]):null;if(ne)return ne}return null}_createAnchor(){const H=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,H),H.classList.add("cdk-visually-hidden"),H.classList.add("cdk-focus-trap-anchor"),H.setAttribute("aria-hidden","true"),H}_toggleAnchorTabIndex(H,I){H?I.setAttribute("tabindex","0"):I.removeAttribute("tabindex")}toggleAnchors(H){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(H,this._startAnchor),this._toggleAnchorTabIndex(H,this._endAnchor))}_executeOnStable(H){this._ngZone.isStable?H():this._ngZone.onStable.pipe((0,he.q)(1)).subscribe(H)}}let et=(()=>{class Ge{constructor(I,U,ne){this._checker=I,this._ngZone=U,this._document=ne}create(I,U=!1){return new je(I,this._checker,this._ngZone,this._document,U)}}return Ge.\u0275fac=function(I){return new(I||Ge)(z.LFG(ct),z.LFG(z.R0b),z.LFG(_.K0))},Ge.\u0275prov=z.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})();function fn(Ge){return 0===Ge.buttons||0===Ge.offsetX&&0===Ge.offsetY}function wt(Ge){const H=Ge.touches&&Ge.touches[0]||Ge.changedTouches&&Ge.changedTouches[0];return!(!H||-1!==H.identifier||null!=H.radiusX&&1!==H.radiusX||null!=H.radiusY&&1!==H.radiusY)}const te=new z.OlP("cdk-input-modality-detector-options"),we={ignoreKeys:[Pe.zL,Pe.jx,Pe.b2,Pe.MW,Pe.JU]},dt=(0,m.i$)({passive:!0,capture:!0});let ye=(()=>{class Ge{constructor(I,U,ne,_e){this._platform=I,this._mostRecentTarget=null,this._modality=new ue.X(null),this._lastTouchMs=0,this._onKeydown=yt=>{var Yt,Tn;(null===(Tn=null===(Yt=this._options)||void 0===Yt?void 0:Yt.ignoreKeys)||void 0===Tn?void 0:Tn.some(xn=>xn===yt.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,m.sA)(yt))},this._onMousedown=yt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(fn(yt)?"keyboard":"mouse"),this._mostRecentTarget=(0,m.sA)(yt))},this._onTouchstart=yt=>{wt(yt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,m.sA)(yt))},this._options=Object.assign(Object.assign({},we),_e),this.modalityDetected=this._modality.pipe(function De(Ge){return(0,ke.h)((H,I)=>Ge<=I)}(1)),this.modalityChanged=this.modalityDetected.pipe((0,Te.x)()),I.isBrowser&&U.runOutsideAngular(()=>{ne.addEventListener("keydown",this._onKeydown,dt),ne.addEventListener("mousedown",this._onMousedown,dt),ne.addEventListener("touchstart",this._onTouchstart,dt)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dt),document.removeEventListener("mousedown",this._onMousedown,dt),document.removeEventListener("touchstart",this._onTouchstart,dt))}}return Ge.\u0275fac=function(I){return new(I||Ge)(z.LFG(m.t4),z.LFG(z.R0b),z.LFG(_.K0),z.LFG(te,8))},Ge.\u0275prov=z.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})();const it=new z.OlP("cdk-focus-monitor-default-options"),bt=(0,m.i$)({passive:!0,capture:!0});let It=(()=>{class Ge{constructor(I,U,ne,_e,yt){this._ngZone=I,this._platform=U,this._inputModalityDetector=ne,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new de.x,this._rootNodeFocusAndBlurListener=Yt=>{const Tn=(0,m.sA)(Yt),xn="focus"===Yt.type?this._onFocus:this._onBlur;for(let An=Tn;An;An=An.parentElement)xn.call(this,Yt,An)},this._document=_e,this._detectionMode=(null==yt?void 0:yt.detectionMode)||0}monitor(I,U=!1){const ne=(0,Fe.fI)(I);if(!this._platform.isBrowser||1!==ne.nodeType)return(0,xe.of)(null);const _e=(0,m.kV)(ne)||this._getDocument(),yt=this._elementInfo.get(ne);if(yt)return U&&(yt.checkChildren=!0),yt.subject;const Yt={checkChildren:U,subject:new de.x,rootNode:_e};return this._elementInfo.set(ne,Yt),this._registerGlobalListeners(Yt),Yt.subject}stopMonitoring(I){const U=(0,Fe.fI)(I),ne=this._elementInfo.get(U);ne&&(ne.subject.complete(),this._setClasses(U),this._elementInfo.delete(U),this._removeGlobalListeners(ne))}focusVia(I,U,ne){const _e=(0,Fe.fI)(I);_e===this._getDocument().activeElement?this._getClosestElementsInfo(_e).forEach(([Yt,Tn])=>this._originChanged(Yt,U,Tn)):(this._setOrigin(U),"function"==typeof _e.focus&&_e.focus(ne))}ngOnDestroy(){this._elementInfo.forEach((I,U)=>this.stopMonitoring(U))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(I){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(I)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(I){return 1===this._detectionMode||!!(null==I?void 0:I.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(I,U){I.classList.toggle("cdk-focused",!!U),I.classList.toggle("cdk-touch-focused","touch"===U),I.classList.toggle("cdk-keyboard-focused","keyboard"===U),I.classList.toggle("cdk-mouse-focused","mouse"===U),I.classList.toggle("cdk-program-focused","program"===U)}_setOrigin(I,U=!1){this._ngZone.runOutsideAngular(()=>{this._origin=I,this._originFromTouchInteraction="touch"===I&&U,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(I,U){const ne=this._elementInfo.get(U),_e=(0,m.sA)(I);!ne||!ne.checkChildren&&U!==_e||this._originChanged(U,this._getFocusOrigin(_e),ne)}_onBlur(I,U){const ne=this._elementInfo.get(U);!ne||ne.checkChildren&&I.relatedTarget instanceof Node&&U.contains(I.relatedTarget)||(this._setClasses(U),this._emitOrigin(ne.subject,null))}_emitOrigin(I,U){this._ngZone.run(()=>I.next(U))}_registerGlobalListeners(I){if(!this._platform.isBrowser)return;const U=I.rootNode,ne=this._rootNodeFocusListenerCount.get(U)||0;ne||this._ngZone.runOutsideAngular(()=>{U.addEventListener("focus",this._rootNodeFocusAndBlurListener,bt),U.addEventListener("blur",this._rootNodeFocusAndBlurListener,bt)}),this._rootNodeFocusListenerCount.set(U,ne+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ee.R)(this._stopInputModalityDetector)).subscribe(_e=>{this._setOrigin(_e,!0)}))}_removeGlobalListeners(I){const U=I.rootNode;if(this._rootNodeFocusListenerCount.has(U)){const ne=this._rootNodeFocusListenerCount.get(U);ne>1?this._rootNodeFocusListenerCount.set(U,ne-1):(U.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bt),U.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bt),this._rootNodeFocusListenerCount.delete(U))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(I,U,ne){this._setClasses(I,U),this._emitOrigin(ne.subject,U),this._lastFocusOrigin=U}_getClosestElementsInfo(I){const U=[];return this._elementInfo.forEach((ne,_e)=>{(_e===I||ne.checkChildren&&_e.contains(I))&&U.push([_e,ne])}),U}}return Ge.\u0275fac=function(I){return new(I||Ge)(z.LFG(z.R0b),z.LFG(m.t4),z.LFG(ye),z.LFG(_.K0,8),z.LFG(it,8))},Ge.\u0275prov=z.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})();const rn="cdk-high-contrast-black-on-white",un="cdk-high-contrast-white-on-black",$n="cdk-high-contrast-active";let Hn=(()=>{class Ge{constructor(I,U){this._platform=I,this._document=U}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const I=this._document.createElement("div");I.style.backgroundColor="rgb(1,2,3)",I.style.position="absolute",this._document.body.appendChild(I);const U=this._document.defaultView||window,ne=U&&U.getComputedStyle?U.getComputedStyle(I):null,_e=(ne&&ne.backgroundColor||"").replace(/ /g,"");switch(I.remove(),_e){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const I=this._document.body.classList;I.remove($n),I.remove(rn),I.remove(un),this._hasCheckedHighContrastMode=!0;const U=this.getHighContrastMode();1===U?(I.add($n),I.add(rn)):2===U&&(I.add($n),I.add(un))}}}return Ge.\u0275fac=function(I){return new(I||Ge)(z.LFG(m.t4),z.LFG(_.K0))},Ge.\u0275prov=z.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})(),Vn=(()=>{class Ge{constructor(I){I._applyBodyHighContrastModeCssClasses()}}return Ge.\u0275fac=function(I){return new(I||Ge)(z.LFG(Hn))},Ge.\u0275mod=z.oAB({type:Ge}),Ge.\u0275inj=z.cJS({imports:[[Ie.Q8]]}),Ge})()},226:(Ht,Qe,R)=>{R.d(Qe,{Is:()=>Pe,vT:()=>De});var _=R(5e3),z=R(9808);const m=new _.OlP("cdk-dir-doc",{providedIn:"root",factory:function ue(){return(0,_.f3M)(z.K0)}}),de=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Pe=(()=>{class he{constructor(Ee){if(this.value="ltr",this.change=new _.vpe,Ee){const Ie=Ee.documentElement?Ee.documentElement.dir:null;this.value=function xe(he){const Te=(null==he?void 0:he.toLowerCase())||"";return"auto"===Te&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?de.test(navigator.language)?"rtl":"ltr":"rtl"===Te?"rtl":"ltr"}((Ee.body?Ee.body.dir:null)||Ie||"ltr")}}ngOnDestroy(){this.change.complete()}}return he.\u0275fac=function(Ee){return new(Ee||he)(_.LFG(m,8))},he.\u0275prov=_.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),De=(()=>{class he{}return he.\u0275fac=function(Ee){return new(Ee||he)},he.\u0275mod=_.oAB({type:he}),he.\u0275inj=_.cJS({}),he})()},3191:(Ht,Qe,R)=>{R.d(Qe,{Eq:()=>de,HM:()=>xe,Ig:()=>z,fI:()=>Pe,su:()=>m});var _=R(5e3);function z(De){return null!=De&&"false"!=`${De}`}function m(De,he=0){return function ue(De){return!isNaN(parseFloat(De))&&!isNaN(Number(De))}(De)?Number(De):he}function de(De){return Array.isArray(De)?De:[De]}function xe(De){return null==De?"":"string"==typeof De?De:`${De}px`}function Pe(De){return De instanceof _.SBq?De.nativeElement:De}},1159:(Ht,Qe,R)=>{R.d(Qe,{JH:()=>zt,JU:()=>xe,K5:()=>de,LH:()=>lt,MW:()=>It,Mf:()=>m,Vb:()=>pr,b2:()=>Gr,hY:()=>Te,jx:()=>Pe,zL:()=>ke});const m=9,de=13,xe=16,Pe=17,ke=18,Te=27,lt=38,zt=40,It=91,Gr=224;function pr(Gn,...zr){return zr.length?zr.some(Go=>Gn[Go]):Gn.altKey||Gn.shiftKey||Gn.ctrlKey||Gn.metaKey}},6564:(Ht,Qe,R)=>{R.d(Qe,{wD:()=>Te,Q8:()=>Ee});var _=R(3191),z=R(5e3),m=R(8306),ue=R(7579),de=R(4986),xe=R(4482),Pe=R(5403);let De=(()=>{class Fe{create(Ae){return"undefined"==typeof MutationObserver?null:new MutationObserver(Ae)}}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)},Fe.\u0275prov=z.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),he=(()=>{class Fe{constructor(Ae){this._mutationObserverFactory=Ae,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Ae,ot)=>this._cleanupObserver(ot))}observe(Ae){const ot=(0,_.fI)(Ae);return new m.y(Ue=>{const Tt=this._observeElement(ot).subscribe(Ue);return()=>{Tt.unsubscribe(),this._unobserveElement(ot)}})}_observeElement(Ae){if(this._observedElements.has(Ae))this._observedElements.get(Ae).count++;else{const ot=new ue.x,Ue=this._mutationObserverFactory.create(lt=>ot.next(lt));Ue&&Ue.observe(Ae,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Ae,{observer:Ue,stream:ot,count:1})}return this._observedElements.get(Ae).stream}_unobserveElement(Ae){this._observedElements.has(Ae)&&(this._observedElements.get(Ae).count--,this._observedElements.get(Ae).count||this._cleanupObserver(Ae))}_cleanupObserver(Ae){if(this._observedElements.has(Ae)){const{observer:ot,stream:Ue}=this._observedElements.get(Ae);ot&&ot.disconnect(),Ue.complete(),this._observedElements.delete(Ae)}}}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)(z.LFG(De))},Fe.\u0275prov=z.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),Te=(()=>{class Fe{constructor(Ae,ot,Ue){this._contentObserver=Ae,this._elementRef=ot,this._ngZone=Ue,this.event=new z.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(Ae){this._disabled=(0,_.Ig)(Ae),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Ae){this._debounce=(0,_.su)(Ae),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Ae=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Ae.pipe(function ke(Fe,Ie=de.z){return(0,xe.e)((Ae,ot)=>{let Ue=null,lt=null,Tt=null;const zt=()=>{if(Ue){Ue.unsubscribe(),Ue=null;const ve=lt;lt=null,ot.next(ve)}};function st(){const ve=Tt+Fe,me=Ie.now();if(me<ve)return Ue=this.schedule(void 0,ve-me),void ot.add(Ue);zt()}Ae.subscribe((0,Pe.x)(ot,ve=>{lt=ve,Tt=Ie.now(),Ue||(Ue=Ie.schedule(st,Fe),ot.add(Ue))},()=>{zt(),ot.complete()},void 0,()=>{lt=Ue=null}))})}(this.debounce)):Ae).subscribe(this.event)})}_unsubscribe(){var Ae;null===(Ae=this._currentSubscription)||void 0===Ae||Ae.unsubscribe()}}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)(z.Y36(he),z.Y36(z.SBq),z.Y36(z.R0b))},Fe.\u0275dir=z.lG2({type:Fe,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),Fe})(),Ee=(()=>{class Fe{}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)},Fe.\u0275mod=z.oAB({type:Fe}),Fe.\u0275inj=z.cJS({providers:[De]}),Fe})()},1314:(Ht,Qe,R)=>{R.d(Qe,{U8:()=>ln,X_:()=>ve,Xj:()=>Xe,aV:()=>je});var _=R(8962),z=R(9808),m=R(5e3),ue=R(3191),de=R(925),xe=R(226),Pe=R(7429),ke=R(7579),De=R(727),he=R(6451),Te=R(5698),Ee=R(2722);const Fe=(0,de.Mq)();class Ie{constructor(te,we){this._viewportRuler=te,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=we}attach(){}enable(){if(this._canBeEnabled()){const te=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=te.style.left||"",this._previousHTMLStyles.top=te.style.top||"",te.style.left=(0,ue.HM)(-this._previousScrollPosition.left),te.style.top=(0,ue.HM)(-this._previousScrollPosition.top),te.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const te=this._document.documentElement,We=te.style,dt=this._document.body.style,ye=We.scrollBehavior||"",Re=dt.scrollBehavior||"";this._isEnabled=!1,We.left=this._previousHTMLStyles.left,We.top=this._previousHTMLStyles.top,te.classList.remove("cdk-global-scrollblock"),Fe&&(We.scrollBehavior=dt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Fe&&(We.scrollBehavior=ye,dt.scrollBehavior=Re)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const we=this._document.body,We=this._viewportRuler.getViewportSize();return we.scrollHeight>We.height||we.scrollWidth>We.width}}class ot{constructor(te,we,We,dt){this._scrollDispatcher=te,this._ngZone=we,this._viewportRuler=We,this._config=dt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(te){this._overlayRef=te}enable(){if(this._scrollSubscription)return;const te=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=te.subscribe(()=>{const we=this._viewportRuler.getViewportScrollPosition().top;Math.abs(we-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=te.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ue{enable(){}disable(){}attach(){}}function lt(wt,te){return te.some(we=>wt.bottom<we.top||wt.top>we.bottom||wt.right<we.left||wt.left>we.right)}function Tt(wt,te){return te.some(we=>wt.top<we.top||wt.bottom>we.bottom||wt.left<we.left||wt.right>we.right)}class zt{constructor(te,we,We,dt){this._scrollDispatcher=te,this._viewportRuler=we,this._ngZone=We,this._config=dt,this._scrollSubscription=null}attach(te){this._overlayRef=te}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const we=this._overlayRef.overlayElement.getBoundingClientRect(),{width:We,height:dt}=this._viewportRuler.getViewportSize();lt(we,[{width:We,height:dt,bottom:dt,right:We,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let st=(()=>{class wt{constructor(we,We,dt,ye){this._scrollDispatcher=we,this._viewportRuler=We,this._ngZone=dt,this.noop=()=>new Ue,this.close=Re=>new ot(this._scrollDispatcher,this._ngZone,this._viewportRuler,Re),this.block=()=>new Ie(this._viewportRuler,this._document),this.reposition=Re=>new zt(this._scrollDispatcher,this._viewportRuler,this._ngZone,Re),this._document=ye}}return wt.\u0275fac=function(we){return new(we||wt)(m.LFG(_.mF),m.LFG(_.rL),m.LFG(m.R0b),m.LFG(z.K0))},wt.\u0275prov=m.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})();class ve{constructor(te){if(this.scrollStrategy=new Ue,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,te){const we=Object.keys(te);for(const We of we)void 0!==te[We]&&(this[We]=te[We])}}}class ze{constructor(te,we){this.connectionPair=te,this.scrollableViewProperties=we}}class fe{constructor(te,we,We,dt,ye,Re,Y,q,oe){this._portalOutlet=te,this._host=we,this._pane=We,this._config=dt,this._ngZone=ye,this._keyboardDispatcher=Re,this._document=Y,this._location=q,this._outsideClickDispatcher=oe,this._backdropElement=null,this._backdropClick=new ke.x,this._attachments=new ke.x,this._detachments=new ke.x,this._locationChanges=De.w0.EMPTY,this._backdropClickHandler=Ve=>this._backdropClick.next(Ve),this._backdropTransitionendHandler=Ve=>{this._disposeBackdrop(Ve.target)},this._keydownEvents=new ke.x,this._outsidePointerEvents=new ke.x,dt.scrollStrategy&&(this._scrollStrategy=dt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=dt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(te){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const we=this._portalOutlet.attach(te);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Te.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),we}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const te=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),te}dispose(){var te;const we=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(te=this._host)||void 0===te||te.remove(),this._previousHostParent=this._pane=this._host=null,we&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(te){te!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=te,this.hasAttached()&&(te.attach(this),this.updatePosition()))}updateSize(te){this._config=Object.assign(Object.assign({},this._config),te),this._updateElementSize()}setDirection(te){this._config=Object.assign(Object.assign({},this._config),{direction:te}),this._updateElementDirection()}addPanelClass(te){this._pane&&this._toggleClasses(this._pane,te,!0)}removePanelClass(te){this._pane&&this._toggleClasses(this._pane,te,!1)}getDirection(){const te=this._config.direction;return te?"string"==typeof te?te:te.value:"ltr"}updateScrollStrategy(te){te!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=te,this.hasAttached()&&(te.attach(this),te.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const te=this._pane.style;te.width=(0,ue.HM)(this._config.width),te.height=(0,ue.HM)(this._config.height),te.minWidth=(0,ue.HM)(this._config.minWidth),te.minHeight=(0,ue.HM)(this._config.minHeight),te.maxWidth=(0,ue.HM)(this._config.maxWidth),te.maxHeight=(0,ue.HM)(this._config.maxHeight)}_togglePointerEvents(te){this._pane.style.pointerEvents=te?"":"none"}_attachBackdrop(){const te="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(te)})}):this._backdropElement.classList.add(te)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const te=this._backdropElement;!te||(te.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{te.addEventListener("transitionend",this._backdropTransitionendHandler)}),te.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(te)},500)))}_toggleClasses(te,we,We){const dt=(0,ue.Eq)(we||[]).filter(ye=>!!ye);dt.length&&(We?te.classList.add(...dt):te.classList.remove(...dt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const te=this._ngZone.onStable.pipe((0,Ee.R)((0,he.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),te.unsubscribe())})})}_disposeScrollStrategy(){const te=this._scrollStrategy;te&&(te.disable(),te.detach&&te.detach())}_disposeBackdrop(te){te&&(te.removeEventListener("click",this._backdropClickHandler),te.removeEventListener("transitionend",this._backdropTransitionendHandler),te.remove(),this._backdropElement===te&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Xe=(()=>{class wt{constructor(we,We){this._platform=We,this._document=we}ngOnDestroy(){var we;null===(we=this._containerElement)||void 0===we||we.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const we="cdk-overlay-container";if(this._platform.isBrowser||(0,de.Oy)()){const dt=this._document.querySelectorAll(`.${we}[platform="server"], .${we}[platform="test"]`);for(let ye=0;ye<dt.length;ye++)dt[ye].remove()}const We=this._document.createElement("div");We.classList.add(we),(0,de.Oy)()?We.setAttribute("platform","test"):this._platform.isBrowser||We.setAttribute("platform","server"),this._document.body.appendChild(We),this._containerElement=We}}return wt.\u0275fac=function(we){return new(we||wt)(m.LFG(z.K0),m.LFG(de.t4))},wt.\u0275prov=m.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})();const ct="cdk-overlay-connected-position-bounding-box",ht=/([A-Za-z%]+)$/;class Ze{constructor(te,we,We,dt,ye){this._viewportRuler=we,this._document=We,this._platform=dt,this._overlayContainer=ye,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke.x,this._resizeSubscription=De.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(te)}get positions(){return this._preferredPositions}attach(te){this._validatePositions(),te.hostElement.classList.add(ct),this._overlayRef=te,this._boundingBox=te.hostElement,this._pane=te.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const te=this._originRect,we=this._overlayRect,We=this._viewportRect,dt=this._containerRect,ye=[];let Re;for(let Y of this._preferredPositions){let q=this._getOriginPoint(te,dt,Y),oe=this._getOverlayPoint(q,we,Y),Ve=this._getOverlayFit(oe,we,We,Y);if(Ve.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Y,q);this._canFitWithFlexibleDimensions(Ve,oe,We)?ye.push({position:Y,origin:q,overlayRect:we,boundingBoxRect:this._calculateBoundingBoxRect(q,Y)}):(!Re||Re.overlayFit.visibleArea<Ve.visibleArea)&&(Re={overlayFit:Ve,overlayPoint:oe,originPoint:q,position:Y,overlayRect:we})}if(ye.length){let Y=null,q=-1;for(const oe of ye){const Ve=oe.boundingBoxRect.width*oe.boundingBoxRect.height*(oe.position.weight||1);Ve>q&&(q=Ve,Y=oe)}return this._isPushed=!1,void this._applyPosition(Y.position,Y.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Re.position,Re.originPoint);this._applyPosition(Re.position,Re.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&_t(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ct),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const te=this._lastPosition;if(te){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const we=this._getOriginPoint(this._originRect,this._containerRect,te);this._applyPosition(te,we)}else this.apply()}withScrollableContainers(te){return this._scrollables=te,this}withPositions(te){return this._preferredPositions=te,-1===te.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(te){return this._viewportMargin=te,this}withFlexibleDimensions(te=!0){return this._hasFlexibleDimensions=te,this}withGrowAfterOpen(te=!0){return this._growAfterOpen=te,this}withPush(te=!0){return this._canPush=te,this}withLockedPosition(te=!0){return this._positionLocked=te,this}setOrigin(te){return this._origin=te,this}withDefaultOffsetX(te){return this._offsetX=te,this}withDefaultOffsetY(te){return this._offsetY=te,this}withTransformOriginOn(te){return this._transformOriginSelector=te,this}_getOriginPoint(te,we,We){let dt,ye;if("center"==We.originX)dt=te.left+te.width/2;else{const Re=this._isRtl()?te.right:te.left,Y=this._isRtl()?te.left:te.right;dt="start"==We.originX?Re:Y}return we.left<0&&(dt-=we.left),ye="center"==We.originY?te.top+te.height/2:"top"==We.originY?te.top:te.bottom,we.top<0&&(ye-=we.top),{x:dt,y:ye}}_getOverlayPoint(te,we,We){let dt,ye;return dt="center"==We.overlayX?-we.width/2:"start"===We.overlayX?this._isRtl()?-we.width:0:this._isRtl()?0:-we.width,ye="center"==We.overlayY?-we.height/2:"top"==We.overlayY?0:-we.height,{x:te.x+dt,y:te.y+ye}}_getOverlayFit(te,we,We,dt){const ye=Wt(we);let{x:Re,y:Y}=te,q=this._getOffset(dt,"x"),oe=this._getOffset(dt,"y");q&&(Re+=q),oe&&(Y+=oe);let bt=0-Y,It=Y+ye.height-We.height,pn=this._subtractOverflows(ye.width,0-Re,Re+ye.width-We.width),rn=this._subtractOverflows(ye.height,bt,It),un=pn*rn;return{visibleArea:un,isCompletelyWithinViewport:ye.width*ye.height===un,fitsInViewportVertically:rn===ye.height,fitsInViewportHorizontally:pn==ye.width}}_canFitWithFlexibleDimensions(te,we,We){if(this._hasFlexibleDimensions){const dt=We.bottom-we.y,ye=We.right-we.x,Re=at(this._overlayRef.getConfig().minHeight),Y=at(this._overlayRef.getConfig().minWidth),oe=te.fitsInViewportHorizontally||null!=Y&&Y<=ye;return(te.fitsInViewportVertically||null!=Re&&Re<=dt)&&oe}return!1}_pushOverlayOnScreen(te,we,We){if(this._previousPushAmount&&this._positionLocked)return{x:te.x+this._previousPushAmount.x,y:te.y+this._previousPushAmount.y};const dt=Wt(we),ye=this._viewportRect,Re=Math.max(te.x+dt.width-ye.width,0),Y=Math.max(te.y+dt.height-ye.height,0),q=Math.max(ye.top-We.top-te.y,0),oe=Math.max(ye.left-We.left-te.x,0);let Ve=0,it=0;return Ve=dt.width<=ye.width?oe||-Re:te.x<this._viewportMargin?ye.left-We.left-te.x:0,it=dt.height<=ye.height?q||-Y:te.y<this._viewportMargin?ye.top-We.top-te.y:0,this._previousPushAmount={x:Ve,y:it},{x:te.x+Ve,y:te.y+it}}_applyPosition(te,we){if(this._setTransformOrigin(te),this._setOverlayElementStyles(we,te),this._setBoundingBoxStyles(we,te),te.panelClass&&this._addPanelClasses(te.panelClass),this._lastPosition=te,this._positionChanges.observers.length){const We=this._getScrollVisibility(),dt=new ze(te,We);this._positionChanges.next(dt)}this._isInitialRender=!1}_setTransformOrigin(te){if(!this._transformOriginSelector)return;const we=this._boundingBox.querySelectorAll(this._transformOriginSelector);let We,dt=te.overlayY;We="center"===te.overlayX?"center":this._isRtl()?"start"===te.overlayX?"right":"left":"start"===te.overlayX?"left":"right";for(let ye=0;ye<we.length;ye++)we[ye].style.transformOrigin=`${We} ${dt}`}_calculateBoundingBoxRect(te,we){const We=this._viewportRect,dt=this._isRtl();let ye,Re,Y,Ve,it,bt;if("top"===we.overlayY)Re=te.y,ye=We.height-Re+this._viewportMargin;else if("bottom"===we.overlayY)Y=We.height-te.y+2*this._viewportMargin,ye=We.height-Y+this._viewportMargin;else{const It=Math.min(We.bottom-te.y+We.top,te.y),pn=this._lastBoundingBoxSize.height;ye=2*It,Re=te.y-It,ye>pn&&!this._isInitialRender&&!this._growAfterOpen&&(Re=te.y-pn/2)}if("end"===we.overlayX&&!dt||"start"===we.overlayX&&dt)bt=We.width-te.x+this._viewportMargin,Ve=te.x-this._viewportMargin;else if("start"===we.overlayX&&!dt||"end"===we.overlayX&&dt)it=te.x,Ve=We.right-te.x;else{const It=Math.min(We.right-te.x+We.left,te.x),pn=this._lastBoundingBoxSize.width;Ve=2*It,it=te.x-It,Ve>pn&&!this._isInitialRender&&!this._growAfterOpen&&(it=te.x-pn/2)}return{top:Re,left:it,bottom:Y,right:bt,width:Ve,height:ye}}_setBoundingBoxStyles(te,we){const We=this._calculateBoundingBoxRect(te,we);!this._isInitialRender&&!this._growAfterOpen&&(We.height=Math.min(We.height,this._lastBoundingBoxSize.height),We.width=Math.min(We.width,this._lastBoundingBoxSize.width));const dt={};if(this._hasExactPosition())dt.top=dt.left="0",dt.bottom=dt.right=dt.maxHeight=dt.maxWidth="",dt.width=dt.height="100%";else{const ye=this._overlayRef.getConfig().maxHeight,Re=this._overlayRef.getConfig().maxWidth;dt.height=(0,ue.HM)(We.height),dt.top=(0,ue.HM)(We.top),dt.bottom=(0,ue.HM)(We.bottom),dt.width=(0,ue.HM)(We.width),dt.left=(0,ue.HM)(We.left),dt.right=(0,ue.HM)(We.right),dt.alignItems="center"===we.overlayX?"center":"end"===we.overlayX?"flex-end":"flex-start",dt.justifyContent="center"===we.overlayY?"center":"bottom"===we.overlayY?"flex-end":"flex-start",ye&&(dt.maxHeight=(0,ue.HM)(ye)),Re&&(dt.maxWidth=(0,ue.HM)(Re))}this._lastBoundingBoxSize=We,_t(this._boundingBox.style,dt)}_resetBoundingBoxStyles(){_t(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){_t(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(te,we){const We={},dt=this._hasExactPosition(),ye=this._hasFlexibleDimensions,Re=this._overlayRef.getConfig();if(dt){const Ve=this._viewportRuler.getViewportScrollPosition();_t(We,this._getExactOverlayY(we,te,Ve)),_t(We,this._getExactOverlayX(we,te,Ve))}else We.position="static";let Y="",q=this._getOffset(we,"x"),oe=this._getOffset(we,"y");q&&(Y+=`translateX(${q}px) `),oe&&(Y+=`translateY(${oe}px)`),We.transform=Y.trim(),Re.maxHeight&&(dt?We.maxHeight=(0,ue.HM)(Re.maxHeight):ye&&(We.maxHeight="")),Re.maxWidth&&(dt?We.maxWidth=(0,ue.HM)(Re.maxWidth):ye&&(We.maxWidth="")),_t(this._pane.style,We)}_getExactOverlayY(te,we,We){let dt={top:"",bottom:""},ye=this._getOverlayPoint(we,this._overlayRect,te);return this._isPushed&&(ye=this._pushOverlayOnScreen(ye,this._overlayRect,We)),"bottom"===te.overlayY?dt.bottom=this._document.documentElement.clientHeight-(ye.y+this._overlayRect.height)+"px":dt.top=(0,ue.HM)(ye.y),dt}_getExactOverlayX(te,we,We){let Re,dt={left:"",right:""},ye=this._getOverlayPoint(we,this._overlayRect,te);return this._isPushed&&(ye=this._pushOverlayOnScreen(ye,this._overlayRect,We)),Re=this._isRtl()?"end"===te.overlayX?"left":"right":"end"===te.overlayX?"right":"left","right"===Re?dt.right=this._document.documentElement.clientWidth-(ye.x+this._overlayRect.width)+"px":dt.left=(0,ue.HM)(ye.x),dt}_getScrollVisibility(){const te=this._getOriginRect(),we=this._pane.getBoundingClientRect(),We=this._scrollables.map(dt=>dt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Tt(te,We),isOriginOutsideView:lt(te,We),isOverlayClipped:Tt(we,We),isOverlayOutsideView:lt(we,We)}}_subtractOverflows(te,...we){return we.reduce((We,dt)=>We-Math.max(dt,0),te)}_getNarrowedViewportRect(){const te=this._document.documentElement.clientWidth,we=this._document.documentElement.clientHeight,We=this._viewportRuler.getViewportScrollPosition();return{top:We.top+this._viewportMargin,left:We.left+this._viewportMargin,right:We.left+te-this._viewportMargin,bottom:We.top+we-this._viewportMargin,width:te-2*this._viewportMargin,height:we-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(te,we){return"x"===we?null==te.offsetX?this._offsetX:te.offsetX:null==te.offsetY?this._offsetY:te.offsetY}_validatePositions(){}_addPanelClasses(te){this._pane&&(0,ue.Eq)(te).forEach(we=>{""!==we&&-1===this._appliedPanelClasses.indexOf(we)&&(this._appliedPanelClasses.push(we),this._pane.classList.add(we))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(te=>{this._pane.classList.remove(te)}),this._appliedPanelClasses=[])}_getOriginRect(){const te=this._origin;if(te instanceof m.SBq)return te.nativeElement.getBoundingClientRect();if(te instanceof Element)return te.getBoundingClientRect();const we=te.width||0,We=te.height||0;return{top:te.y,bottom:te.y+We,left:te.x,right:te.x+we,height:We,width:we}}}function _t(wt,te){for(let we in te)te.hasOwnProperty(we)&&(wt[we]=te[we]);return wt}function at(wt){if("number"!=typeof wt&&null!=wt){const[te,we]=wt.split(ht);return we&&"px"!==we?null:parseFloat(te)}return wt||null}function Wt(wt){return{top:Math.floor(wt.top),right:Math.floor(wt.right),bottom:Math.floor(wt.bottom),left:Math.floor(wt.left),width:Math.floor(wt.width),height:Math.floor(wt.height)}}const xt="cdk-global-overlay-wrapper";class Pt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(te){const we=te.getConfig();this._overlayRef=te,this._width&&!we.width&&te.updateSize({width:this._width}),this._height&&!we.height&&te.updateSize({height:this._height}),te.hostElement.classList.add(xt),this._isDisposed=!1}top(te=""){return this._bottomOffset="",this._topOffset=te,this._alignItems="flex-start",this}left(te=""){return this._rightOffset="",this._leftOffset=te,this._justifyContent="flex-start",this}bottom(te=""){return this._topOffset="",this._bottomOffset=te,this._alignItems="flex-end",this}right(te=""){return this._leftOffset="",this._rightOffset=te,this._justifyContent="flex-end",this}width(te=""){return this._overlayRef?this._overlayRef.updateSize({width:te}):this._width=te,this}height(te=""){return this._overlayRef?this._overlayRef.updateSize({height:te}):this._height=te,this}centerHorizontally(te=""){return this.left(te),this._justifyContent="center",this}centerVertically(te=""){return this.top(te),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const te=this._overlayRef.overlayElement.style,we=this._overlayRef.hostElement.style,We=this._overlayRef.getConfig(),{width:dt,height:ye,maxWidth:Re,maxHeight:Y}=We,q=!("100%"!==dt&&"100vw"!==dt||Re&&"100%"!==Re&&"100vw"!==Re),oe=!("100%"!==ye&&"100vh"!==ye||Y&&"100%"!==Y&&"100vh"!==Y);te.position=this._cssPosition,te.marginLeft=q?"0":this._leftOffset,te.marginTop=oe?"0":this._topOffset,te.marginBottom=this._bottomOffset,te.marginRight=this._rightOffset,q?we.justifyContent="flex-start":"center"===this._justifyContent?we.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?we.justifyContent="flex-end":"flex-end"===this._justifyContent&&(we.justifyContent="flex-start"):we.justifyContent=this._justifyContent,we.alignItems=oe?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const te=this._overlayRef.overlayElement.style,we=this._overlayRef.hostElement,We=we.style;we.classList.remove(xt),We.justifyContent=We.alignItems=te.marginTop=te.marginBottom=te.marginLeft=te.marginRight=te.position="",this._overlayRef=null,this._isDisposed=!0}}let $t=(()=>{class wt{constructor(we,We,dt,ye){this._viewportRuler=we,this._document=We,this._platform=dt,this._overlayContainer=ye}global(){return new Pt}flexibleConnectedTo(we){return new Ze(we,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return wt.\u0275fac=function(we){return new(we||wt)(m.LFG(_.rL),m.LFG(z.K0),m.LFG(de.t4),m.LFG(Xe))},wt.\u0275prov=m.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),Ft=(()=>{class wt{constructor(we){this._attachedOverlays=[],this._document=we}ngOnDestroy(){this.detach()}add(we){this.remove(we),this._attachedOverlays.push(we)}remove(we){const We=this._attachedOverlays.indexOf(we);We>-1&&this._attachedOverlays.splice(We,1),0===this._attachedOverlays.length&&this.detach()}}return wt.\u0275fac=function(we){return new(we||wt)(m.LFG(z.K0))},wt.\u0275prov=m.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),Et=(()=>{class wt extends Ft{constructor(we,We){super(we),this._ngZone=We,this._keydownListener=dt=>{const ye=this._attachedOverlays;for(let Re=ye.length-1;Re>-1;Re--)if(ye[Re]._keydownEvents.observers.length>0){const Y=ye[Re]._keydownEvents;this._ngZone?this._ngZone.run(()=>Y.next(dt)):Y.next(dt);break}}}add(we){super.add(we),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return wt.\u0275fac=function(we){return new(we||wt)(m.LFG(z.K0),m.LFG(m.R0b,8))},wt.\u0275prov=m.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),Vt=(()=>{class wt extends Ft{constructor(we,We,dt){super(we),this._platform=We,this._ngZone=dt,this._cursorStyleIsSet=!1,this._pointerDownListener=ye=>{this._pointerDownEventTarget=(0,de.sA)(ye)},this._clickListener=ye=>{const Re=(0,de.sA)(ye),Y="click"===ye.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Re;this._pointerDownEventTarget=null;const q=this._attachedOverlays.slice();for(let oe=q.length-1;oe>-1;oe--){const Ve=q[oe];if(Ve._outsidePointerEvents.observers.length<1||!Ve.hasAttached())continue;if(Ve.overlayElement.contains(Re)||Ve.overlayElement.contains(Y))break;const it=Ve._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>it.next(ye)):it.next(ye)}}}add(we){if(super.add(we),!this._isAttached){const We=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(We)):this._addEventListeners(We),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=We.style.cursor,We.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const we=this._document.body;we.removeEventListener("pointerdown",this._pointerDownListener,!0),we.removeEventListener("click",this._clickListener,!0),we.removeEventListener("auxclick",this._clickListener,!0),we.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(we.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(we){we.addEventListener("pointerdown",this._pointerDownListener,!0),we.addEventListener("click",this._clickListener,!0),we.addEventListener("auxclick",this._clickListener,!0),we.addEventListener("contextmenu",this._clickListener,!0)}}return wt.\u0275fac=function(we){return new(we||wt)(m.LFG(z.K0),m.LFG(de.t4),m.LFG(m.R0b,8))},wt.\u0275prov=m.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),tt=0,je=(()=>{class wt{constructor(we,We,dt,ye,Re,Y,q,oe,Ve,it,bt){this.scrollStrategies=we,this._overlayContainer=We,this._componentFactoryResolver=dt,this._positionBuilder=ye,this._keyboardDispatcher=Re,this._injector=Y,this._ngZone=q,this._document=oe,this._directionality=Ve,this._location=it,this._outsideClickDispatcher=bt}create(we){const We=this._createHostElement(),dt=this._createPaneElement(We),ye=this._createPortalOutlet(dt),Re=new ve(we);return Re.direction=Re.direction||this._directionality.value,new fe(ye,We,dt,Re,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(we){const We=this._document.createElement("div");return We.id="cdk-overlay-"+tt++,We.classList.add("cdk-overlay-pane"),we.appendChild(We),We}_createHostElement(){const we=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(we),we}_createPortalOutlet(we){return this._appRef||(this._appRef=this._injector.get(m.z2F)),new Pe.u0(we,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return wt.\u0275fac=function(we){return new(we||wt)(m.LFG(st),m.LFG(Xe),m.LFG(m._Vd),m.LFG($t),m.LFG(Et),m.LFG(m.zs3),m.LFG(m.R0b),m.LFG(z.K0),m.LFG(xe.Is),m.LFG(z.Ye),m.LFG(Vt))},wt.\u0275prov=m.Yz7({token:wt,factory:wt.\u0275fac}),wt})();const Qt={provide:new m.OlP("cdk-connected-overlay-scroll-strategy"),deps:[je],useFactory:function Kt(wt){return()=>wt.scrollStrategies.reposition()}};let ln=(()=>{class wt{}return wt.\u0275fac=function(we){return new(we||wt)},wt.\u0275mod=m.oAB({type:wt}),wt.\u0275inj=m.cJS({providers:[je,Qt],imports:[[xe.vT,Pe.eL,_.Cl],_.Cl]}),wt})()},925:(Ht,Qe,R)=>{R.d(Qe,{Mq:()=>Ie,Oy:()=>st,ht:()=>Tt,i$:()=>Te,kV:()=>lt,qK:()=>ke,sA:()=>zt,t4:()=>ue});var _=R(5e3),z=R(9808);let m;try{m="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ve){m=!1}let xe,ue=(()=>{class ve{constructor(Ne){this._platformId=Ne,this.isBrowser=this._platformId?(0,z.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!m)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ve.\u0275fac=function(Ne){return new(Ne||ve)(_.LFG(_.Lbi))},ve.\u0275prov=_.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();const Pe=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ke(){if(xe)return xe;if("object"!=typeof document||!document)return xe=new Set(Pe),xe;let ve=document.createElement("input");return xe=new Set(Pe.filter(me=>(ve.setAttribute("type",me),ve.type===me))),xe}let De,Fe,ot;function Te(ve){return function he(){if(null==De&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>De=!0}))}finally{De=De||!1}return De}()?ve:!!ve.capture}function Ie(){if(null==Fe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fe=!1,Fe;if("scrollBehavior"in document.documentElement.style)Fe=!0;else{const ve=Element.prototype.scrollTo;Fe=!!ve&&!/\{\s*\[native code\]\s*\}/.test(ve.toString())}}return Fe}function lt(ve){if(function Ue(){if(null==ot){const ve="undefined"!=typeof document?document.head:null;ot=!(!ve||!ve.createShadowRoot&&!ve.attachShadow)}return ot}()){const me=ve.getRootNode?ve.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&me instanceof ShadowRoot)return me}return null}function Tt(){let ve="undefined"!=typeof document&&document?document.activeElement:null;for(;ve&&ve.shadowRoot;){const me=ve.shadowRoot.activeElement;if(me===ve)break;ve=me}return ve}function zt(ve){return ve.composedPath?ve.composedPath()[0]:ve.target}function st(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7429:(Ht,Qe,R)=>{R.d(Qe,{C5:()=>he,Pl:()=>Tt,UE:()=>Te,eL:()=>st,en:()=>Fe,u0:()=>Ae});var _=R(5e3),z=R(9808);class De{attach(Ne){return this._attachedHost=Ne,Ne.attach(this)}detach(){let Ne=this._attachedHost;null!=Ne&&(this._attachedHost=null,Ne.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ne){this._attachedHost=Ne}}class he extends De{constructor(Ne,ze,nt,K){super(),this.component=Ne,this.viewContainerRef=ze,this.injector=nt,this.componentFactoryResolver=K}}class Te extends De{constructor(Ne,ze,nt){super(),this.templateRef=Ne,this.viewContainerRef=ze,this.context=nt}get origin(){return this.templateRef.elementRef}attach(Ne,ze=this.context){return this.context=ze,super.attach(Ne)}detach(){return this.context=void 0,super.detach()}}class Ee extends De{constructor(Ne){super(),this.element=Ne instanceof _.SBq?Ne.nativeElement:Ne}}class Fe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ne){return Ne instanceof he?(this._attachedPortal=Ne,this.attachComponentPortal(Ne)):Ne instanceof Te?(this._attachedPortal=Ne,this.attachTemplatePortal(Ne)):this.attachDomPortal&&Ne instanceof Ee?(this._attachedPortal=Ne,this.attachDomPortal(Ne)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ne){this._disposeFn=Ne}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ae extends Fe{constructor(Ne,ze,nt,K,fe){super(),this.outletElement=Ne,this._componentFactoryResolver=ze,this._appRef=nt,this._defaultInjector=K,this.attachDomPortal=Xe=>{const ct=Xe.element,ht=this._document.createComment("dom-portal");ct.parentNode.insertBefore(ht,ct),this.outletElement.appendChild(ct),this._attachedPortal=Xe,super.setDisposeFn(()=>{ht.parentNode&&ht.parentNode.replaceChild(ct,ht)})},this._document=fe}attachComponentPortal(Ne){const nt=(Ne.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ne.component);let K;return Ne.viewContainerRef?(K=Ne.viewContainerRef.createComponent(nt,Ne.viewContainerRef.length,Ne.injector||Ne.viewContainerRef.injector),this.setDisposeFn(()=>K.destroy())):(K=nt.create(Ne.injector||this._defaultInjector||_.zs3.NULL),this._appRef.attachView(K.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(K.hostView),K.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(K)),this._attachedPortal=Ne,K}attachTemplatePortal(Ne){let ze=Ne.viewContainerRef,nt=ze.createEmbeddedView(Ne.templateRef,Ne.context);return nt.rootNodes.forEach(K=>this.outletElement.appendChild(K)),nt.detectChanges(),this.setDisposeFn(()=>{let K=ze.indexOf(nt);-1!==K&&ze.remove(K)}),this._attachedPortal=Ne,nt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Ne){return Ne.hostView.rootNodes[0]}}let Tt=(()=>{class me extends Fe{constructor(ze,nt,K){super(),this._componentFactoryResolver=ze,this._viewContainerRef=nt,this._isInitialized=!1,this.attached=new _.vpe,this.attachDomPortal=fe=>{const Xe=fe.element,ct=this._document.createComment("dom-portal");fe.setAttachedHost(this),Xe.parentNode.insertBefore(ct,Xe),this._getRootNode().appendChild(Xe),this._attachedPortal=fe,super.setDisposeFn(()=>{ct.parentNode&&ct.parentNode.replaceChild(Xe,ct)})},this._document=K}get portal(){return this._attachedPortal}set portal(ze){this.hasAttached()&&!ze&&!this._isInitialized||(this.hasAttached()&&super.detach(),ze&&super.attach(ze),this._attachedPortal=ze||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(ze){ze.setAttachedHost(this);const nt=null!=ze.viewContainerRef?ze.viewContainerRef:this._viewContainerRef,fe=(ze.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ze.component),Xe=nt.createComponent(fe,nt.length,ze.injector||nt.injector);return nt!==this._viewContainerRef&&this._getRootNode().appendChild(Xe.hostView.rootNodes[0]),super.setDisposeFn(()=>Xe.destroy()),this._attachedPortal=ze,this._attachedRef=Xe,this.attached.emit(Xe),Xe}attachTemplatePortal(ze){ze.setAttachedHost(this);const nt=this._viewContainerRef.createEmbeddedView(ze.templateRef,ze.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ze,this._attachedRef=nt,this.attached.emit(nt),nt}_getRootNode(){const ze=this._viewContainerRef.element.nativeElement;return ze.nodeType===ze.ELEMENT_NODE?ze:ze.parentNode}}return me.\u0275fac=function(ze){return new(ze||me)(_.Y36(_._Vd),_.Y36(_.s_b),_.Y36(z.K0))},me.\u0275dir=_.lG2({type:me,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[_.qOj]}),me})(),st=(()=>{class me{}return me.\u0275fac=function(ze){return new(ze||me)},me.\u0275mod=_.oAB({type:me}),me.\u0275inj=_.cJS({}),me})()},8962:(Ht,Qe,R)=>{R.d(Qe,{ZD:()=>We,mF:()=>gt,Cl:()=>dt,rL:()=>Qt});var _=R(3191),z=R(5e3),m=R(4408),ue=R(727);const de={schedule(ye){let Re=requestAnimationFrame,Y=cancelAnimationFrame;const{delegate:q}=de;q&&(Re=q.requestAnimationFrame,Y=q.cancelAnimationFrame);const oe=Re(Ve=>{Y=void 0,ye(Ve)});return new ue.w0(()=>null==Y?void 0:Y(oe))},requestAnimationFrame(...ye){const{delegate:Re}=de;return((null==Re?void 0:Re.requestAnimationFrame)||requestAnimationFrame)(...ye)},cancelAnimationFrame(...ye){const{delegate:Re}=de;return((null==Re?void 0:Re.cancelAnimationFrame)||cancelAnimationFrame)(...ye)},delegate:void 0};var Pe=R(7565);new class ke extends Pe.v{flush(Re){this._active=!0;const Y=this._scheduled;this._scheduled=void 0;const{actions:q}=this;let oe;Re=Re||q.shift();do{if(oe=Re.execute(Re.state,Re.delay))break}while((Re=q[0])&&Re.id===Y&&q.shift());if(this._active=!1,oe){for(;(Re=q[0])&&Re.id===Y&&q.shift();)Re.unsubscribe();throw oe}}}(class xe extends m.o{constructor(Re,Y){super(Re,Y),this.scheduler=Re,this.work=Y}requestAsyncId(Re,Y,q=0){return null!==q&&q>0?super.requestAsyncId(Re,Y,q):(Re.actions.push(this),Re._scheduled||(Re._scheduled=de.requestAnimationFrame(()=>Re.flush(void 0))))}recycleAsyncId(Re,Y,q=0){if(null!=q&&q>0||null==q&&this.delay>0)return super.recycleAsyncId(Re,Y,q);Re.actions.some(oe=>oe.id===Y)||(de.cancelAnimationFrame(Y),Re._scheduled=void 0)}});let Ee,Te=1;const Fe={};function Ie(ye){return ye in Fe&&(delete Fe[ye],!0)}const Ae={setImmediate(ye){const Re=Te++;return Fe[Re]=!0,Ee||(Ee=Promise.resolve()),Ee.then(()=>Ie(Re)&&ye()),Re},clearImmediate(ye){Ie(ye)}},{setImmediate:Ue,clearImmediate:lt}=Ae,Tt={setImmediate(...ye){const{delegate:Re}=Tt;return((null==Re?void 0:Re.setImmediate)||Ue)(...ye)},clearImmediate(ye){const{delegate:Re}=Tt;return((null==Re?void 0:Re.clearImmediate)||lt)(ye)},delegate:void 0};new class st extends Pe.v{flush(Re){this._active=!0;const Y=this._scheduled;this._scheduled=void 0;const{actions:q}=this;let oe;Re=Re||q.shift();do{if(oe=Re.execute(Re.state,Re.delay))break}while((Re=q[0])&&Re.id===Y&&q.shift());if(this._active=!1,oe){for(;(Re=q[0])&&Re.id===Y&&q.shift();)Re.unsubscribe();throw oe}}}(class zt extends m.o{constructor(Re,Y){super(Re,Y),this.scheduler=Re,this.work=Y}requestAsyncId(Re,Y,q=0){return null!==q&&q>0?super.requestAsyncId(Re,Y,q):(Re.actions.push(this),Re._scheduled||(Re._scheduled=Tt.setImmediate(Re.flush.bind(Re,void 0))))}recycleAsyncId(Re,Y,q=0){if(null!=q&&q>0||null==q&&this.delay>0)return super.recycleAsyncId(Re,Y,q);Re.actions.some(oe=>oe.id===Y)||(Tt.clearImmediate(Y),Re._scheduled=void 0)}});var Ne=R(7579),ze=R(9646),nt=R(8306),K=R(4968),fe=R(4986),Xe=R(4482),ct=R(8421),ht=R(5403),_t=R(5963);function at(ye,Re=fe.z){return function Ze(ye){return(0,Xe.e)((Re,Y)=>{let q=!1,oe=null,Ve=null,it=!1;const bt=()=>{if(null==Ve||Ve.unsubscribe(),Ve=null,q){q=!1;const pn=oe;oe=null,Y.next(pn)}it&&Y.complete()},It=()=>{Ve=null,it&&Y.complete()};Re.subscribe((0,ht.x)(Y,pn=>{q=!0,oe=pn,Ve||(0,ct.Xf)(ye(pn)).subscribe(Ve=(0,ht.x)(Y,bt,It))},()=>{it=!0,(!q||!Ve||Ve.closed)&&Y.complete()}))})}(()=>(0,_t.H)(ye,Re))}var Wt=R(9300),xt=R(9808),Pt=R(925),$t=R(226);let gt=(()=>{class ye{constructor(Y,q,oe){this._ngZone=Y,this._platform=q,this._scrolled=new Ne.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=oe}register(Y){this.scrollContainers.has(Y)||this.scrollContainers.set(Y,Y.elementScrolled().subscribe(()=>this._scrolled.next(Y)))}deregister(Y){const q=this.scrollContainers.get(Y);q&&(q.unsubscribe(),this.scrollContainers.delete(Y))}scrolled(Y=20){return this._platform.isBrowser?new nt.y(q=>{this._globalSubscription||this._addGlobalListener();const oe=Y>0?this._scrolled.pipe(at(Y)).subscribe(q):this._scrolled.subscribe(q);return this._scrolledCount++,()=>{oe.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ze.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Y,q)=>this.deregister(q)),this._scrolled.complete()}ancestorScrolled(Y,q){const oe=this.getAncestorScrollContainers(Y);return this.scrolled(q).pipe((0,Wt.h)(Ve=>!Ve||oe.indexOf(Ve)>-1))}getAncestorScrollContainers(Y){const q=[];return this.scrollContainers.forEach((oe,Ve)=>{this._scrollableContainsElement(Ve,Y)&&q.push(Ve)}),q}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Y,q){let oe=(0,_.fI)(q),Ve=Y.getElementRef().nativeElement;do{if(oe==Ve)return!0}while(oe=oe.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Y=this._getWindow();return(0,K.R)(Y.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ye.\u0275fac=function(Y){return new(Y||ye)(z.LFG(z.R0b),z.LFG(Pt.t4),z.LFG(xt.K0,8))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})(),Qt=(()=>{class ye{constructor(Y,q,oe){this._platform=Y,this._change=new Ne.x,this._changeListener=Ve=>{this._change.next(Ve)},this._document=oe,q.runOutsideAngular(()=>{if(Y.isBrowser){const Ve=this._getWindow();Ve.addEventListener("resize",this._changeListener),Ve.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Y=this._getWindow();Y.removeEventListener("resize",this._changeListener),Y.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Y={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Y}getViewportRect(){const Y=this.getViewportScrollPosition(),{width:q,height:oe}=this.getViewportSize();return{top:Y.top,left:Y.left,bottom:Y.top+oe,right:Y.left+q,height:oe,width:q}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Y=this._document,q=this._getWindow(),oe=Y.documentElement,Ve=oe.getBoundingClientRect();return{top:-Ve.top||Y.body.scrollTop||q.scrollY||oe.scrollTop||0,left:-Ve.left||Y.body.scrollLeft||q.scrollX||oe.scrollLeft||0}}change(Y=20){return Y>0?this._change.pipe(at(Y)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Y=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Y.innerWidth,height:Y.innerHeight}:{width:0,height:0}}}return ye.\u0275fac=function(Y){return new(Y||ye)(z.LFG(Pt.t4),z.LFG(z.R0b),z.LFG(xt.K0,8))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})(),We=(()=>{class ye{}return ye.\u0275fac=function(Y){return new(Y||ye)},ye.\u0275mod=z.oAB({type:ye}),ye.\u0275inj=z.cJS({}),ye})(),dt=(()=>{class ye{}return ye.\u0275fac=function(Y){return new(Y||ye)},ye.\u0275mod=z.oAB({type:ye}),ye.\u0275inj=z.cJS({imports:[[$t.vT,We],$t.vT,We]}),ye})()},9808:(Ht,Qe,R)=>{R.d(Qe,{Do:()=>st,EM:()=>bo,HT:()=>de,JF:()=>ti,K0:()=>Pe,Mx:()=>Ir,NF:()=>Mi,O5:()=>pr,PM:()=>Ko,RF:()=>vi,S$:()=>Ue,V_:()=>he,Ye:()=>ve,b0:()=>zt,bD:()=>Wo,ez:()=>Yo,lw:()=>ke,mk:()=>yr,mr:()=>Tt,n9:()=>zi,q:()=>m,sg:()=>Ei,w_:()=>xe});var _=R(5e3);let z=null;function m(){return z}function de(G){z||(z=G)}class xe{}const Pe=new _.OlP("DocumentToken");let ke=(()=>{class G{historyGo(j){throw new Error("Not implemented")}}return G.\u0275fac=function(j){return new(j||G)},G.\u0275prov=_.Yz7({token:G,factory:function(){return function De(){return(0,_.LFG)(Te)}()},providedIn:"platform"}),G})();const he=new _.OlP("Location Initialized");let Te=(()=>{class G extends ke{constructor(j){super(),this._doc=j,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return m().getBaseHref(this._doc)}onPopState(j){const ce=m().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",j,!1),()=>ce.removeEventListener("popstate",j)}onHashChange(j){const ce=m().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",j,!1),()=>ce.removeEventListener("hashchange",j)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(j){this.location.pathname=j}pushState(j,ce,$e){Ee()?this._history.pushState(j,ce,$e):this.location.hash=$e}replaceState(j,ce,$e){Ee()?this._history.replaceState(j,ce,$e):this.location.hash=$e}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return G.\u0275fac=function(j){return new(j||G)(_.LFG(Pe))},G.\u0275prov=_.Yz7({token:G,factory:function(){return function Fe(){return new Te((0,_.LFG)(Pe))}()},providedIn:"platform"}),G})();function Ee(){return!!window.history.pushState}function Ie(G,re){if(0==G.length)return re;if(0==re.length)return G;let j=0;return G.endsWith("/")&&j++,re.startsWith("/")&&j++,2==j?G+re.substring(1):1==j?G+re:G+"/"+re}function Ae(G){const re=G.match(/#|\?|$/),j=re&&re.index||G.length;return G.slice(0,j-("/"===G[j-1]?1:0))+G.slice(j)}function ot(G){return G&&"?"!==G[0]?"?"+G:G}let Ue=(()=>{class G{historyGo(j){throw new Error("Not implemented")}}return G.\u0275fac=function(j){return new(j||G)},G.\u0275prov=_.Yz7({token:G,factory:function(){return function lt(G){const re=(0,_.LFG)(Pe).location;return new zt((0,_.LFG)(ke),re&&re.origin||"")}()},providedIn:"root"}),G})();const Tt=new _.OlP("appBaseHref");let zt=(()=>{class G extends Ue{constructor(j,ce){if(super(),this._platformLocation=j,this._removeListenerFns=[],null==ce&&(ce=this._platformLocation.getBaseHrefFromDOM()),null==ce)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ce}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return Ie(this._baseHref,j)}path(j=!1){const ce=this._platformLocation.pathname+ot(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&j?`${ce}${$e}`:ce}pushState(j,ce,$e,Dt){const St=this.prepareExternalUrl($e+ot(Dt));this._platformLocation.pushState(j,ce,St)}replaceState(j,ce,$e,Dt){const St=this.prepareExternalUrl($e+ot(Dt));this._platformLocation.replaceState(j,ce,St)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(j=0){var ce,$e;null===($e=(ce=this._platformLocation).historyGo)||void 0===$e||$e.call(ce,j)}}return G.\u0275fac=function(j){return new(j||G)(_.LFG(ke),_.LFG(Tt,8))},G.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac}),G})(),st=(()=>{class G extends Ue{constructor(j,ce){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(j){const ce=Ie(this._baseHref,j);return ce.length>0?"#"+ce:ce}pushState(j,ce,$e,Dt){let St=this.prepareExternalUrl($e+ot(Dt));0==St.length&&(St=this._platformLocation.pathname),this._platformLocation.pushState(j,ce,St)}replaceState(j,ce,$e,Dt){let St=this.prepareExternalUrl($e+ot(Dt));0==St.length&&(St=this._platformLocation.pathname),this._platformLocation.replaceState(j,ce,St)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(j=0){var ce,$e;null===($e=(ce=this._platformLocation).historyGo)||void 0===$e||$e.call(ce,j)}}return G.\u0275fac=function(j){return new(j||G)(_.LFG(ke),_.LFG(Tt,8))},G.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac}),G})(),ve=(()=>{class G{constructor(j,ce){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=j;const $e=this._platformStrategy.getBaseHref();this._platformLocation=ce,this._baseHref=Ae(ze($e)),this._platformStrategy.onPopState(Dt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Dt.state,type:Dt.type})})}path(j=!1){return this.normalize(this._platformStrategy.path(j))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(j,ce=""){return this.path()==this.normalize(j+ot(ce))}normalize(j){return G.stripTrailingSlash(function Ne(G,re){return G&&re.startsWith(G)?re.substring(G.length):re}(this._baseHref,ze(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._platformStrategy.prepareExternalUrl(j)}go(j,ce="",$e=null){this._platformStrategy.pushState($e,"",j,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+ot(ce)),$e)}replaceState(j,ce="",$e=null){this._platformStrategy.replaceState($e,"",j,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+ot(ce)),$e)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(j=0){var ce,$e;null===($e=(ce=this._platformStrategy).historyGo)||void 0===$e||$e.call(ce,j)}onUrlChange(j){this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)}))}_notifyUrlChangeListeners(j="",ce){this._urlChangeListeners.forEach($e=>$e(j,ce))}subscribe(j,ce,$e){return this._subject.subscribe({next:j,error:ce,complete:$e})}}return G.normalizeQueryParams=ot,G.joinWithSlash=Ie,G.stripTrailingSlash=Ae,G.\u0275fac=function(j){return new(j||G)(_.LFG(Ue),_.LFG(ke))},G.\u0275prov=_.Yz7({token:G,factory:function(){return function me(){return new ve((0,_.LFG)(Ue),(0,_.LFG)(ke))}()},providedIn:"root"}),G})();function ze(G){return G.replace(/\/index.html$/,"")}function Ir(G,re){re=encodeURIComponent(re);for(const j of G.split(";")){const ce=j.indexOf("="),[$e,Dt]=-1==ce?[j,""]:[j.slice(0,ce),j.slice(ce+1)];if($e.trim()===re)return decodeURIComponent(Dt)}return null}let yr=(()=>{class G{constructor(j,ce,$e,Dt){this._iterableDiffers=j,this._keyValueDiffers=ce,this._ngEl=$e,this._renderer=Dt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(j){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof j?j.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(j){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof j?j.split(/\s+/):j,this._rawClass&&((0,_.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const j=this._iterableDiffer.diff(this._rawClass);j&&this._applyIterableChanges(j)}else if(this._keyValueDiffer){const j=this._keyValueDiffer.diff(this._rawClass);j&&this._applyKeyValueChanges(j)}}_applyKeyValueChanges(j){j.forEachAddedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),j.forEachChangedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),j.forEachRemovedItem(ce=>{ce.previousValue&&this._toggleClass(ce.key,!1)})}_applyIterableChanges(j){j.forEachAddedItem(ce=>{if("string"!=typeof ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,_.AaK)(ce.item)}`);this._toggleClass(ce.item,!0)}),j.forEachRemovedItem(ce=>this._toggleClass(ce.item,!1))}_applyClasses(j){j&&(Array.isArray(j)||j instanceof Set?j.forEach(ce=>this._toggleClass(ce,!0)):Object.keys(j).forEach(ce=>this._toggleClass(ce,!!j[ce])))}_removeClasses(j){j&&(Array.isArray(j)||j instanceof Set?j.forEach(ce=>this._toggleClass(ce,!1)):Object.keys(j).forEach(ce=>this._toggleClass(ce,!1)))}_toggleClass(j,ce){(j=j.trim())&&j.split(/\s+/g).forEach($e=>{ce?this._renderer.addClass(this._ngEl.nativeElement,$e):this._renderer.removeClass(this._ngEl.nativeElement,$e)})}}return G.\u0275fac=function(j){return new(j||G)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},G.\u0275dir=_.lG2({type:G,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),G})();class Fi{constructor(re,j,ce,$e){this.$implicit=re,this.ngForOf=j,this.index=ce,this.count=$e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ei=(()=>{class G{constructor(j,ce,$e){this._viewContainer=j,this._template=ce,this._differs=$e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const ce=this._viewContainer;j.forEachOperation(($e,Dt,St)=>{if(null==$e.previousIndex)ce.createEmbeddedView(this._template,new Fi($e.item,this._ngForOf,-1,-1),null===St?void 0:St);else if(null==St)ce.remove(null===Dt?void 0:Dt);else if(null!==Dt){const on=ce.get(Dt);ce.move(on,St),br(on,$e)}});for(let $e=0,Dt=ce.length;$e<Dt;$e++){const on=ce.get($e).context;on.index=$e,on.count=Dt,on.ngForOf=this._ngForOf}j.forEachIdentityChange($e=>{br(ce.get($e.currentIndex),$e)})}static ngTemplateContextGuard(j,ce){return!0}}return G.\u0275fac=function(j){return new(j||G)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},G.\u0275dir=_.lG2({type:G,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),G})();function br(G,re){G.context.$implicit=re.item}let pr=(()=>{class G{constructor(j,ce){this._viewContainer=j,this._context=new Gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){zr("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){zr("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,ce){return!0}}return G.\u0275fac=function(j){return new(j||G)(_.Y36(_.s_b),_.Y36(_.Rgc))},G.\u0275dir=_.lG2({type:G,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),G})();class Gn{constructor(){this.$implicit=null,this.ngIf=null}}function zr(G,re){if(re&&!re.createEmbeddedView)throw new Error(`${G} must be a TemplateRef, but received '${(0,_.AaK)(re)}'.`)}class Go{constructor(re,j){this._viewContainerRef=re,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(re){re&&!this._created?this.create():!re&&this._created&&this.destroy()}}let vi=(()=>{class G{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(j)}_matchCase(j){const ce=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ce,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ce}_updateDefaultCases(j){if(this._defaultViews&&j!==this._defaultUsed){this._defaultUsed=j;for(let ce=0;ce<this._defaultViews.length;ce++)this._defaultViews[ce].enforceState(j)}}}return G.\u0275fac=function(j){return new(j||G)},G.\u0275dir=_.lG2({type:G,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),G})(),zi=(()=>{class G{constructor(j,ce,$e){this.ngSwitch=$e,$e._addCase(),this._view=new Go(j,ce)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return G.\u0275fac=function(j){return new(j||G)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(vi,9))},G.\u0275dir=_.lG2({type:G,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),G})(),Yo=(()=>{class G{}return G.\u0275fac=function(j){return new(j||G)},G.\u0275mod=_.oAB({type:G}),G.\u0275inj=_.cJS({}),G})();const Wo="browser";function Mi(G){return G===Wo}function Ko(G){return"server"===G}let bo=(()=>{class G{}return G.\u0275prov=(0,_.Yz7)({token:G,providedIn:"root",factory:()=>new Yr((0,_.LFG)(Pe),window)}),G})();class Yr{constructor(re,j){this.document=re,this.window=j,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const j=function Dr(G,re){const j=G.getElementById(re)||G.getElementsByName(re)[0];if(j)return j;if("function"==typeof G.createTreeWalker&&G.body&&(G.body.createShadowRoot||G.body.attachShadow)){const ce=G.createTreeWalker(G.body,NodeFilter.SHOW_ELEMENT);let $e=ce.currentNode;for(;$e;){const Dt=$e.shadowRoot;if(Dt){const St=Dt.getElementById(re)||Dt.querySelector(`[name="${re}"]`);if(St)return St}$e=ce.nextNode()}}return null}(this.document,re);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(re){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=re)}}scrollToElement(re){const j=re.getBoundingClientRect(),ce=j.left+this.window.pageXOffset,$e=j.top+this.window.pageYOffset,Dt=this.offset();this.window.scrollTo(ce-Dt[0],$e-Dt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const re=io(this.window.history)||io(Object.getPrototypeOf(this.window.history));return!(!re||!re.writable&&!re.set)}catch(re){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(re){return!1}}}function io(G){return Object.getOwnPropertyDescriptor(G,"scrollRestoration")}class ti{}},520:(Ht,Qe,R)=>{R.d(Qe,{Ed:()=>ye,JF:()=>dt,eN:()=>Ze});var _=R(9808),z=R(5e3),m=R(9646),ue=R(8306),de=R(4351),xe=R(9300),Pe=R(4004);class ke{}class De{}class he{constructor(q){this.normalizedNames=new Map,this.lazyUpdate=null,q?this.lazyInit="string"==typeof q?()=>{this.headers=new Map,q.split("\n").forEach(oe=>{const Ve=oe.indexOf(":");if(Ve>0){const it=oe.slice(0,Ve),bt=it.toLowerCase(),It=oe.slice(Ve+1).trim();this.maybeSetNormalizedName(it,bt),this.headers.has(bt)?this.headers.get(bt).push(It):this.headers.set(bt,[It])}})}:()=>{this.headers=new Map,Object.keys(q).forEach(oe=>{let Ve=q[oe];const it=oe.toLowerCase();"string"==typeof Ve&&(Ve=[Ve]),Ve.length>0&&(this.headers.set(it,Ve),this.maybeSetNormalizedName(oe,it))})}:this.headers=new Map}has(q){return this.init(),this.headers.has(q.toLowerCase())}get(q){this.init();const oe=this.headers.get(q.toLowerCase());return oe&&oe.length>0?oe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(q){return this.init(),this.headers.get(q.toLowerCase())||null}append(q,oe){return this.clone({name:q,value:oe,op:"a"})}set(q,oe){return this.clone({name:q,value:oe,op:"s"})}delete(q,oe){return this.clone({name:q,value:oe,op:"d"})}maybeSetNormalizedName(q,oe){this.normalizedNames.has(oe)||this.normalizedNames.set(oe,q)}init(){this.lazyInit&&(this.lazyInit instanceof he?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(q=>this.applyUpdate(q)),this.lazyUpdate=null))}copyFrom(q){q.init(),Array.from(q.headers.keys()).forEach(oe=>{this.headers.set(oe,q.headers.get(oe)),this.normalizedNames.set(oe,q.normalizedNames.get(oe))})}clone(q){const oe=new he;return oe.lazyInit=this.lazyInit&&this.lazyInit instanceof he?this.lazyInit:this,oe.lazyUpdate=(this.lazyUpdate||[]).concat([q]),oe}applyUpdate(q){const oe=q.name.toLowerCase();switch(q.op){case"a":case"s":let Ve=q.value;if("string"==typeof Ve&&(Ve=[Ve]),0===Ve.length)return;this.maybeSetNormalizedName(q.name,oe);const it=("a"===q.op?this.headers.get(oe):void 0)||[];it.push(...Ve),this.headers.set(oe,it);break;case"d":const bt=q.value;if(bt){let It=this.headers.get(oe);if(!It)return;It=It.filter(pn=>-1===bt.indexOf(pn)),0===It.length?(this.headers.delete(oe),this.normalizedNames.delete(oe)):this.headers.set(oe,It)}else this.headers.delete(oe),this.normalizedNames.delete(oe)}}forEach(q){this.init(),Array.from(this.normalizedNames.keys()).forEach(oe=>q(this.normalizedNames.get(oe),this.headers.get(oe)))}}class Te{encodeKey(q){return Ae(q)}encodeValue(q){return Ae(q)}decodeKey(q){return decodeURIComponent(q)}decodeValue(q){return decodeURIComponent(q)}}const Fe=/%(\d[a-f0-9])/gi,Ie={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ae(Y){return encodeURIComponent(Y).replace(Fe,(q,oe)=>{var Ve;return null!==(Ve=Ie[oe])&&void 0!==Ve?Ve:q})}function ot(Y){return`${Y}`}class Ue{constructor(q={}){if(this.updates=null,this.cloneFrom=null,this.encoder=q.encoder||new Te,q.fromString){if(q.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ee(Y,q){const oe=new Map;return Y.length>0&&Y.replace(/^\?/,"").split("&").forEach(it=>{const bt=it.indexOf("="),[It,pn]=-1==bt?[q.decodeKey(it),""]:[q.decodeKey(it.slice(0,bt)),q.decodeValue(it.slice(bt+1))],rn=oe.get(It)||[];rn.push(pn),oe.set(It,rn)}),oe}(q.fromString,this.encoder)}else q.fromObject?(this.map=new Map,Object.keys(q.fromObject).forEach(oe=>{const Ve=q.fromObject[oe];this.map.set(oe,Array.isArray(Ve)?Ve:[Ve])})):this.map=null}has(q){return this.init(),this.map.has(q)}get(q){this.init();const oe=this.map.get(q);return oe?oe[0]:null}getAll(q){return this.init(),this.map.get(q)||null}keys(){return this.init(),Array.from(this.map.keys())}append(q,oe){return this.clone({param:q,value:oe,op:"a"})}appendAll(q){const oe=[];return Object.keys(q).forEach(Ve=>{const it=q[Ve];Array.isArray(it)?it.forEach(bt=>{oe.push({param:Ve,value:bt,op:"a"})}):oe.push({param:Ve,value:it,op:"a"})}),this.clone(oe)}set(q,oe){return this.clone({param:q,value:oe,op:"s"})}delete(q,oe){return this.clone({param:q,value:oe,op:"d"})}toString(){return this.init(),this.keys().map(q=>{const oe=this.encoder.encodeKey(q);return this.map.get(q).map(Ve=>oe+"="+this.encoder.encodeValue(Ve)).join("&")}).filter(q=>""!==q).join("&")}clone(q){const oe=new Ue({encoder:this.encoder});return oe.cloneFrom=this.cloneFrom||this,oe.updates=(this.updates||[]).concat(q),oe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(q=>this.map.set(q,this.cloneFrom.map.get(q))),this.updates.forEach(q=>{switch(q.op){case"a":case"s":const oe=("a"===q.op?this.map.get(q.param):void 0)||[];oe.push(ot(q.value)),this.map.set(q.param,oe);break;case"d":if(void 0===q.value){this.map.delete(q.param);break}{let Ve=this.map.get(q.param)||[];const it=Ve.indexOf(ot(q.value));-1!==it&&Ve.splice(it,1),Ve.length>0?this.map.set(q.param,Ve):this.map.delete(q.param)}}}),this.cloneFrom=this.updates=null)}}class Tt{constructor(){this.map=new Map}set(q,oe){return this.map.set(q,oe),this}get(q){return this.map.has(q)||this.map.set(q,q.defaultValue()),this.map.get(q)}delete(q){return this.map.delete(q),this}has(q){return this.map.has(q)}keys(){return this.map.keys()}}function st(Y){return"undefined"!=typeof ArrayBuffer&&Y instanceof ArrayBuffer}function ve(Y){return"undefined"!=typeof Blob&&Y instanceof Blob}function me(Y){return"undefined"!=typeof FormData&&Y instanceof FormData}class ze{constructor(q,oe,Ve,it){let bt;if(this.url=oe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=q.toUpperCase(),function zt(Y){switch(Y){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||it?(this.body=void 0!==Ve?Ve:null,bt=it):bt=Ve,bt&&(this.reportProgress=!!bt.reportProgress,this.withCredentials=!!bt.withCredentials,bt.responseType&&(this.responseType=bt.responseType),bt.headers&&(this.headers=bt.headers),bt.context&&(this.context=bt.context),bt.params&&(this.params=bt.params)),this.headers||(this.headers=new he),this.context||(this.context=new Tt),this.params){const It=this.params.toString();if(0===It.length)this.urlWithParams=oe;else{const pn=oe.indexOf("?");this.urlWithParams=oe+(-1===pn?"?":pn<oe.length-1?"&":"")+It}}else this.params=new Ue,this.urlWithParams=oe}serializeBody(){return null===this.body?null:st(this.body)||ve(this.body)||me(this.body)||function Ne(Y){return"undefined"!=typeof URLSearchParams&&Y instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ue?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||me(this.body)?null:ve(this.body)?this.body.type||null:st(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ue?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(q={}){var oe;const Ve=q.method||this.method,it=q.url||this.url,bt=q.responseType||this.responseType,It=void 0!==q.body?q.body:this.body,pn=void 0!==q.withCredentials?q.withCredentials:this.withCredentials,rn=void 0!==q.reportProgress?q.reportProgress:this.reportProgress;let un=q.headers||this.headers,$n=q.params||this.params;const Hn=null!==(oe=q.context)&&void 0!==oe?oe:this.context;return void 0!==q.setHeaders&&(un=Object.keys(q.setHeaders).reduce((Vn,Ge)=>Vn.set(Ge,q.setHeaders[Ge]),un)),q.setParams&&($n=Object.keys(q.setParams).reduce((Vn,Ge)=>Vn.set(Ge,q.setParams[Ge]),$n)),new ze(Ve,it,It,{params:$n,headers:un,context:Hn,reportProgress:rn,responseType:bt,withCredentials:pn})}}var nt=(()=>((nt=nt||{})[nt.Sent=0]="Sent",nt[nt.UploadProgress=1]="UploadProgress",nt[nt.ResponseHeader=2]="ResponseHeader",nt[nt.DownloadProgress=3]="DownloadProgress",nt[nt.Response=4]="Response",nt[nt.User=5]="User",nt))();class K{constructor(q,oe=200,Ve="OK"){this.headers=q.headers||new he,this.status=void 0!==q.status?q.status:oe,this.statusText=q.statusText||Ve,this.url=q.url||null,this.ok=this.status>=200&&this.status<300}}class fe extends K{constructor(q={}){super(q),this.type=nt.ResponseHeader}clone(q={}){return new fe({headers:q.headers||this.headers,status:void 0!==q.status?q.status:this.status,statusText:q.statusText||this.statusText,url:q.url||this.url||void 0})}}class Xe extends K{constructor(q={}){super(q),this.type=nt.Response,this.body=void 0!==q.body?q.body:null}clone(q={}){return new Xe({body:void 0!==q.body?q.body:this.body,headers:q.headers||this.headers,status:void 0!==q.status?q.status:this.status,statusText:q.statusText||this.statusText,url:q.url||this.url||void 0})}}class ct extends K{constructor(q){super(q,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${q.url||"(unknown url)"}`:`Http failure response for ${q.url||"(unknown url)"}: ${q.status} ${q.statusText}`,this.error=q.error||null}}function ht(Y,q){return{body:q,headers:Y.headers,context:Y.context,observe:Y.observe,params:Y.params,reportProgress:Y.reportProgress,responseType:Y.responseType,withCredentials:Y.withCredentials}}let Ze=(()=>{class Y{constructor(oe){this.handler=oe}request(oe,Ve,it={}){let bt;if(oe instanceof ze)bt=oe;else{let rn,un;rn=it.headers instanceof he?it.headers:new he(it.headers),it.params&&(un=it.params instanceof Ue?it.params:new Ue({fromObject:it.params})),bt=new ze(oe,Ve,void 0!==it.body?it.body:null,{headers:rn,context:it.context,params:un,reportProgress:it.reportProgress,responseType:it.responseType||"json",withCredentials:it.withCredentials})}const It=(0,m.of)(bt).pipe((0,de.b)(rn=>this.handler.handle(rn)));if(oe instanceof ze||"events"===it.observe)return It;const pn=It.pipe((0,xe.h)(rn=>rn instanceof Xe));switch(it.observe||"body"){case"body":switch(bt.responseType){case"arraybuffer":return pn.pipe((0,Pe.U)(rn=>{if(null!==rn.body&&!(rn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return rn.body}));case"blob":return pn.pipe((0,Pe.U)(rn=>{if(null!==rn.body&&!(rn.body instanceof Blob))throw new Error("Response is not a Blob.");return rn.body}));case"text":return pn.pipe((0,Pe.U)(rn=>{if(null!==rn.body&&"string"!=typeof rn.body)throw new Error("Response is not a string.");return rn.body}));default:return pn.pipe((0,Pe.U)(rn=>rn.body))}case"response":return pn;default:throw new Error(`Unreachable: unhandled observe type ${it.observe}}`)}}delete(oe,Ve={}){return this.request("DELETE",oe,Ve)}get(oe,Ve={}){return this.request("GET",oe,Ve)}head(oe,Ve={}){return this.request("HEAD",oe,Ve)}jsonp(oe,Ve){return this.request("JSONP",oe,{params:(new Ue).append(Ve,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(oe,Ve={}){return this.request("OPTIONS",oe,Ve)}patch(oe,Ve,it={}){return this.request("PATCH",oe,ht(it,Ve))}post(oe,Ve,it={}){return this.request("POST",oe,ht(it,Ve))}put(oe,Ve,it={}){return this.request("PUT",oe,ht(it,Ve))}}return Y.\u0275fac=function(oe){return new(oe||Y)(z.LFG(ke))},Y.\u0275prov=z.Yz7({token:Y,factory:Y.\u0275fac}),Y})();class _t{constructor(q,oe){this.next=q,this.interceptor=oe}handle(q){return this.interceptor.intercept(q,this.next)}}const at=new z.OlP("HTTP_INTERCEPTORS");let Pt,Wt=(()=>{class Y{intercept(oe,Ve){return Ve.handle(oe)}}return Y.\u0275fac=function(oe){return new(oe||Y)},Y.\u0275prov=z.Yz7({token:Y,factory:Y.\u0275fac}),Y})(),xt=0;class Vt{}let tt=(()=>{class Y{constructor(oe,Ve){this.callbackMap=oe,this.document=Ve,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+xt++}handle(oe){if("JSONP"!==oe.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==oe.responseType)throw new Error("JSONP requests must use Json response type.");return new ue.y(Ve=>{const it=this.nextCallback(),bt=oe.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${it}$1`),It=this.document.createElement("script");It.src=bt;let pn=null,rn=!1;this.callbackMap[it]=Vn=>{delete this.callbackMap[it],pn=Vn,rn=!0};const un=()=>{It.parentNode&&It.parentNode.removeChild(It),delete this.callbackMap[it]};return It.addEventListener("load",Vn=>{this.resolvedPromise.then(()=>{un(),rn?(Ve.next(new Xe({body:pn,status:200,statusText:"OK",url:bt})),Ve.complete()):Ve.error(new ct({url:bt,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),It.addEventListener("error",Vn=>{un(),Ve.error(new ct({error:Vn,status:0,statusText:"JSONP Error",url:bt}))}),this.document.body.appendChild(It),Ve.next({type:nt.Sent}),()=>{rn||this.removeListeners(It),un()}})}removeListeners(oe){Pt||(Pt=this.document.implementation.createHTMLDocument()),Pt.adoptNode(oe)}}return Y.\u0275fac=function(oe){return new(oe||Y)(z.LFG(Vt),z.LFG(_.K0))},Y.\u0275prov=z.Yz7({token:Y,factory:Y.\u0275fac}),Y})(),je=(()=>{class Y{constructor(oe){this.jsonp=oe}intercept(oe,Ve){return"JSONP"===oe.method?this.jsonp.handle(oe):Ve.handle(oe)}}return Y.\u0275fac=function(oe){return new(oe||Y)(z.LFG(tt))},Y.\u0275prov=z.Yz7({token:Y,factory:Y.\u0275fac}),Y})();const et=/^\)\]\}',?\n/;let gt=(()=>{class Y{constructor(oe){this.xhrFactory=oe}handle(oe){if("JSONP"===oe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ue.y(Ve=>{const it=this.xhrFactory.build();if(it.open(oe.method,oe.urlWithParams),oe.withCredentials&&(it.withCredentials=!0),oe.headers.forEach((Ge,H)=>it.setRequestHeader(Ge,H.join(","))),oe.headers.has("Accept")||it.setRequestHeader("Accept","application/json, text/plain, */*"),!oe.headers.has("Content-Type")){const Ge=oe.detectContentTypeHeader();null!==Ge&&it.setRequestHeader("Content-Type",Ge)}if(oe.responseType){const Ge=oe.responseType.toLowerCase();it.responseType="json"!==Ge?Ge:"text"}const bt=oe.serializeBody();let It=null;const pn=()=>{if(null!==It)return It;const Ge=it.statusText||"OK",H=new he(it.getAllResponseHeaders()),I=function Oe(Y){return"responseURL"in Y&&Y.responseURL?Y.responseURL:/^X-Request-URL:/m.test(Y.getAllResponseHeaders())?Y.getResponseHeader("X-Request-URL"):null}(it)||oe.url;return It=new fe({headers:H,status:it.status,statusText:Ge,url:I}),It},rn=()=>{let{headers:Ge,status:H,statusText:I,url:U}=pn(),ne=null;204!==H&&(ne=void 0===it.response?it.responseText:it.response),0===H&&(H=ne?200:0);let _e=H>=200&&H<300;if("json"===oe.responseType&&"string"==typeof ne){const yt=ne;ne=ne.replace(et,"");try{ne=""!==ne?JSON.parse(ne):null}catch(Yt){ne=yt,_e&&(_e=!1,ne={error:Yt,text:ne})}}_e?(Ve.next(new Xe({body:ne,headers:Ge,status:H,statusText:I,url:U||void 0})),Ve.complete()):Ve.error(new ct({error:ne,headers:Ge,status:H,statusText:I,url:U||void 0}))},un=Ge=>{const{url:H}=pn(),I=new ct({error:Ge,status:it.status||0,statusText:it.statusText||"Unknown Error",url:H||void 0});Ve.error(I)};let $n=!1;const Hn=Ge=>{$n||(Ve.next(pn()),$n=!0);let H={type:nt.DownloadProgress,loaded:Ge.loaded};Ge.lengthComputable&&(H.total=Ge.total),"text"===oe.responseType&&!!it.responseText&&(H.partialText=it.responseText),Ve.next(H)},Vn=Ge=>{let H={type:nt.UploadProgress,loaded:Ge.loaded};Ge.lengthComputable&&(H.total=Ge.total),Ve.next(H)};return it.addEventListener("load",rn),it.addEventListener("error",un),it.addEventListener("timeout",un),it.addEventListener("abort",un),oe.reportProgress&&(it.addEventListener("progress",Hn),null!==bt&&it.upload&&it.upload.addEventListener("progress",Vn)),it.send(bt),Ve.next({type:nt.Sent}),()=>{it.removeEventListener("error",un),it.removeEventListener("abort",un),it.removeEventListener("load",rn),it.removeEventListener("timeout",un),oe.reportProgress&&(it.removeEventListener("progress",Hn),null!==bt&&it.upload&&it.upload.removeEventListener("progress",Vn)),it.readyState!==it.DONE&&it.abort()}})}}return Y.\u0275fac=function(oe){return new(oe||Y)(z.LFG(_.JF))},Y.\u0275prov=z.Yz7({token:Y,factory:Y.\u0275fac}),Y})();const Nt=new z.OlP("XSRF_COOKIE_NAME"),Kt=new z.OlP("XSRF_HEADER_NAME");class Qt{}let ln=(()=>{class Y{constructor(oe,Ve,it){this.doc=oe,this.platform=Ve,this.cookieName=it,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const oe=this.doc.cookie||"";return oe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_.Mx)(oe,this.cookieName),this.lastCookieString=oe),this.lastToken}}return Y.\u0275fac=function(oe){return new(oe||Y)(z.LFG(_.K0),z.LFG(z.Lbi),z.LFG(Nt))},Y.\u0275prov=z.Yz7({token:Y,factory:Y.\u0275fac}),Y})(),fn=(()=>{class Y{constructor(oe,Ve){this.tokenService=oe,this.headerName=Ve}intercept(oe,Ve){const it=oe.url.toLowerCase();if("GET"===oe.method||"HEAD"===oe.method||it.startsWith("http://")||it.startsWith("https://"))return Ve.handle(oe);const bt=this.tokenService.getToken();return null!==bt&&!oe.headers.has(this.headerName)&&(oe=oe.clone({headers:oe.headers.set(this.headerName,bt)})),Ve.handle(oe)}}return Y.\u0275fac=function(oe){return new(oe||Y)(z.LFG(Qt),z.LFG(Kt))},Y.\u0275prov=z.Yz7({token:Y,factory:Y.\u0275fac}),Y})(),wt=(()=>{class Y{constructor(oe,Ve){this.backend=oe,this.injector=Ve,this.chain=null}handle(oe){if(null===this.chain){const Ve=this.injector.get(at,[]);this.chain=Ve.reduceRight((it,bt)=>new _t(it,bt),this.backend)}return this.chain.handle(oe)}}return Y.\u0275fac=function(oe){return new(oe||Y)(z.LFG(De),z.LFG(z.zs3))},Y.\u0275prov=z.Yz7({token:Y,factory:Y.\u0275fac}),Y})();function we(){return"object"==typeof window?window:{}}let We=(()=>{class Y{static disable(){return{ngModule:Y,providers:[{provide:fn,useClass:Wt}]}}static withOptions(oe={}){return{ngModule:Y,providers:[oe.cookieName?{provide:Nt,useValue:oe.cookieName}:[],oe.headerName?{provide:Kt,useValue:oe.headerName}:[]]}}}return Y.\u0275fac=function(oe){return new(oe||Y)},Y.\u0275mod=z.oAB({type:Y}),Y.\u0275inj=z.cJS({providers:[fn,{provide:at,useExisting:fn,multi:!0},{provide:Qt,useClass:ln},{provide:Nt,useValue:"XSRF-TOKEN"},{provide:Kt,useValue:"X-XSRF-TOKEN"}]}),Y})(),dt=(()=>{class Y{}return Y.\u0275fac=function(oe){return new(oe||Y)},Y.\u0275mod=z.oAB({type:Y}),Y.\u0275inj=z.cJS({providers:[Ze,{provide:ke,useClass:wt},gt,{provide:De,useExisting:gt}],imports:[[We.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Y})(),ye=(()=>{class Y{}return Y.\u0275fac=function(oe){return new(oe||Y)},Y.\u0275mod=z.oAB({type:Y}),Y.\u0275inj=z.cJS({providers:[tt,{provide:Vt,useFactory:we},{provide:at,useClass:je,multi:!0}]}),Y})()},5e3:(Ht,Qe,R)=>{R.d(Qe,{$8M:()=>fr,$Z:()=>pm,AFp:()=>sb,AaK:()=>ke,BQk:()=>Nd,CHM:()=>cs,CRH:()=>Vy,CZH:()=>A_,CqO:()=>Bd,EJc:()=>gD,EiD:()=>_n,EpF:()=>_m,F$t:()=>Cm,F4k:()=>vm,FYo:()=>gy,FiY:()=>nl,G48:()=>VD,Gf:()=>Ly,GfV:()=>_y,GkF:()=>gm,Gpc:()=>Te,Hsn:()=>Hd,Ikx:()=>i_,JOm:()=>Ws,JVY:()=>Au,L6k:()=>Wf,LAX:()=>ch,LFG:()=>Br,LSH:()=>jr,Lbi:()=>fD,MAs:()=>La,NdJ:()=>Oc,O4$:()=>Mo,OlP:()=>Li,Oqu:()=>n_,PXZ:()=>RD,Q6J:()=>Pd,QGY:()=>Ld,Qsj:()=>lC,R0b:()=>ja,RDi:()=>io,Rgc:()=>Ff,SBq:()=>Rf,Sil:()=>vD,Suo:()=>By,TTD:()=>Or,TgZ:()=>zl,Udp:()=>Ur,VKq:()=>My,VLi:()=>AD,WFA:()=>Vd,X6Q:()=>BD,XFs:()=>te,Xpm:()=>Tn,Y36:()=>du,YKP:()=>Cy,YNc:()=>om,Yjl:()=>Me,Yz7:()=>Vt,ZZ4:()=>H_,_Bn:()=>fy,_UZ:()=>Fd,_Vd:()=>Pm,_c5:()=>tw,_uU:()=>Dv,aQg:()=>G_,c2e:()=>pD,cJS:()=>je,cg1:()=>o_,d8E:()=>r_,dDg:()=>hb,deG:()=>uo,dqk:()=>un,eBb:()=>lh,eFA:()=>mb,ekj:()=>mu,f3M:()=>Il,g9A:()=>lb,h0i:()=>Kd,hGG:()=>nw,hij:()=>Am,iGM:()=>Ny,ifc:()=>it,ip1:()=>ob,kL8:()=>jv,kcU:()=>wr,lG2:()=>Ke,mCW:()=>xa,n5z:()=>Lo,oAB:()=>di,oxw:()=>wf,pB0:()=>Vr,q3G:()=>ii,q4F:()=>vy,qLn:()=>tr,qOj:()=>Sc,qZA:()=>fu,qzn:()=>ci,sBO:()=>jD,sIi:()=>Ac,s_b:()=>Lm,soG:()=>x_,tBr:()=>Zr,tb:()=>cb,tp0:()=>ia,uIk:()=>Na,vHH:()=>Ae,vpe:()=>El,wAp:()=>Bn,xp6:()=>Xc,yhl:()=>Pl,ynx:()=>pu,z2F:()=>N_,z3N:()=>Bi,zSh:()=>su,zs3:()=>oi});var _=R(7579),z=R(727),m=R(8306),ue=R(6451),de=R(3099);function xe(o){for(let s in o)if(o[s]===xe)return s;throw Error("Could not find renamed property on target object.")}function Pe(o,s){for(const a in s)s.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=s[a])}function ke(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ke).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function De(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const he=xe({__forward_ref__:xe});function Te(o){return o.__forward_ref__=Te,o.toString=function(){return ke(this())},o}function Ee(o){return Fe(o)?o():o}function Fe(o){return"function"==typeof o&&o.hasOwnProperty(he)&&o.__forward_ref__===Te}class Ae extends Error{constructor(s,a){super(function ot(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,a)),this.code=s}}function Ue(o){return"string"==typeof o?o:null==o?"":String(o)}function lt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ue(o)}function ve(o,s){const a=s?` in ${s}`:"";throw new Ae(-201,`No provider for ${lt(o)} found${a}`)}function xt(o,s){null==o&&function Pt(o,s,a,c){throw new Error(`ASSERTION ERROR: ${o}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,o,null,"!=")}function Vt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function je(o){return{providers:o.providers||[],imports:o.imports||[]}}function et(o){return Oe(o,Qt)||Oe(o,fn)}function Oe(o,s){return o.hasOwnProperty(s)?o[s]:null}function Kt(o){return o&&(o.hasOwnProperty(ln)||o.hasOwnProperty(wt))?o[ln]:null}const Qt=xe({\u0275prov:xe}),ln=xe({\u0275inj:xe}),fn=xe({ngInjectableDef:xe}),wt=xe({ngInjectorDef:xe});var te=(()=>((te=te||{})[te.Default=0]="Default",te[te.Host=1]="Host",te[te.Self=2]="Self",te[te.SkipSelf=4]="SkipSelf",te[te.Optional=8]="Optional",te))();let we;function dt(o){const s=we;return we=o,s}function ye(o,s,a){const c=et(o);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&te.Optional?null:void 0!==s?s:void ve(ke(o),"Injector")}function Y(o){return{toString:o}.toString()}var q=(()=>((q=q||{})[q.OnPush=0]="OnPush",q[q.Default=1]="Default",q))(),it=(()=>{return(o=it||(it={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",it;var o})();const bt="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,pn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,un=bt||"undefined"!=typeof global&&global||It||pn,Vn={},Ge=[],H=xe({\u0275cmp:xe}),I=xe({\u0275dir:xe}),U=xe({\u0275pipe:xe}),ne=xe({\u0275mod:xe}),_e=xe({\u0275fac:xe}),yt=xe({__NG_ELEMENT_ID__:xe});let Yt=0;function Tn(o){return Y(()=>{const a={},c={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Ge,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||it.Emulated,id:"c",styles:o.styles||Ge,_:null,setInput:null,schemas:o.schemas||null,tView:null},d=o.directives,p=o.features,y=o.pipes;return c.id+=Yt++,c.inputs=qe(o.inputs,a),c.outputs=qe(o.outputs),p&&p.forEach(T=>T(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(An):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(Yn):null,c})}function An(o){return Je(o)||function kt(o){return o[I]||null}(o)}function Yn(o){return function mn(o){return o[U]||null}(o)}const Wn={};function di(o){return Y(()=>{const s={type:o.type,bootstrap:o.bootstrap||Ge,declarations:o.declarations||Ge,imports:o.imports||Ge,exports:o.exports||Ge,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Wn[o.id]=o.type),s})}function qe(o,s){if(null==o)return Vn;const a={};for(const c in o)if(o.hasOwnProperty(c)){let d=o[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,s&&(s[d]=p)}return a}const Ke=Tn;function Me(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Je(o){return o[H]||null}function Dn(o,s){const a=o[ne]||null;if(!a&&!0===s)throw new Error(`Type ${ke(o)} does not have '\u0275mod' property.`);return a}function vi(o){return Array.isArray(o)&&"object"==typeof o[1]}function zi(o){return Array.isArray(o)&&!0===o[1]}function xr(o){return 0!=(8&o.flags)}function $r(o){return 2==(2&o.flags)}function eo(o){return 1==(1&o.flags)}function $i(o){return null!==o.template}function Ds(o){return 0!=(512&o[2])}function ur(o,s){return o.hasOwnProperty(_e)?o[_e]:null}class Ts{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Or(){return dr}function dr(o){return o.type.prototype.ngOnChanges&&(o.setInput=Pr),as}function as(){const o=Wo(this),s=null==o?void 0:o.current;if(s){const a=o.previous;if(a===Vn)o.previous=s;else for(let c in s)a[c]=s[c];o.current=null,this.ngOnChanges(s)}}function Pr(o,s,a,c){const d=Wo(o)||function ls(o,s){return o[Yo]=s}(o,{previous:Vn,current:null}),p=d.current||(d.current={}),y=d.previous,T=this.declaredInputs[a],P=y[T];p[T]=new Ts(P&&P.currentValue,s,y===Vn),o[c]=s}Or.ngInherit=!0;const Yo="__ngSimpleChanges__";function Wo(o){return o[Yo]||null}let Yr;function io(o){Yr=o}function ti(o){return!!o.listen}const G={createRenderer:(o,s)=>function Dr(){return void 0!==Yr?Yr:"undefined"!=typeof document?document:void 0}()};function j(o){for(;Array.isArray(o);)o=o[0];return o}function Dt(o,s){return j(s[o])}function St(o,s){return j(s[o.index])}function si(o,s){return o.data[s]}function Fn(o,s){const a=s[o];return vi(a)?a:a[0]}function Un(o){return 4==(4&o[2])}function On(o){return 128==(128&o[2])}function Ii(o,s){return null==s?null:o[s]}function $(o){o[18]=0}function N(o,s){o[5]+=s;let a=o,c=o[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const k={lFrame:zn(null),bindingsEnabled:!0};function Co(){return k.bindingsEnabled}function Bt(){return k.lFrame.lView}function ai(){return k.lFrame.tView}function cs(o){return k.lFrame.contextLView=o,o[8]}function Oi(){let o=Ua();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ua(){return k.lFrame.currentTNode}function wo(o,s){const a=k.lFrame;a.currentTNode=o,a.isParent=s}function Ha(){return k.lFrame.isParent}function va(){k.lFrame.isParent=!1}function v(){return k.lFrame.bindingIndex++}function pe(o,s){const a=k.lFrame;a.bindingIndex=a.bindingRootIndex=o,He(s)}function He(o){k.lFrame.currentDirectiveIndex=o}function ut(o){const s=k.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}function At(){return k.lFrame.currentQueryIndex}function sn(o){k.lFrame.currentQueryIndex=o}function tn(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function Nn(o,s,a){if(a&te.SkipSelf){let d=s,p=o;for(;!(d=d.parent,null!==d||a&te.Host||(d=tn(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,o=p}const c=k.lFrame=En();return c.currentTNode=s,c.lView=o,!0}function qn(o){const s=En(),a=o[1];k.lFrame=s,s.currentTNode=a.firstChild,s.lView=o,s.tView=a,s.contextLView=o,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function En(){const o=k.lFrame,s=null===o?null:o.child;return null===s?zn(o):s}function zn(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function yi(){const o=k.lFrame;return k.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Ki=yi;function Pi(){const o=yi();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function qi(){return k.lFrame.selectedIndex}function Si(o){k.lFrame.selectedIndex=o}function Qn(){const o=k.lFrame;return si(o.tView,o.selectedIndex)}function Mo(){k.lFrame.currentNamespace="svg"}function wr(){!function ea(){k.lFrame.currentNamespace=null}()}function To(o,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=o.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:T,ngAfterViewInit:P,ngAfterViewChecked:W,ngOnDestroy:ie}=p;y&&(o.contentHooks||(o.contentHooks=[])).push(-a,y),T&&((o.contentHooks||(o.contentHooks=[])).push(a,T),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(a,T)),P&&(o.viewHooks||(o.viewHooks=[])).push(-a,P),W&&((o.viewHooks||(o.viewHooks=[])).push(a,W),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(a,W)),null!=ie&&(o.destroyHooks||(o.destroyHooks=[])).push(a,ie)}}function Ni(o,s,a){Mn(o,s,3,a)}function dn(o,s,a,c){(3&o[2])===a&&Mn(o,s,a,c)}function bn(o,s){let a=o[2];(3&a)===s&&(a&=2047,a+=1,o[2]=a)}function Mn(o,s,a,c){const p=null!=c?c:-1,y=s.length-1;let T=0;for(let P=void 0!==c?65535&o[18]:0;P<y;P++)if("number"==typeof s[P+1]){if(T=s[P],null!=c&&T>=c)break}else s[P]<0&&(o[18]+=65536),(T<p||-1==p)&&(Zn(o,a,s,P),o[18]=(4294901760&o[18])+P+2),P++}function Zn(o,s,a,c){const d=a[c]<0,p=a[c+1],T=o[d?-a[c]:a[c]];if(d){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{p.call(T)}finally{}}}else try{p.call(T)}finally{}}class hr{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Er(o,s,a){const c=ti(o);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const y=a[d++],T=a[d++],P=a[d++];c?o.setAttribute(s,T,P,y):s.setAttributeNS(y,T,P)}else{const y=p,T=a[++d];ba(y)?c&&o.setProperty(s,y,T):c?o.setAttribute(s,y,T):s.setAttribute(y,T),d++}}return d}function ds(o){return 3===o||4===o||6===o}function ba(o){return 64===o.charCodeAt(0)}function hs(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||Nr(o,a,d,null,-1===a||2===a?s[++c]:null)}}return o}function Nr(o,s,a,c,d){let p=0,y=o.length;if(-1===s)y=-1;else for(;p<o.length;){const T=o[p++];if("number"==typeof T){if(T===s){y=-1;break}if(T>s){y=p-1;break}}}for(;p<o.length;){const T=o[p];if("number"==typeof T)break;if(T===a){if(null===c)return void(null!==d&&(o[p+1]=d));if(c===o[p+1])return void(o[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==y&&(o.splice(y,0,s),p=y+1),o.splice(p++,0,a),null!==c&&o.splice(p++,0,c),null!==d&&o.splice(p++,0,d)}function Ca(o){return-1!==o}function As(o){return 32767&o}function fs(o,s){let a=function ta(o){return o>>16}(o),c=s;for(;a>0;)c=c[15],a--;return c}let za=!0;function Hs(o){const s=za;return za=o,s}let zs=0;function ao(o,s){const a=E(o,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(o.injectorIndex=s.length,x(c.data,o),x(s,null),x(c.blueprint,null));const d=C(o,s),p=o.injectorIndex;if(Ca(d)){const y=As(d),T=fs(d,s),P=T[1].data;for(let W=0;W<8;W++)s[p+W]=T[y+W]|P[y+W]}return s[p+8]=d,p}function x(o,s){o.push(0,0,0,0,0,0,0,0,s)}function E(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function C(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){const p=d[1],y=p.type;if(c=2===y?p.declTNode:1===y?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function S(o,s,a){!function Is(o,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(yt)&&(c=a[yt]),null==c&&(c=a[yt]=zs++);const d=255&c;s.data[o+(d>>5)]|=1<<d}(o,s,a)}function ae(o,s,a){if(a&te.Optional)return o;ve(s,"NodeInjector")}function Se(o,s,a,c){if(a&te.Optional&&void 0===c&&(c=null),0==(a&(te.Self|te.Host))){const d=o[9],p=dt(void 0);try{return d?d.get(s,c,a&te.Optional):ye(s,c,a&te.Optional)}finally{dt(p)}}return ae(c,s,a)}function ge(o,s,a,c=te.Default,d){if(null!==o){const p=function Ut(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(yt)?o[yt]:void 0;return"number"==typeof s?s>=0?255&s:hn:s}(a);if("function"==typeof p){if(!Nn(s,o,c))return c&te.Host?ae(d,a,c):Se(s,a,c,d);try{const y=p(c);if(null!=y||c&te.Optional)return y;ve(a)}finally{Ki()}}else if("number"==typeof p){let y=null,T=E(o,s),P=-1,W=c&te.Host?s[16][6]:null;for((-1===T||c&te.SkipSelf)&&(P=-1===T?C(o,s):s[T+8],-1!==P&&ps(c,!1)?(y=s[1],T=As(P),s=fs(P,s)):T=-1);-1!==T;){const ie=s[1];if(lo(p,T,ie.data)){const be=ei(T,s,a,y,c,W);if(be!==vt)return be}P=s[T+8],-1!==P&&ps(c,s[1].data[T+8]===W)&&lo(p,T,s)?(y=ie,T=As(P),s=fs(P,s)):T=-1}}}return Se(s,a,c,d)}const vt={};function hn(){return new Ln(Oi(),Bt())}function ei(o,s,a,c,d,p){const y=s[1],T=y.data[o+8],ie=Ot(T,y,a,null==c?$r(T)&&za:c!=y&&0!=(3&T.type),d&te.Host&&p===T);return null!==ie?nn(s,y,ie,T):vt}function Ot(o,s,a,c,d){const p=o.providerIndexes,y=s.data,T=1048575&p,P=o.directiveStart,ie=p>>20,Ye=d?T+ie:o.directiveEnd;for(let ft=c?T:T+ie;ft<Ye;ft++){const Rt=y[ft];if(ft<P&&a===Rt||ft>=P&&Rt.type===a)return ft}if(d){const ft=y[P];if(ft&&$i(ft)&&ft.type===a)return P}return null}function nn(o,s,a,c){let d=o[a];const p=s.data;if(function Qi(o){return o instanceof hr}(d)){const y=d;y.resolving&&function Tt(o,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${o}${a}`)}(lt(p[a]));const T=Hs(y.canSeeViewProviders);y.resolving=!0;const P=y.injectImpl?dt(y.injectImpl):null;Nn(o,c,te.Default);try{d=o[a]=y.factory(void 0,p,o,c),s.firstCreatePass&&a>=c.directiveStart&&function Kr(o,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(c){const y=dr(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(o,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(o,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-o,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(o,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(o,p))}(a,p[a],s)}finally{null!==P&&dt(P),Hs(T),y.resolving=!1,Ki()}}return d}function lo(o,s,a){return!!(a[s+(o>>5)]&1<<o)}function ps(o,s){return!(o&te.Self||o&te.Host&&s)}class Ln{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return ge(this._tNode,this._lView,s,c,a)}}function Lo(o){return Y(()=>{const s=o.prototype.constructor,a=s[_e]||Bo(s),c=Object.prototype;let d=Object.getPrototypeOf(o.prototype).constructor;for(;d&&d!==c;){const p=d[_e]||Bo(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Bo(o){return Fe(o)?()=>{const s=Bo(Ee(o));return s&&s()}:ur(o)}function fr(o){return function V(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const a=o.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(ds(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(Oi(),o)}const Ya="__parameters__";function fi(o,s,a){return Y(()=>{const c=function Tl(o){return function(...a){if(o){const c=o(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...p){if(this instanceof d)return c.apply(this,p),this;const y=new d(...p);return T.annotation=y,T;function T(P,W,ie){const be=P.hasOwnProperty(Ya)?P[Ya]:Object.defineProperty(P,Ya,{value:[]})[Ya];for(;be.length<=ie;)be.push(null);return(be[ie]=be[ie]||[]).push(y),P}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=o,d.annotationCls=d,d})}class Li{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Vt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const uo=new Li("AnalyzeForEntryComponents");function qr(o,s){void 0===s&&(s=o);for(let a=0;a<o.length;a++){let c=o[a];Array.isArray(c)?(s===o&&(s=o.slice(0,a)),qr(c,s)):s!==o&&s.push(c)}return s}function ho(o,s){o.forEach(a=>Array.isArray(a)?ho(a,s):s(a))}function Fc(o,s,a){s>=o.length?o.push(a):o.splice(s,0,a)}function Qa(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Ea(o,s){const a=[];for(let c=0;c<o;c++)a.push(s);return a}function Qr(o,s,a){let c=Za(o,s);return c>=0?o[1|c]=a:(c=~c,function Nc(o,s,a,c){let d=o.length;if(d==s)o.push(a,c);else if(1===d)o.push(c,o[0]),o[0]=a;else{for(d--,o.push(o[d-1],o[d]);d>s;)o[d]=o[d-2],d--;o[s]=a,o[s+1]=c}}(o,c,s,a)),c}function So(o,s){const a=Za(o,s);if(a>=0)return o[1|a]}function Za(o,s){return function Xd(o,s,a){let c=0,d=o.length>>a;for(;d!==c;){const p=c+(d-c>>1),y=o[p<<a];if(s===y)return p<<a;y>s?d=p:c=p+1}return~(d<<a)}(o,s,1)}const ql={},Cu="__NG_DI_FLAG__",Vc="ngTempTokenPath",Ql=/\n/gm,Xa="__source",Gf=xe({provide:String,useValue:xe});let Ja;function Du(o){const s=Ja;return Ja=o,s}function na(o,s=te.Default){if(void 0===Ja)throw new Ae(203,"");return null===Ja?ye(o,void 0,s):Ja.get(o,s&te.Optional?null:void 0,s)}function Br(o,s=te.Default){return(function We(){return we}()||na)(Ee(o),s)}const Il=Br;function el(o){const s=[];for(let a=0;a<o.length;a++){const c=Ee(o[a]);if(Array.isArray(c)){if(0===c.length)throw new Ae(900,"");let d,p=te.Default;for(let y=0;y<c.length;y++){const T=c[y],P=wu(T);"number"==typeof P?-1===P?d=T.token:p|=P:d=T}s.push(Br(d,p))}else s.push(Br(c))}return s}function tl(o,s){return o[Cu]=s,o.prototype[Cu]=s,o}function wu(o){return o[Cu]}const Zr=tl(fi("Inject",o=>({token:o})),-1),nl=tl(fi("Optional"),8),ia=tl(fi("SkipSelf"),4);let Rl;function ks(o){var s;return(null===(s=function Jl(){if(void 0===Rl&&(Rl=null,un.trustedTypes))try{Rl=un.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Rl}())||void 0===s?void 0:s.createHTML(o))||o}class Aa{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ol extends Aa{getTypeName(){return"HTML"}}class sa extends Aa{getTypeName(){return"Style"}}class oh extends Aa{getTypeName(){return"Script"}}class sh extends Aa{getTypeName(){return"URL"}}class ah extends Aa{getTypeName(){return"ResourceURL"}}function Bi(o){return o instanceof Aa?o.changingThisBreaksApplicationSecurity:o}function ci(o,s){const a=Pl(o);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function Pl(o){return o instanceof Aa&&o.getTypeName()||null}function Au(o){return new Ol(o)}function Wf(o){return new sa(o)}function lh(o){return new oh(o)}function ch(o){return new sh(o)}function Vr(o){return new ah(o)}class Ia{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(ks(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Mr{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=ks(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=ks(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const y=a.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const dh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xa(o){return(o=String(o)).match(dh)||o.match(Kf)?o:"unsafe:"+o}function Os(o){const s={};for(const a of o.split(","))s[a]=!0;return s}function tc(...o){const s={};for(const a of o)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const xi=Os("area,br,col,hr,img,wbr"),fh=Os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nc=Os("rp,rt"),rc=tc(xi,tc(fh,Os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tc(nc,Os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tc(nc,fh)),oc=Os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),M=Os("srcset"),b=tc(oc,M,Os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),F=Os("script,style,template");class J{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!rc.hasOwnProperty(a))return this.sanitizedSomething=!0,!F.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let d=0;d<c.length;d++){const p=c.item(d),y=p.name,T=y.toLowerCase();if(!b.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let P=p.value;oc[T]&&(P=xa(P)),M[T]&&(o=P,P=(o=String(o)).split(",").map(s=>xa(s.trim())).join(", ")),this.buf.push(" ",y,'="',Zt(P),'"')}var o;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();rc.hasOwnProperty(a)&&!xi.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Zt(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const rt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lt=/([^\#-~ |!])/g;function Zt(o){return o.replace(/&/g,"&amp;").replace(rt,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Lt,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sn;function _n(o,s){let a=null;try{Sn=Sn||function ec(o){const s=new Mr(o);return function uh(){try{return!!(new window.DOMParser).parseFromString(ks(""),"text/html")}catch(o){return!1}}()?new Ia(s):s}(o);let c=s?String(s):"";a=Sn.getInertBodyElement(c);let d=5,p=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=p,p=a.innerHTML,a=Sn.getInertBodyElement(c)}while(c!==p);return ks((new J).sanitizeChildren(ui(a)||a))}finally{if(a){const c=ui(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function ui(o){return"content"in o&&function bi(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var ii=(()=>((ii=ii||{})[ii.NONE=0]="NONE",ii[ii.HTML=1]="HTML",ii[ii.STYLE=2]="STYLE",ii[ii.SCRIPT=3]="SCRIPT",ii[ii.URL=4]="URL",ii[ii.RESOURCE_URL=5]="RESOURCE_URL",ii))();function jr(o){const s=function ac(){const o=Bt();return o&&o[12]}();return s?s.sanitize(ii.URL,o)||"":ci(o,"URL")?Bi(o):xa(Ue(o))}const Qf="__ngContext__";function Io(o,s){o[Qf]=s}function al(o){const s=function la(o){return o[Qf]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function Jr(o){return o.ngOriginalError}function Qm(o,...s){o.error(...s)}class tr{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=function qm(o){return o&&o.ngErrorLogger||Qm}(s);c(this._console,"ERROR",s),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Jr(s);for(;a&&Jr(a);)a=Jr(a);return a||null}}const ep=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(un))();function da(o){return o instanceof Function?o():o}var Ws=(()=>((Ws=Ws||{})[Ws.Important=1]="Important",Ws[Ws.DashCase=2]="DashCase",Ws))();function Ou(o,s){return undefined(o,s)}function Wc(o){const s=o[3];return zi(s)?s[3]:s}function qc(o){return Nu(o[13])}function Fu(o){return Nu(o[4])}function Nu(o){for(;null!==o&&!zi(o);)o=o[4];return o}function Ks(o,s,a,c,d){if(null!=c){let p,y=!1;zi(c)?p=c:vi(c)&&(y=!0,c=c[0]);const T=j(c);0===o&&null!==a?null==d?Ll(s,a,T):es(s,a,T,d||null,!0):1===o&&null!==a?es(s,a,T,d||null,!0):2===o?function Bl(o,s,a){const c=Uu(o,s);c&&function ju(o,s,a,c){ti(o)?o.removeChild(s,a,c):s.removeChild(a)}(o,c,s,a)}(s,T,y):3===o&&s.destroyNode(T),null!=p&&function dl(o,s,a,c,d){const p=a[7];p!==j(a)&&Ks(s,o,c,p,d);for(let T=10;T<a.length;T++){const P=a[T];Zc(P[1],P,o,s,c,p)}}(s,o,p,a,d)}}function Lu(o,s,a){if(ti(o))return o.createElement(s,a);{const c=null!==a?function bo(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===c?o.createElement(s):o.createElementNS(c,s)}}function op(o,s){const a=o[9],c=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,N(d,-1)),a.splice(c,1)}function Bu(o,s){if(o.length<=10)return;const a=10+s,c=o[a];if(c){const d=c[17];null!==d&&d!==o&&op(d,c),s>0&&(o[a-1][4]=c[4]);const p=Qa(o,10+s);!function vh(o,s){Zc(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const y=p[19];null!==y&&y.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function bh(o,s){if(!(256&s[2])){const a=s[11];ti(a)&&a.destroyNode&&Zc(o,s,a,3,null,null),function rp(o){let s=o[13];if(!s)return Ns(o[1],o);for(;s;){let a=null;if(vi(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==o;)vi(s)&&Ns(s[1],s),s=s[3];null===s&&(s=o),vi(s)&&Ns(s[1],s),a=s&&s[4]}s=a}}(s)}}function Ns(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Vu(o,s){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof hr)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const T=d[p[y]],P=p[y+1];try{P.call(T)}finally{}}else try{p.call(d)}finally{}}}}(o,s),function sp(o,s){const a=o.cleanup,c=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],T="function"==typeof y?y(s):j(s[y]),P=c[d=a[p+2]],W=a[p+3];"boolean"==typeof W?T.removeEventListener(a[p],P,W):W>=0?c[d=W]():c[d=-W].unsubscribe(),p+=2}else{const y=c[d=a[p+1]];a[p].call(y)}if(null!==c){for(let p=d+1;p<c.length;p++)c[p]();s[7]=null}}(o,s),1===s[1].type&&ti(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&zi(s[3])){a!==s[3]&&op(a,s);const c=s[19];null!==c&&c.detachView(o)}}}function ap(o,s,a){return function Ch(o,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=o.data[c.directiveStart].encapsulation;if(d===it.None||d===it.Emulated)return null}return St(c,a)}(o,s.parent,a)}function es(o,s,a,c,d){ti(o)?o.insertBefore(s,a,c,d):s.insertBefore(a,c,d)}function Ll(o,s,a){ti(o)?o.appendChild(s,a):s.appendChild(a)}function Dh(o,s,a,c,d){null!==c?es(o,s,a,c,d):Ll(o,s,a)}function Uu(o,s){return ti(o)?o.parentNode(s):s.parentNode}function wh(o,s,a){return ul(o,s,a)}let ul=function ka(o,s,a){return 40&o.type?St(o,a):null};function Gu(o,s,a,c){const d=ap(o,c,s),p=s[11],T=wh(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let P=0;P<a.length;P++)Dh(p,d,a[P],T,!1);else Dh(p,d,a,T,!1)}function zu(o,s){if(null!==s){const a=s.type;if(3&a)return St(s,o);if(4&a)return fc(-1,o[s.index]);if(8&a){const c=s.child;if(null!==c)return zu(o,c);{const d=o[s.index];return zi(d)?fc(-1,d):j(d)}}if(32&a)return Ou(s,o)()||j(o[s.index]);{const c=cp(o,s);return null!==c?Array.isArray(c)?c[0]:zu(Wc(o[16]),c):zu(o,s.next)}}return null}function cp(o,s){return null!==s?o[16][6].projection[s.projection]:null}function fc(o,s){const a=10+o+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return zu(c,d)}return s[7]}function $u(o,s,a,c,d,p,y){for(;null!=a;){const T=c[a.index],P=a.type;if(y&&0===s&&(T&&Io(j(T),c),a.flags|=4),64!=(64&a.flags))if(8&P)$u(o,s,a.child,c,d,p,!1),Ks(s,o,d,T,p);else if(32&P){const W=Ou(a,c);let ie;for(;ie=W();)Ks(s,o,d,ie,p);Ks(s,o,d,T,p)}else 16&P?Eh(o,s,c,a,d,p):Ks(s,o,d,T,p);a=y?a.projectionNext:a.next}}function Zc(o,s,a,c,d,p){$u(a,c,o.firstChild,s,d,p,!1)}function Eh(o,s,a,c,d,p){const y=a[16],P=y[6].projection[c.projection];if(Array.isArray(P))for(let W=0;W<P.length;W++)Ks(s,o,d,P[W],p);else $u(o,s,P,y[3],d,p,!0)}function up(o,s,a){ti(o)?o.setAttribute(s,"style",a):s.style.cssText=a}function Wu(o,s,a){ti(o)?""===a?o.removeAttribute(s,"class"):o.setAttribute(s,"class",a):s.className=a}function Ku(o,s,a){let c=o.length;for(;;){const d=o.indexOf(s,a);if(-1===d)return d;if(0===d||o.charCodeAt(d-1)<=32){const p=s.length;if(d+p===c||o.charCodeAt(d+p)<=32)return d}a=d+1}}const pc="ng-template";function qu(o,s,a){let c=0;for(;c<o.length;){let d=o[c++];if(a&&"class"===d){if(d=o[c],-1!==Ku(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<o.length&&"string"==typeof(d=o[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Qu(o){return 4===o.type&&o.value!==pc}function ng(o,s,a){return s===(4!==o.type||a?o.value:pc)}function dp(o,s,a){let c=4;const d=o.attrs||[],p=function mp(o){for(let s=0;s<o.length;s++)if(ds(o[s]))return s;return o.length}(d);let y=!1;for(let T=0;T<s.length;T++){const P=s[T];if("number"!=typeof P){if(!y)if(4&c){if(c=2|1&c,""!==P&&!ng(o,P,a)||""===P&&1===s.length){if(qs(c))return!1;y=!0}}else{const W=8&c?P:s[++T];if(8&c&&null!==o.attrs){if(!qu(o.attrs,W,a)){if(qs(c))return!1;y=!0}continue}const be=hp(8&c?"class":P,d,Qu(o),a);if(-1===be){if(qs(c))return!1;y=!0;continue}if(""!==W){let Ye;Ye=be>p?"":d[be+1].toLowerCase();const ft=8&c?Ye:null;if(ft&&-1!==Ku(ft,W,0)||2&c&&W!==Ye){if(qs(c))return!1;y=!0}}}}else{if(!y&&!qs(c)&&!qs(P))return!1;if(y&&qs(P))continue;y=!1,c=P|1&c}}return qs(c)||y}function qs(o){return 0==(1&o)}function hp(o,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let p=!1;for(;d<s.length;){const y=s[d];if(y===o)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let T=s[++d];for(;"string"==typeof T;)T=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function ig(o,s){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const c=o[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,o)}function fp(o,s,a=!1){for(let c=0;c<s.length;c++)if(dp(o,s[c],a))return!0;return!1}function gp(o,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(o.length===c.length){for(let d=0;d<o.length;d++)if(o[d]!==c[d])continue e;return!0}}return!1}function _p(o,s){return o?":not("+s.trim()+")":s}function vp(o){let s=o[0],a=1,c=2,d="",p=!1;for(;a<o.length;){let y=o[a];if("string"==typeof y)if(2&c){const T=o[++a];d+="["+y+(T.length>0?'="'+T+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!qs(y)&&(s+=_p(p,d),d=""),c=y,p=p||!qs(c);a++}return""!==d&&(s+=_p(p,d)),s}const jn={};function Xc(o){Mh(ai(),Bt(),qi()+o,!1)}function Mh(o,s,a,c){if(!c)if(3==(3&s[2])){const p=o.preOrderCheckHooks;null!==p&&Ni(s,p,a)}else{const p=o.preOrderHooks;null!==p&&dn(s,p,0,a)}Si(a)}function Zu(o,s){return o<<17|s<<2}function Qs(o){return o>>17&32767}function Jc(o){return 2|o}function Zi(o){return(131068&o)>>2}function Sh(o,s){return-131069&o|s<<2}function Ah(o){return 1|o}function Oh(o,s){const a=o.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],p=a[c+1];if(-1!==p){const y=o.data[p];sn(d),y.contentQueries(2,s[p],p)}}}function vc(o,s,a,c,d,p,y,T,P,W){const ie=s.blueprint.slice();return ie[0]=d,ie[2]=140|c,$(ie),ie[3]=ie[15]=o,ie[8]=a,ie[10]=y||o&&o[10],ie[11]=T||o&&o[11],ie[12]=P||o&&o[12]||null,ie[9]=W||o&&o[9]||null,ie[6]=p,ie[16]=2==s.type?o[16]:ie,ie}function yc(o,s,a,c,d){let p=o.data[s];if(null===p)p=function Ph(o,s,a,c,d){const p=Ua(),y=Ha(),P=o.data[s]=function mg(o,s,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,c,d);return null===o.firstChild&&(o.firstChild=P),null!==p&&(y?null==p.child&&null!==P.parent&&(p.child=P):null===p.next&&(p.next=P)),P}(o,s,a,c,d),function L(){return k.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const y=function No(){const o=k.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return wo(p,!0),p}function bc(o,s,a,c){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(c),o.blueprint.push(c),o.data.push(null);return d}function iu(o,s,a){qn(s);try{const c=o.viewQuery;null!==c&&gd(1,c,a);const d=o.template;null!==d&&Pa(o,s,d,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Oh(o,s),o.staticViewQueries&&gd(2,o.viewQuery,a);const p=o.components;null!==p&&function Sp(o,s){for(let a=0;a<s.length;a++)Ig(o,s[a])}(s,p)}catch(c){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),c}finally{s[2]&=-5,Pi()}}function fl(o,s,a,c){const d=s[2];if(256!=(256&d)){qn(s);try{$(s),function Q(o){return k.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&Pa(o,s,a,2,c);const y=3==(3&d);if(y){const W=o.preOrderCheckHooks;null!==W&&Ni(s,W,null)}else{const W=o.preOrderHooks;null!==W&&dn(s,W,0,null),bn(s,0)}if(function Sg(o){for(let s=qc(o);null!==s;s=Fu(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],p=d[3];0==(1024&d[2])&&N(p,1),d[2]|=1024}}}(s),function Tg(o){for(let s=qc(o);null!==s;s=Fu(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];On(c)&&fl(d,c,d.template,c[8])}}(s),null!==o.contentQueries&&Oh(o,s),y){const W=o.contentCheckHooks;null!==W&&Ni(s,W)}else{const W=o.contentHooks;null!==W&&dn(s,W,1),bn(s,1)}!function ld(o,s){const a=o.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)Si(~d);else{const p=d,y=a[++c],T=a[++c];pe(y,p),T(2,s[p])}}}finally{Si(-1)}}(o,s);const T=o.components;null!==T&&function _c(o,s){for(let a=0;a<s.length;a++)Ag(o,s[a])}(s,T);const P=o.viewQuery;if(null!==P&&gd(2,P,c),y){const W=o.viewCheckHooks;null!==W&&Ni(s,W)}else{const W=o.viewHooks;null!==W&&dn(s,W,2),bn(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[2]&=-73,1024&s[2]&&(s[2]&=-1025,N(s[3],-1))}finally{Pi()}}}function Cc(o,s,a,c){const d=s[10],y=Un(s);try{!y&&d.begin&&d.begin(),y&&iu(o,s,c),fl(o,s,a,c)}finally{!y&&d.end&&d.end()}}function Pa(o,s,a,c,d){const p=qi(),y=2&c;try{Si(-1),y&&s.length>20&&Mh(o,s,20,!1),a(c,d)}finally{Si(p)}}function Ap(o,s,a){if(xr(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const y=o.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function pl(o,s,a){!Co()||(function Cg(o,s,a,c){const d=a.directiveStart,p=a.directiveEnd;o.firstCreatePass||ao(a,s),Io(c,s);const y=a.initialInputs;for(let T=d;T<p;T++){const P=o.data[T],W=$i(P);W&&Uh(s,a,P);const ie=nn(s,o,T,a);Io(ie,s),null!==y&&Hh(0,T-d,ie,P,0,y),W&&(Fn(a.index,s)[8]=ie)}}(o,s,a,St(a,s)),128==(128&a.flags)&&function Dg(o,s,a){const c=a.directiveStart,d=a.directiveEnd,y=a.index,T=function Be(){return k.lFrame.currentDirectiveIndex}();try{Si(y);for(let P=c;P<d;P++){const W=o.data[P],ie=s[P];He(P),(null!==W.hostBindings||0!==W.hostVars||null!==W.hostAttrs)&&jh(W,ie)}}finally{Si(-1),He(T)}}(o,s,a))}function cd(o,s,a=St){const c=s.localNames;if(null!==c){let d=s.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],T=-1===y?a(s,o):o[y];o[d++]=T}}}function Fh(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Vl(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function Vl(o,s,a,c,d,p,y,T,P,W){const ie=20+c,be=ie+d,Ye=function pg(o,s){const a=[];for(let c=0;c<s;c++)a.push(c<o?null:jn);return a}(ie,be),ft="function"==typeof W?W():W;return Ye[1]={type:o,blueprint:Ye,template:a,queries:null,viewQuery:T,declTNode:s,data:Ye.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:P,consts:ft,incompleteFirstPass:!1}}function Rp(o,s,a,c){const d=_d(s);null===a?d.push(c):(d.push(a),o.firstCreatePass&&Yh(o).push(c,d.length-1))}function dd(o,s,a){for(let c in o)if(o.hasOwnProperty(c)){const d=o[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function ts(o,s,a,c,d,p,y,T){const P=St(s,a);let ie,W=s.inputs;!T&&null!=W&&(ie=W[c])?(jp(o,a,ie,c,d),$r(s)&&function _g(o,s){const a=Fn(s,o);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function gg(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(c),d=null!=y?y(d,s.value||"",c):d,ti(p)?p.setProperty(P,c,d):ba(c)||(P.setProperty?P.setProperty(c,d):P[c]=d))}function Bh(o,s,a,c){let d=!1;if(Co()){const p=function Pp(o,s,a){const c=o.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];fp(a,y.selectors,!1)&&(d||(d=[]),S(ao(a,s),o,y.type),$i(y)?(Fp(o,a),d.unshift(y)):d.push(y))}return d}(o,s,a),y=null===c?null:{"":-1};if(null!==p){d=!0,Np(a,o.data.length,p.length);for(let ie=0;ie<p.length;ie++){const be=p[ie];be.providersResolver&&be.providersResolver(be)}let T=!1,P=!1,W=bc(o,s,p.length,null);for(let ie=0;ie<p.length;ie++){const be=p[ie];a.mergedAttrs=hs(a.mergedAttrs,be.hostAttrs),hd(o,a,s,W,be),Eg(W,be,y),null!==be.contentQueries&&(a.flags|=8),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(a.flags|=128);const Ye=be.type.prototype;!T&&(Ye.ngOnChanges||Ye.ngOnInit||Ye.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(a.index),T=!0),!P&&(Ye.ngOnChanges||Ye.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(a.index),P=!0),W++}!function Nh(o,s){const c=s.directiveEnd,d=o.data,p=s.attrs,y=[];let T=null,P=null;for(let W=s.directiveStart;W<c;W++){const ie=d[W],be=ie.inputs,Ye=null===p||Qu(s)?null:Mg(be,p);y.push(Ye),T=dd(be,W,T),P=dd(ie.outputs,W,P)}null!==T&&(T.hasOwnProperty("class")&&(s.flags|=16),T.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=T,s.outputs=P}(o,a)}y&&function wg(o,s,a){if(s){const c=o.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new Ae(-301,!1);c.push(s[d],p)}}}(a,c,y)}return a.mergedAttrs=hs(a.mergedAttrs,a.attrs),d}function Op(o,s,a,c,d,p){const y=p.hostBindings;if(y){let T=o.hostBindingOpCodes;null===T&&(T=o.hostBindingOpCodes=[]);const P=~s.index;(function Vh(o){let s=o.length;for(;s>0;){const a=o[--s];if("number"==typeof a&&a<0)return a}return 0})(T)!=P&&T.push(P),T.push(c,d,y)}}function jh(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Fp(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function Eg(o,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=o;$i(s)&&(a[""]=o)}}function Np(o,s,a){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+a,o.providerIndexes=s}function hd(o,s,a,c,d){o.data[c]=d;const p=d.factory||(d.factory=ur(d.type)),y=new hr(p,$i(d),null);o.blueprint[c]=y,a[c]=y,Op(o,s,0,c,bc(o,a,d.hostVars,jn),d)}function Uh(o,s,a){const c=St(s,o),d=Fh(a),p=o[10],y=ru(o,vc(o,d,null,a.onPush?64:16,c,s,p,p.createRenderer(c,a),null,null));o[s.index]=y}function jo(o,s,a,c,d,p){const y=St(o,s);!function fd(o,s,a,c,d,p,y){if(null==p)ti(o)?o.removeAttribute(s,d,a):s.removeAttribute(d);else{const T=null==y?Ue(p):y(p,c||"",d);ti(o)?o.setAttribute(s,d,T,a):a?s.setAttributeNS(a,d,T):s.setAttribute(d,T)}}(s[11],y,p,o.value,a,c,d)}function Hh(o,s,a,c,d,p){const y=p[s];if(null!==y){const T=c.setInput;for(let P=0;P<y.length;){const W=y[P++],ie=y[P++],be=y[P++];null!==T?c.setInput(a,be,W,ie):a[ie]=be}}}function Mg(o,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;o.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,o[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function ha(o,s,a,c){return new Array(o,!0,!1,s,null,0,c,a,null,null)}function Ag(o,s){const a=Fn(s,o);if(On(a)){const c=a[1];80&a[2]?fl(c,a,c.template,a[8]):a[5]>0&&Gh(a)}}function Gh(o){for(let c=qc(o);null!==c;c=Fu(c))for(let d=10;d<c.length;d++){const p=c[d];if(1024&p[2]){const y=p[1];fl(y,p,y.template,p[8])}else p[5]>0&&Gh(p)}const a=o[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=Fn(a[c],o);On(d)&&d[5]>0&&Gh(d)}}function Ig(o,s){const a=Fn(s,o),c=a[1];(function xg(o,s){for(let a=s.length;a<o.blueprint.length;a++)s.push(o.blueprint[a])})(c,a),iu(c,a,a[8])}function ru(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function pd(o){for(;o;){o[2]|=64;const s=Wc(o);if(Ds(o)&&!s)return o;o=s}return null}function md(o){!function zh(o){for(let s=0;s<o.components.length;s++){const a=o.components[s],c=al(a),d=c[1];Cc(d,c,d.template,a)}}(o[8])}function gd(o,s,a){sn(0),s(o,a)}const Og=(()=>Promise.resolve(null))();function _d(o){return o[7]||(o[7]=[])}function Yh(o){return o.cleanup||(o.cleanup=[])}function ou(o,s,a){return(null===o||$i(o))&&(a=function ce(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(a[s.index])),a[11]}function Vp(o,s){const a=o[9],c=a?a.get(tr,null):null;c&&c.handleError(s)}function jp(o,s,a,c,d){for(let p=0;p<a.length;){const y=a[p++],T=a[p++],P=s[y],W=o.data[y];null!==W.setInput?W.setInput(P,d,c,T):P[T]=d}}function Fa(o,s,a){const c=Dt(s,o);!function Nl(o,s,a){ti(o)?o.setValue(s,a):s.textContent=a}(o[11],c,a)}function vd(o,s,a){let c=a?o.styles:null,d=a?o.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const T=s[y];"number"==typeof T?p=T:1==p?d=De(d,T):2==p&&(c=De(c,T+": "+s[++y]+";"))}a?o.styles=c:o.stylesWithoutHost=c,a?o.classes=d:o.classesWithoutHost=d}const Dc=new Li("INJECTOR",-1);class Wh{get(s,a=ql){if(a===ql){const c=new Error(`NullInjectorError: No provider for ${ke(s)}!`);throw c.name="NullInjectorError",c}return a}}const su=new Li("Set Injector scope."),wc={},Kh={};let ml;function qh(){return void 0===ml&&(ml=new Wh),ml}function Qh(o,s=null,a=null,c){const d=zp(o,s,a,c);return d._resolveInjectorDefTypes(),d}function zp(o,s=null,a=null,c){return new yd(o,a,s||qh(),c)}class yd{constructor(s,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&ho(a,T=>this.processProvider(T,s,a)),ho([s],T=>this.processInjectorType(T,[],p)),this.records.set(Dc,Ec(void 0,this));const y=this.records.get(su);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof s?null:ke(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ql,c=te.Default){this.assertNotDestroyed();const d=Du(this),p=dt(void 0);try{if(!(c&te.SkipSelf)){let T=this.records.get(s);if(void 0===T){const P=function Cd(o){return"function"==typeof o||"object"==typeof o&&o instanceof Li}(s)&&et(s);T=P&&this.injectableDefInScope(P)?Ec(bd(s),wc):null,this.records.set(s,T)}if(null!=T)return this.hydrate(s,T)}return(c&te.Self?qh():this.parent).get(s,a=c&te.Optional&&a===ql?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Vc]=y[Vc]||[]).unshift(ke(s)),d)throw y;return function Eu(o,s,a,c){const d=o[Vc];throw s[Xa]&&d.unshift(s[Xa]),o.message=function xl(o,s,a,c=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let d=ke(s);if(Array.isArray(s))d=s.map(ke).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let T=s[y];p.push(y+":"+("string"==typeof T?JSON.stringify(T):ke(T)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${o.replace(Ql,"\n  ")}`}("\n"+o.message,d,a,c),o.ngTokenPath=d,o[Vc]=null,o}(y,s,"R3InjectorError",this.source)}throw y}finally{dt(p),Du(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(ke(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(s,a,c){if(!(s=Ee(s)))return!1;let d=Kt(s);const p=null==d&&s.ngModule||void 0,y=void 0===p?s:p,T=-1!==c.indexOf(y);if(void 0!==p&&(d=Kt(p)),null==d)return!1;if(null!=d.imports&&!T){let ie;c.push(y);try{ho(d.imports,be=>{this.processInjectorType(be,a,c)&&(void 0===ie&&(ie=[]),ie.push(be))})}finally{}if(void 0!==ie)for(let be=0;be<ie.length;be++){const{ngModule:Ye,providers:ft}=ie[be];ho(ft,Rt=>this.processProvider(Rt,Ye,ft||Ge))}}this.injectorDefTypes.add(y);const P=ur(y)||(()=>new y);this.records.set(y,Ec(P,wc));const W=d.providers;if(null!=W&&!T){const ie=s;ho(W,be=>this.processProvider(be,ie,W))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,c){let d=gl(s=Ee(s))?s:Ee(s&&s.provide);const p=function Yp(o,s,a){return Kp(o)?Ec(void 0,o.useValue):Ec(Wp(o),wc)}(s);if(gl(s)||!0!==s.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=Ec(void 0,wc,!0),y.factory=()=>el(y.multi),this.records.set(d,y)),d=s,y.multi.push(s)}this.records.set(d,p)}hydrate(s,a){return a.value===wc&&(a.value=Kh,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Zp(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Ee(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function bd(o){const s=et(o),a=null!==s?s.factory:ur(o);if(null!==a)return a;if(o instanceof Li)throw new Ae(204,!1);if(o instanceof Function)return function $p(o){const s=o.length;if(s>0)throw Ea(s,"?"),new Ae(204,!1);const a=function gt(o){const s=o&&(o[Qt]||o[fn]);if(s){const a=function Nt(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new Ae(204,!1)}function Wp(o,s,a){let c;if(gl(o)){const d=Ee(o);return ur(d)||bd(d)}if(Kp(o))c=()=>Ee(o.useValue);else if(function Zh(o){return!(!o||!o.useFactory)}(o))c=()=>o.useFactory(...el(o.deps||[]));else if(function Pg(o){return!(!o||!o.useExisting)}(o))c=()=>Br(Ee(o.useExisting));else{const d=Ee(o&&(o.useClass||o.provide));if(!function Qp(o){return!!o.deps}(o))return ur(d)||bd(d);c=()=>new d(...el(o.deps))}return c}function Ec(o,s,a=!1){return{factory:o,value:s,multi:a?[]:void 0}}function Kp(o){return null!==o&&"object"==typeof o&&Gf in o}function gl(o){return"function"==typeof o}let oi=(()=>{class o{static create(a,c){var d;if(Array.isArray(a))return Qh({name:""},c,a,"");{const p=null!==(d=a.name)&&void 0!==d?d:"";return Qh({name:p},a.parent,a.providers,p)}}}return o.THROW_IF_NOT_FOUND=ql,o.NULL=new Wh,o.\u0275prov=Vt({token:o,providedIn:"any",factory:()=>Br(Dc)}),o.__NG_ELEMENT_ID__=-1,o})();function nm(o,s){To(al(o)[1],Oi())}function Sc(o){let s=function vl(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const c=[o];for(;s;){let d;if($i(o))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ae(903,"");d=s.\u0275dir}if(d){if(a){c.push(d);const y=o;y.inputs=Md(o.inputs),y.declaredInputs=Md(o.declaredInputs),y.outputs=Md(o.outputs);const T=d.hostBindings;T&&Vg(o,T);const P=d.viewQuery,W=d.contentQueries;if(P&&Lg(o,P),W&&Bg(o,W),Pe(o.inputs,d.inputs),Pe(o.declaredInputs,d.declaredInputs),Pe(o.outputs,d.outputs),$i(d)&&d.data.animation){const ie=o.data;ie.animation=(ie.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const T=p[y];T&&T.ngInherit&&T(o),T===Sc&&(a=!1)}}s=Object.getPrototypeOf(s)}!function sf(o){let s=0,a=null;for(let c=o.length-1;c>=0;c--){const d=o[c];d.hostVars=s+=d.hostVars,d.hostAttrs=hs(d.hostAttrs,a=hs(a,d.hostAttrs))}}(c)}function Md(o){return o===Vn?{}:o===Ge?[]:o}function Lg(o,s){const a=o.viewQuery;o.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function Bg(o,s){const a=o.contentQueries;o.contentQueries=a?(c,d,p)=>{s(c,d,p),a(c,d,p)}:s}function Vg(o,s){const a=o.hostBindings;o.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let au=null;function Ls(){if(!au){const o=un.Symbol;if(o&&o.iterator)au=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(au=c)}}}return au}function Ac(o){return!!df(o)&&(Array.isArray(o)||!(o instanceof Map)&&Ls()in o)}function df(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function _o(o,s,a){return!Object.is(o[s],a)&&(o[s]=a,!0)}function Na(o,s,a,c){const d=Bt();return _o(d,v(),s)&&(ai(),jo(Qn(),d,o,s,a,c)),Na}function om(o,s,a,c,d,p,y,T){const P=Bt(),W=ai(),ie=o+20,be=W.firstCreatePass?function Ad(o,s,a,c,d,p,y,T,P){const W=s.consts,ie=yc(s,o,4,y||null,Ii(W,T));Bh(s,a,ie,Ii(W,P)),To(s,ie);const be=ie.tViews=Vl(2,ie,c,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,W);return null!==s.queries&&(s.queries.template(s,ie),be.queries=s.queries.embeddedTView(ie)),ie}(ie,W,P,s,a,c,d,p,y):W.data[ie];wo(be,!1);const Ye=P[11].createComment("");Gu(W,P,Ye,be),Io(Ye,P),ru(P,P[ie]=ha(Ye,P,Ye,be)),eo(be)&&pl(W,P,be),null!=y&&cd(P,be,T)}function La(o){return function Kn(o,s){return o[s]}(function us(){return k.lFrame.contextLView}(),20+o)}function du(o,s=te.Default){const a=Bt();return null===a?Br(o,s):ge(Oi(),a,Ee(o),s)}function pm(){throw new Error("invalid")}function Pd(o,s,a){const c=Bt();return _o(c,v(),s)&&ts(ai(),Qn(),c,o,s,c[11],a,!1),Pd}function hu(o,s,a,c,d){const y=d?"class":"style";jp(o,a,s.inputs[y],y,c)}function zl(o,s,a,c){const d=Bt(),p=ai(),y=20+o,T=d[11],P=d[y]=Lu(T,s,function Qo(){return k.lFrame.currentNamespace}()),W=p.firstCreatePass?function Xg(o,s,a,c,d,p,y){const T=s.consts,W=yc(s,o,2,d,Ii(T,p));return Bh(s,a,W,Ii(T,y)),null!==W.attrs&&vd(W,W.attrs,!1),null!==W.mergedAttrs&&vd(W,W.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,W),W}(y,p,d,0,s,a,c):p.data[y];wo(W,!0);const ie=W.mergedAttrs;null!==ie&&Er(T,P,ie);const be=W.classes;null!==be&&Wu(T,P,be);const Ye=W.styles;return null!==Ye&&up(T,P,Ye),64!=(64&W.flags)&&Gu(p,d,P,W),0===function cn(){return k.lFrame.elementDepthCount}()&&Io(P,d),function Ti(){k.lFrame.elementDepthCount++}(),eo(W)&&(pl(p,d,W),Ap(p,W,d)),null!==c&&cd(d,W),zl}function fu(){let o=Oi();Ha()?va():(o=o.parent,wo(o,!1));const s=o;!function Wr(){k.lFrame.elementDepthCount--}();const a=ai();return a.firstCreatePass&&(To(a,o),xr(o)&&a.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Ss(o){return 0!=(16&o.flags)}(s)&&hu(a,s,Bt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function or(o){return 0!=(32&o.flags)}(s)&&hu(a,s,Bt(),s.stylesWithoutHost,!1),fu}function Fd(o,s,a,c){return zl(o,s,a,c),fu(),Fd}function pu(o,s,a){const c=Bt(),d=ai(),p=o+20,y=d.firstCreatePass?function mm(o,s,a,c,d){const p=s.consts,y=Ii(p,c),T=yc(s,o,8,"ng-container",y);return null!==y&&vd(T,y,!0),Bh(s,a,T,Ii(p,d)),null!==s.queries&&s.queries.elementStart(s,T),T}(p,d,c,s,a):d.data[p];wo(y,!0);const T=c[p]=c[11].createComment("");return Gu(d,c,T,y),Io(T,c),eo(y)&&(pl(d,c,y),Ap(d,y,c)),null!=a&&cd(c,y),pu}function Nd(){let o=Oi();const s=ai();return Ha()?va():(o=o.parent,wo(o,!1)),s.firstCreatePass&&(To(s,o),xr(o)&&s.queries.elementEnd(o)),Nd}function gm(o,s,a){return pu(o,s,a),Nd(),gm}function _m(){return Bt()}function Ld(o){return!!o&&"function"==typeof o.then}function vm(o){return!!o&&"function"==typeof o.subscribe}const Bd=vm;function Oc(o,s,a,c){const d=Bt(),p=ai(),y=Oi();return jd(p,d,d[11],y,o,s,!!a,c),Oc}function Vd(o,s){const a=Oi(),c=Bt(),d=ai();return jd(d,c,ou(ut(d.data),a,c),a,o,s,!1),Vd}function jd(o,s,a,c,d,p,y,T){const P=eo(c),ie=o.firstCreatePass&&Yh(o),be=s[8],Ye=_d(s);let ft=!0;if(3&c.type||T){const an=St(c,s),yn=T?T(an):an,jt=Ye.length,kn=T?Ci=>T(j(Ci[c.index])):c.index;if(ti(a)){let Ci=null;if(!T&&P&&(Ci=function e_(o,s,a,c){const d=o.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===c){const T=s[7],P=d[p+2];return T.length>P?T[P]:null}"string"==typeof y&&(p+=2)}return null}(o,s,d,c.index)),null!==Ci)(Ci.__ngLastListenerFn__||Ci).__ngNextListenerFn__=p,Ci.__ngLastListenerFn__=p,ft=!1;else{p=Ud(c,s,be,p,!1);const Ui=a.listen(yn,d,p);Ye.push(p,Ui),ie&&ie.push(d,kn,jt,jt+1)}}else p=Ud(c,s,be,p,!0),yn.addEventListener(d,p,y),Ye.push(p),ie&&ie.push(d,kn,jt,y)}else p=Ud(c,s,be,p,!1);const Rt=c.outputs;let Jt;if(ft&&null!==Rt&&(Jt=Rt[d])){const an=Jt.length;if(an)for(let yn=0;yn<an;yn+=2){const Js=s[Jt[yn]][Jt[yn+1]].subscribe(p),yu=Ye.length;Ye.push(p,Js),ie&&ie.push(d,c.index,yu,-(yu+1))}}}function ym(o,s,a,c){try{return!1!==a(c)}catch(d){return Vp(o,d),!1}}function Ud(o,s,a,c,d){return function p(y){if(y===Function)return c;const T=2&o.flags?Fn(o.index,s):s;0==(32&s[2])&&pd(T);let P=ym(s,0,c,y),W=p.__ngNextListenerFn__;for(;W;)P=ym(s,0,W,y)&&P,W=W.__ngNextListenerFn__;return d&&!1===P&&(y.preventDefault(),y.returnValue=!1),P}}function wf(o=1){return function gr(o){return(k.lFrame.contextLView=function Ji(o,s){for(;o>0;)s=s[15],o--;return s}(o,k.lFrame.contextLView))[8]}(o)}function bm(o,s){let a=null;const c=function pp(o){const s=o.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(o);for(let d=0;d<s.length;d++){const p=s[d];if("*"!==p){if(null===c?fp(o,p,!0):gp(c,p))return d}else a=d}return a}function Cm(o){const s=Bt()[16][6];if(!s.projection){const c=s.projection=Ea(o?o.length:1,null),d=c.slice();let p=s.child;for(;null!==p;){const y=o?bm(p,o):0;null!==y&&(d[y]?d[y].projectionNext=p:c[y]=p,d[y]=p),p=p.next}}}function Hd(o,s=0,a){const c=Bt(),d=ai(),p=yc(d,20+o,16,null,a||null);null===p.projection&&(p.projection=s),va(),64!=(64&p.flags)&&function tg(o,s,a){Eh(s[11],0,s,a,ap(o,a,s),wh(a.parent||s[6],a,s))}(d,c,p)}function g(o,s,a,c,d){const p=o[a+1],y=null===s;let T=c?Qs(p):Zi(p),P=!1;for(;0!==T&&(!1===P||y);){const ie=o[T+1];w(o[T],s)&&(P=!0,o[T+1]=c?Ah(ie):Jc(ie)),T=c?Qs(ie):Zi(ie)}P&&(o[a+1]=c?Jc(p):Ah(p))}function w(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Za(o,s)>=0}function Ur(o,s,a){return Ba(o,s,a,!1),Ur}function mu(o,s){return Ba(o,s,null,!0),mu}function Ba(o,s,a,c){const d=Bt(),p=ai(),y=function D(o){const s=k.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,a}(2);p.firstUpdatePass&&function _v(o,s,a,c){const d=o.data;if(null===d[a+1]){const p=d[qi()],y=function gv(o,s){return s>=o.expandoStartIndex}(o,a);(function Cv(o,s){return 0!=(o.flags&(s?16:32))})(p,c)&&null===s&&!y&&(s=!1),s=function xb(o,s,a,c){const d=ut(o);let p=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=Tf(a=t_(null,o,s,a,c),s.attrs,c),p=null);else{const y=s.directiveStylingLast;if(-1===y||o[y]!==d)if(a=t_(d,o,s,a,c),null===p){let P=function Rb(o,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Zi(c))return o[Qs(c)]}(o,s,c);void 0!==P&&Array.isArray(P)&&(P=t_(null,o,s,P[1],c),P=Tf(P,s.attrs,c),function kb(o,s,a,c){o[Qs(a?s.classBindings:s.styleBindings)]=c}(o,s,c,P))}else p=function Ob(o,s,a){let c;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)c=Tf(c,o[p].hostAttrs,a);return Tf(c,s.attrs,a)}(o,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,c),function u(o,s,a,c,d,p){let y=p?s.classBindings:s.styleBindings,T=Qs(y),P=Zi(y);o[c]=a;let ie,W=!1;if(Array.isArray(a)){const be=a;ie=be[1],(null===ie||Za(be,ie)>0)&&(W=!0)}else ie=a;if(d)if(0!==P){const Ye=Qs(o[T+1]);o[c+1]=Zu(Ye,T),0!==Ye&&(o[Ye+1]=Sh(o[Ye+1],c)),o[T+1]=function og(o,s){return 131071&o|s<<17}(o[T+1],c)}else o[c+1]=Zu(T,0),0!==T&&(o[T+1]=Sh(o[T+1],c)),T=c;else o[c+1]=Zu(P,0),0===T?T=c:o[P+1]=Sh(o[P+1],c),P=c;W&&(o[c+1]=Jc(o[c+1])),g(o,ie,c,!0),g(o,ie,c,!1),function f(o,s,a,c,d){const p=d?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof s&&Za(p,s)>=0&&(a[c+1]=Ah(a[c+1]))}(s,ie,o,c,p),y=Zu(T,P),p?s.classBindings=y:s.styleBindings=y}(d,p,s,a,y,c)}}(p,o,y,c),s!==jn&&_o(d,y,s)&&function yv(o,s,a,c,d,p,y,T){if(!(3&s.type))return;const P=o.data,W=P[T+1];Sm(function bp(o){return 1==(1&o)}(W)?bv(P,s,a,d,Zi(W),y):void 0)||(Sm(p)||function yp(o){return 2==(2&o)}(W)&&(p=bv(P,null,a,d,T,y)),function Yu(o,s,a,c,d){const p=ti(o);if(s)d?p?o.addClass(a,c):a.classList.add(c):p?o.removeClass(a,c):a.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:Ws.DashCase;if(null==d)p?o.removeStyle(a,c,y):a.style.removeProperty(c);else{const T="string"==typeof d&&d.endsWith("!important");T&&(d=d.slice(0,-10),y|=Ws.Important),p?o.setStyle(a,c,d,y):a.style.setProperty(c,d,T?"important":"")}}}(c,y,Dt(qi(),a),d,p))}(p,p.data[qi()],d,d[11],o,d[y+1]=function Nb(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=ke(Bi(o)))),o}(s,a),c,y)}function t_(o,s,a,c,d){let p=null;const y=a.directiveEnd;let T=a.directiveStylingLast;for(-1===T?T=a.directiveStart:T++;T<y&&(p=s[T],c=Tf(c,p.hostAttrs,d),p!==o);)T++;return null!==o&&(a.directiveStylingLast=T),c}function Tf(o,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?d=y:d===c&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Qr(o,y,!!a||s[++p]))}return void 0===o?null:o}function bv(o,s,a,c,d,p){const y=null===s;let T;for(;d>0;){const P=o[d],W=Array.isArray(P),ie=W?P[1]:P,be=null===ie;let Ye=a[d+1];Ye===jn&&(Ye=be?Ge:void 0);let ft=be?So(Ye,c):ie===c?Ye:void 0;if(W&&!Sm(ft)&&(ft=So(P,c)),Sm(ft)&&(T=ft,y))return T;const Rt=o[d+1];d=y?Qs(Rt):Zi(Rt)}if(null!==s){let P=p?s.residualClasses:s.residualStyles;null!=P&&(T=So(P,c))}return T}function Sm(o){return void 0!==o}function Dv(o,s=""){const a=Bt(),c=ai(),d=o+20,p=c.firstCreatePass?yc(c,d,1,s,null):c.data[d],y=a[d]=function cl(o,s){return ti(o)?o.createText(s):o.createTextNode(s)}(a[11],s);Gu(c,a,y,p),wo(p,!1)}function n_(o){return Am("",o,""),n_}function Am(o,s,a){const c=Bt(),d=function fa(o,s,a,c){return _o(o,v(),a)?s+Ue(a)+c:jn}(c,o,s,a);return d!==jn&&Fa(c,qi(),d),Am}function i_(o,s,a){const c=Bt();return _o(c,v(),s)&&ts(ai(),Qn(),c,o,s,c[11],a,!0),i_}function r_(o,s,a){const c=Bt();if(_o(c,v(),s)){const p=ai(),y=Qn();ts(p,y,c,o,s,ou(ut(p.data),y,c),a,!0)}return r_}const gu=void 0;var n0=["en",[["a","p"],["AM","PM"],gu],[["AM","PM"],gu,gu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gu,"{1} 'at' {0}",gu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function t0(o){const a=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let $d={};function o_(o){const s=function r0(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=Uv(s);if(a)return a;const c=s.split("-")[0];if(a=Uv(c),a)return a;if("en"===c)return n0;throw new Error(`Missing locale data for the locale "${o}".`)}function jv(o){return o_(o)[Bn.PluralCase]}function Uv(o){return o in $d||($d[o]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[o]),$d[o]}var Bn=(()=>((Bn=Bn||{})[Bn.LocaleId=0]="LocaleId",Bn[Bn.DayPeriodsFormat=1]="DayPeriodsFormat",Bn[Bn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Bn[Bn.DaysFormat=3]="DaysFormat",Bn[Bn.DaysStandalone=4]="DaysStandalone",Bn[Bn.MonthsFormat=5]="MonthsFormat",Bn[Bn.MonthsStandalone=6]="MonthsStandalone",Bn[Bn.Eras=7]="Eras",Bn[Bn.FirstDayOfWeek=8]="FirstDayOfWeek",Bn[Bn.WeekendRange=9]="WeekendRange",Bn[Bn.DateFormat=10]="DateFormat",Bn[Bn.TimeFormat=11]="TimeFormat",Bn[Bn.DateTimeFormat=12]="DateTimeFormat",Bn[Bn.NumberSymbols=13]="NumberSymbols",Bn[Bn.NumberFormats=14]="NumberFormats",Bn[Bn.CurrencyCode=15]="CurrencyCode",Bn[Bn.CurrencySymbol=16]="CurrencySymbol",Bn[Bn.CurrencyName=17]="CurrencyName",Bn[Bn.Currencies=18]="Currencies",Bn[Bn.Directionality=19]="Directionality",Bn[Bn.PluralCase=20]="PluralCase",Bn[Bn.ExtraData=21]="ExtraData",Bn))();const Im="en-US";let Hv=Im;function l_(o,s,a,c,d){if(o=Ee(o),Array.isArray(o))for(let p=0;p<o.length;p++)l_(o[p],s,a,c,d);else{const p=ai(),y=Bt();let T=gl(o)?o:Ee(o.provide),P=Wp(o);const W=Oi(),ie=1048575&W.providerIndexes,be=W.directiveStart,Ye=W.providerIndexes>>20;if(gl(o)||!o.multi){const ft=new hr(P,d,du),Rt=u_(T,s,d?ie:ie+Ye,be);-1===Rt?(S(ao(W,y),p,T),c_(p,o,s.length),s.push(T),W.directiveStart++,W.directiveEnd++,d&&(W.providerIndexes+=1048576),a.push(ft),y.push(ft)):(a[Rt]=ft,y[Rt]=ft)}else{const ft=u_(T,s,ie+Ye,be),Rt=u_(T,s,ie,ie+Ye),Jt=ft>=0&&a[ft],an=Rt>=0&&a[Rt];if(d&&!an||!d&&!Jt){S(ao(W,y),p,T);const yn=function nC(o,s,a,c,d){const p=new hr(o,a,du);return p.multi=[],p.index=s,p.componentProviders=0,hy(p,d,c&&!a),p}(d?tC:eC,a.length,d,c,P);!d&&an&&(a[Rt].providerFactory=yn),c_(p,o,s.length,0),s.push(T),W.directiveStart++,W.directiveEnd++,d&&(W.providerIndexes+=1048576),a.push(yn),y.push(yn)}else c_(p,o,ft>-1?ft:Rt,hy(a[d?Rt:ft],P,!d&&c));!d&&c&&an&&a[Rt].componentProviders++}}}function c_(o,s,a,c){const d=gl(s),p=function qp(o){return!!o.useClass}(s);if(d||p){const P=(p?Ee(s.useClass):s).prototype.ngOnDestroy;if(P){const W=o.destroyHooks||(o.destroyHooks=[]);if(!d&&s.multi){const ie=W.indexOf(a);-1===ie?W.push(a,[c,P]):W[ie+1].push(c,P)}else W.push(a,P)}}}function hy(o,s,a){return a&&o.componentProviders++,o.multi.push(s)-1}function u_(o,s,a,c){for(let d=a;d<c;d++)if(s[d]===o)return d;return-1}function eC(o,s,a,c){return d_(this.multi,[])}function tC(o,s,a,c){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,T=nn(a,a[1],this.providerFactory.index,c);p=T.slice(0,y),d_(d,p);for(let P=y;P<T.length;P++)p.push(T[P])}else p=[],d_(d,p);return p}function d_(o,s){for(let a=0;a<o.length;a++)s.push((0,o[a])());return s}function fy(o,s=[]){return a=>{a.providersResolver=(c,d)=>function J0(o,s,a){const c=ai();if(c.firstCreatePass){const d=$i(o);l_(a,c.data,c.blueprint,d,!0),l_(s,c.data,c.blueprint,d,!1)}}(c,d?d(o):o,s)}}class py{}class oC{resolveComponentFactory(s){throw function rC(o){const s=Error(`No component factory found for ${ke(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let Pm=(()=>{class o{}return o.NULL=new oC,o})();function sC(){return Wd(Oi(),Bt())}function Wd(o,s){return new Rf(St(o,s))}let Rf=(()=>{class o{constructor(a){this.nativeElement=a}}return o.__NG_ELEMENT_ID__=sC,o})();function aC(o){return o instanceof Rf?o.nativeElement:o}class gy{}let lC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function uC(){const o=Bt(),a=Fn(Oi().index,o);return function cC(o){return o[11]}(vi(a)?a:o)}(),o})(),dC=(()=>{class o{}return o.\u0275prov=Vt({token:o,providedIn:"root",factory:()=>null}),o})();class _y{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const vy=new _y("13.3.11"),h_={};function Fm(o,s,a,c,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&c.push(j(p)),zi(p))for(let T=10;T<p.length;T++){const P=p[T],W=P[1].firstChild;null!==W&&Fm(P[1],P,W,c)}const y=a.type;if(8&y)Fm(o,s,a.child,c);else if(32&y){const T=Ou(a,s);let P;for(;P=T();)c.push(P)}else if(16&y){const T=cp(s,a);if(Array.isArray(T))c.push(...T);else{const P=Wc(s[16]);Fm(P[1],P,T,c,!0)}}a=d?a.projectionNext:a.next}return c}class kf{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Fm(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(zi(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Bu(s,c),Qa(a,c))}this._attachedToViewContainer=!1}bh(this._lView[1],this._lView)}onDestroy(s){Rp(this._lView[1],this._lView,null,s)}markForCheck(){pd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function $h(o,s,a){const c=s[10];c.begin&&c.begin();try{fl(o,s,o.template,a)}catch(d){throw Vp(s,d),d}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ip(o,s){Zc(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=s}}class hC extends kf{constructor(s){super(s),this._view=s}detectChanges(){md(this._view)}checkNoChanges(){}get context(){return null}}class yy extends Pm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Je(s);return new f_(a,this.ngModule)}}function by(o){const s=[];for(let a in o)o.hasOwnProperty(a)&&s.push({propName:o[a],templateName:a});return s}class f_ extends py{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function rg(o){return o.map(vp).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return by(this.componentDef.inputs)}get outputs(){return by(this.componentDef.outputs)}create(s,a,c,d){const p=(d=d||this.ngModule)?function pC(o,s){return{get:(a,c,d)=>{const p=o.get(a,h_,d);return p!==h_||c===h_?p:s.get(a,c,d)}}}(s,d.injector):s,y=p.get(gy,G),T=p.get(dC,null),P=y.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",ie=c?function ud(o,s,a){if(ti(o))return o.selectRootElement(s,a===it.ShadowDom);let c="string"==typeof s?o.querySelector(s):s;return c.textContent="",c}(P,c,this.componentDef.encapsulation):Lu(y.createRenderer(null,this.componentDef),W,function fC(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(W)),be=this.componentDef.onPush?576:528,Ye=function rf(o,s){return{components:[],scheduler:o||ep,clean:Og,playerHandler:s||null,flags:0}}(),ft=Vl(0,null,null,1,0,null,null,null,null,null),Rt=vc(null,ft,Ye,be,null,null,y,P,T,p);let Jt,an;qn(Rt);try{const yn=function tm(o,s,a,c,d,p){const y=a[1];a[20]=o;const P=yc(y,20,2,"#host",null),W=P.mergedAttrs=s.hostAttrs;null!==W&&(vd(P,W,!0),null!==o&&(Er(d,o,W),null!==P.classes&&Wu(d,o,P.classes),null!==P.styles&&up(d,o,P.styles)));const ie=c.createRenderer(o,s),be=vc(a,Fh(s),null,s.onPush?64:16,a[20],P,c,ie,p||null,null);return y.firstCreatePass&&(S(ao(P,a),y,s.type),Fp(y,P),Np(P,a.length,1)),ru(a,be),a[20]=be}(ie,this.componentDef,Rt,y,P);if(ie)if(c)Er(P,ie,["ng-version",vy.full]);else{const{attrs:jt,classes:kn}=function mc(o){const s=[],a=[];let c=1,d=2;for(;c<o.length;){let p=o[c];if("string"==typeof p)2===d?""!==p&&s.push(p,o[++c]):8===d&&a.push(p);else{if(!qs(d))break;d=p}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);jt&&Er(P,ie,jt),kn&&kn.length>0&&Wu(P,ie,kn.join(" "))}if(an=si(ft,20),void 0!==a){const jt=an.projection=[];for(let kn=0;kn<this.ngContentSelectors.length;kn++){const Ci=a[kn];jt.push(null!=Ci?Array.from(Ci):null)}}Jt=function nf(o,s,a,c,d){const p=a[1],y=function bg(o,s,a){const c=Oi();o.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),hd(o,c,s,bc(o,s,1,null),a));const d=nn(s,o,c.directiveStart,c);Io(d,s);const p=St(c,s);return p&&Io(p,s),d}(p,a,s);if(c.components.push(y),o[8]=y,d&&d.forEach(P=>P(y,s)),s.contentQueries){const P=Oi();s.contentQueries(1,y,P.directiveStart)}const T=Oi();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Si(T.index),Op(a[1],T,0,T.directiveStart,T.directiveEnd,s),jh(s,y)),y}(yn,this.componentDef,Rt,Ye,[nm]),iu(ft,Rt,null)}finally{Pi()}return new gC(this.componentType,Jt,Wd(an,Rt),Rt,an)}}class gC extends class iC{}{constructor(s,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new hC(d),this.componentType=s}get injector(){return new Ln(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Kd{}class Cy{}const qd=new Map;class Ey extends Kd{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yy(this);const c=Dn(s);this._bootstrapComponents=da(c.bootstrap),this._r3Injector=zp(s,a,[{provide:Kd,useValue:this},{provide:Pm,useValue:this.componentFactoryResolver}],ke(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=oi.THROW_IF_NOT_FOUND,c=te.Default){return s===oi||s===Kd||s===Dc?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class p_ extends Cy{constructor(s){super(),this.moduleType=s,null!==Dn(s)&&function vC(o){const s=new Set;!function a(c){const d=Dn(c,!0),p=d.id;null!==p&&(function Dy(o,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${o} - ${ke(s)} vs ${ke(s.name)}`)}(p,qd.get(p),c),qd.set(p,c));const y=da(d.imports);for(const T of y)s.has(T)||(s.add(T),a(T))}(o)}(s)}create(s){return new Ey(this.moduleType,s)}}function My(o,s,a,c){return function Ty(o,s,a,c,d,p){const y=s+a;return _o(o,y,d)?function Bs(o,s,a){return o[s]=a}(o,y+1,p?c.call(p,d):c(d)):function Of(o,s){const a=o[s];return a===jn?void 0:a}(o,y+1)}(Bt(),function mr(){const o=k.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}(),o,s,a,c)}function m_(o){return s=>{setTimeout(o,void 0,s)}}const El=class FC extends _.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var d,p,y;let T=s,P=a||(()=>null),W=c;if(s&&"object"==typeof s){const be=s;T=null===(d=be.next)||void 0===d?void 0:d.bind(be),P=null===(p=be.error)||void 0===p?void 0:p.bind(be),W=null===(y=be.complete)||void 0===y?void 0:y.bind(be)}this.__isAsync&&(P=m_(P),T&&(T=m_(T)),W&&(W=m_(W)));const ie=super.subscribe({next:T,error:P,complete:W});return s instanceof z.w0&&s.add(ie),ie}};function NC(){return this._results[Ls()]()}class g_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ls(),c=g_.prototype;c[a]||(c[a]=NC)}get changes(){return this._changes||(this._changes=new El)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=qr(s);(this._changesDetected=!function Rs(o,s,a){if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++){let d=o[c],p=s[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ff=(()=>{class o{}return o.__NG_ELEMENT_ID__=VC,o})();const LC=Ff,BC=class extends LC{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=vc(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(a)),iu(a,c,s),new kf(c)}};function VC(){return Nm(Oi(),Bt())}function Nm(o,s){return 4&o.type?new BC(s,o,Wd(o,s)):null}let Lm=(()=>{class o{}return o.__NG_ELEMENT_ID__=jC,o})();function jC(){return Oy(Oi(),Bt())}const UC=Lm,Ry=class extends UC{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Wd(this._hostTNode,this._hostLView)}get injector(){return new Ln(this._hostTNode,this._hostLView)}get parentInjector(){const s=C(this._hostTNode,this._hostLView);if(Ca(s)){const a=fs(s,this._hostLView),c=As(s);return new Ln(a[1].data[c+8],a)}return new Ln(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=ky(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const d=s.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(s,a,c,d,p){const y=s&&!function Cn(o){return"function"==typeof o}(s);let T;if(y)T=a;else{const be=a||{};T=be.index,c=be.injector,d=be.projectableNodes,p=be.ngModuleRef}const P=y?s:new f_(Je(s)),W=c||this.parentInjector;if(!p&&null==P.ngModule){const Ye=(y?W:this.parentInjector).get(Kd,null);Ye&&(p=Ye)}const ie=P.create(W,d,void 0,p);return this.insert(ie.hostView,T),ie}insert(s,a){const c=s._lView,d=c[1];if(function ni(o){return zi(o[3])}(c)){const ie=this.indexOf(s);if(-1!==ie)this.detach(ie);else{const be=c[3],Ye=new Ry(be,be[6],be[3]);Ye.detach(Ye.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function eg(o,s,a,c){const d=10+c,p=a.length;c>0&&(a[d-1][4]=s),c<p-10?(s[4]=a[d],Fc(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function yh(o,s){const a=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===a?o[9]=[s]:a.push(s)}(y,s);const T=s[19];null!==T&&T.insertView(o),s[2]|=128}(d,c,y,p);const T=fc(p,y),P=c[11],W=Uu(P,y[7]);return null!==W&&function Jm(o,s,a,c,d,p){c[0]=d,c[6]=s,Zc(o,c,a,1,d,p)}(d,y[6],P,c,W,T),s.attachToViewContainerRef(),Fc(__(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=ky(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Bu(this._lContainer,a);c&&(Qa(__(this._lContainer),a),bh(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Bu(this._lContainer,a);return c&&null!=Qa(__(this._lContainer),a)?new kf(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function ky(o){return o[8]}function __(o){return o[8]||(o[8]=[])}function Oy(o,s){let a;const c=s[o.index];if(zi(c))a=c;else{let d;if(8&o.type)d=j(c);else{const p=s[11];d=p.createComment("");const y=St(o,s);es(p,Uu(p,y),d,function hc(o,s){return ti(o)?o.nextSibling(s):s.nextSibling}(p,y),!1)}s[o.index]=a=ha(c,s,d,o),ru(s,a)}return new Ry(a,o,s)}class v_{constructor(s){this.queryList=s,this.matches=null}clone(){return new v_(this.queryList)}setDirty(){this.queryList.setDirty()}}class y_{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new y_(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Hy(s,a).matches&&this.queries[a].setDirty()}}class Py{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class b_{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new b_(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class C_{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new C_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(s,a,zC(a,p)),this.matchTNodeWithReadOption(s,a,Ot(a,s,p,!1,!1))}else c===Ff?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ot(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Rf||d===Lm||d===Ff&&4&a.type)this.addMatch(a.index,-2);else{const p=Ot(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function zC(o,s){const a=o.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function YC(o,s,a,c){return-1===a?function $C(o,s){return 11&o.type?Wd(o,s):4&o.type?Nm(o,s):null}(s,o):-2===a?function WC(o,s,a){return a===Rf?Wd(s,o):a===Ff?Nm(s,o):a===Lm?Oy(s,o):void 0}(o,s,c):nn(o,o[1],a,s)}function Fy(o,s,a,c){const d=s[19].queries[c];if(null===d.matches){const p=o.data,y=a.matches,T=[];for(let P=0;P<y.length;P+=2){const W=y[P];T.push(W<0?null:YC(s,p[W],y[P+1],a.metadata.read))}d.matches=T}return d.matches}function D_(o,s,a,c){const d=o.queries.getByIndex(a),p=d.matches;if(null!==p){const y=Fy(o,s,d,a);for(let T=0;T<p.length;T+=2){const P=p[T];if(P>0)c.push(y[T/2]);else{const W=p[T+1],ie=s[-P];for(let be=10;be<ie.length;be++){const Ye=ie[be];Ye[17]===Ye[3]&&D_(Ye[1],Ye,W,c)}if(null!==ie[9]){const be=ie[9];for(let Ye=0;Ye<be.length;Ye++){const ft=be[Ye];D_(ft[1],ft,W,c)}}}}}return c}function Ny(o){const s=Bt(),a=ai(),c=At();sn(c+1);const d=Hy(a,c);if(o.dirty&&Un(s)===(2==(2&d.metadata.flags))){if(null===d.matches)o.reset([]);else{const p=d.crossesNgTemplate?D_(a,s,c,[]):Fy(a,s,d,c);o.reset(p,aC),o.notifyOnChanges()}return!0}return!1}function Ly(o,s,a){const c=ai();c.firstCreatePass&&(Uy(c,new Py(o,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),jy(c,Bt(),s)}function By(o,s,a,c){const d=ai();if(d.firstCreatePass){const p=Oi();Uy(d,new Py(s,a,c),p.index),function qC(o,s){const a=o.contentQueries||(o.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,s)}(d,o),2==(2&a)&&(d.staticContentQueries=!0)}jy(d,Bt(),a)}function Vy(){return function KC(o,s){return o[19].queries[s].queryList}(Bt(),At())}function jy(o,s,a){const c=new g_(4==(4&a));Rp(o,s,c,c.destroy),null===s[19]&&(s[19]=new y_),s[19].queries.push(new v_(c))}function Uy(o,s,a){null===o.queries&&(o.queries=new b_),o.queries.track(new C_(s,a))}function Hy(o,s){return o.queries.getByIndex(s)}function jm(...o){}const ob=new Li("Application Initializer");let A_=(()=>{class o{constructor(a){this.appInits=a,this.resolve=jm,this.reject=jm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Ld(p))a.push(p);else if(Bd(p)){const y=new Promise((T,P)=>{p.subscribe({complete:T,error:P})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return o.\u0275fac=function(a){return new(a||o)(Br(ob,8))},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const sb=new Li("AppId",{providedIn:"root",factory:function ab(){return`${I_()}${I_()}${I_()}`}});function I_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lb=new Li("Platform Initializer"),fD=new Li("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cb=new Li("appBootstrapListener");let pD=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const x_=new Li("LocaleId",{providedIn:"root",factory:()=>Il(x_,te.Optional|te.SkipSelf)||function mD(){return"undefined"!=typeof $localize&&$localize.locale||Im}()}),gD=new Li("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _D{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let vD=(()=>{class o{compileModuleSync(a){return new p_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=da(Dn(a).declarations).reduce((y,T)=>{const P=Je(T);return P&&y.push(new f_(P)),y},[]);return new _D(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const bD=(()=>Promise.resolve(0))();function R_(o){"undefined"==typeof Zone?bD.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ja{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new El(!1),this.onMicrotaskEmpty=new El(!1),this.onStable=new El(!1),this.onError=new El(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function CD(){let o=un.requestAnimationFrame,s=un.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const a=o[Zone.__symbol__("OriginalDelegate")];a&&(o=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function ED(o){const s=()=>{!function wD(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(un,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,O_(o),o.isCheckStableRunning=!0,k_(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),O_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,y,T)=>{try{return ub(o),a.invokeTask(d,p,y,T)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&s(),db(o)}},onInvoke:(a,c,d,p,y,T,P)=>{try{return ub(o),a.invoke(d,p,y,T,P)}finally{o.shouldCoalesceRunChangeDetection&&s(),db(o)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,O_(o),k_(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ja.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ja.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,s,DD,jm,jm);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const DD={};function k_(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function O_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function ub(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function db(o){o._nesting--,k_(o)}class MD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new El,this.onMicrotaskEmpty=new El,this.onStable=new El,this.onError=new El}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}let hb=(()=>{class o{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ja.assertNotInAngularZone(),R_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())R_(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return o.\u0275fac=function(a){return new(a||o)(Br(ja))},o.\u0275prov=Vt({token:o,factory:o.\u0275fac}),o})(),TD=(()=>{class o{constructor(){this._applications=new Map,P_.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return P_.findTestabilityInTree(this,a,c)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class SD{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function AD(o){P_=o}let P_=new SD,_u=null;const fb=new Li("AllowMultipleToken"),pb=new Li("PlatformOnDestroy");class RD{constructor(s,a){this.name=s,this.token=a}}function mb(o,s,a=[]){const c=`Platform: ${s}`,d=new Li(c);return(p=[])=>{let y=F_();if(!y||y.injector.get(fb,!1)){const T=[...a,...p,{provide:d,useValue:!0}];o?o(T):function kD(o){if(_u&&!_u.get(fb,!1))throw new Ae(400,"");_u=o;const s=o.get(gb),a=o.get(lb,null);a&&a.forEach(c=>c())}(function PD(o=[],s){return oi.create({name:s,providers:[{provide:su,useValue:"platform"},{provide:pb,useValue:()=>_u=null},...o]})}(T,c))}return function OD(o){const s=F_();if(!s)throw new Ae(401,"");return s}()}}function F_(){var o;return null!==(o=null==_u?void 0:_u.get(gb))&&void 0!==o?o:null}let gb=(()=>{class o{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const T=function FD(o,s){let a;return a="noop"===o?new MD:("zone.js"===o?void 0:o)||new ja({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),P=[{provide:ja,useValue:T}];return T.run(()=>{const W=oi.create({providers:P,parent:this.injector,name:a.moduleType.name}),ie=a.create(W),be=ie.injector.get(tr,null);if(!be)throw new Ae(402,"");return T.runOutsideAngular(()=>{const Ye=T.onError.subscribe({next:ft=>{be.handleError(ft)}});ie.onDestroy(()=>{L_(this._modules,ie),Ye.unsubscribe()})}),function ND(o,s,a){try{const c=a();return Ld(c)?c.catch(d=>{throw s.runOutsideAngular(()=>o.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>o.handleError(c)),c}}(be,T,()=>{const Ye=ie.injector.get(A_);return Ye.runInitializers(),Ye.donePromise.then(()=>(function l0(o){xt(o,"Expected localeId to be defined"),"string"==typeof o&&(Hv=o.toLowerCase().replace(/_/g,"-"))}(ie.injector.get(x_,Im)||Im),this._moduleDoBootstrap(ie),ie))})})}bootstrapModule(a,c=[]){const d=_b({},c);return function ID(o,s,a){const c=new p_(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(N_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Ae(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(pb,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(a){return new(a||o)(Br(oi))},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function _b(o,s){return Array.isArray(s)?s.reduce(_b,o):Object.assign(Object.assign({},o),s)}let N_=(()=>{class o{constructor(a,c,d,p){this._zone=a,this._injector=c,this._exceptionHandler=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new m.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),T=new m.y(P=>{let W;this._zone.runOutsideAngular(()=>{W=this._zone.onStable.subscribe(()=>{ja.assertNotInAngularZone(),R_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const ie=this._zone.onUnstable.subscribe(()=>{ja.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{W.unsubscribe(),ie.unsubscribe()}});this.isStable=(0,ue.T)(y,T.pipe((0,de.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Ae(405,"");let d;d=a instanceof py?a:this._injector.get(Pm).resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function xD(o){return o.isBoundToModule}(d)?void 0:this._injector.get(Kd),T=d.create(oi.NULL,[],c||d.selector,p),P=T.location.nativeElement,W=T.injector.get(hb,null),ie=W&&T.injector.get(TD);return W&&ie&&ie.registerApplication(P,W),T.onDestroy(()=>{this.detachView(T.hostView),L_(this.components,T),ie&&ie.unregisterApplication(P)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;L_(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(cb,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(a){return new(a||o)(Br(ja),Br(oi),Br(tr),Br(A_))},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function L_(o,s){const a=o.indexOf(s);a>-1&&o.splice(a,1)}let yb=!0,bb=!1;function BD(){return bb=!0,yb}function VD(){if(bb)throw new Error("Cannot enable prod mode after platform setup.");yb=!1}let jD=(()=>{class o{}return o.__NG_ELEMENT_ID__=UD,o})();function UD(o){return function HD(o,s,a){if($r(o)&&!a){const c=Fn(o.index,s);return new kf(c,c)}return 47&o.type?new kf(s[16],s):null}(Oi(),Bt(),16==(16&o))}class Eb{constructor(){}supports(s){return Ac(s)}create(s){return new KD(s)}}const WD=(o,s)=>s;class KD{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||WD}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<Tb(c,d,p)?a:c,T=Tb(y,d,p),P=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const W=T-d,ie=P-d;if(W!=ie){for(let Ye=0;Ye<W;Ye++){const ft=Ye<p.length?p[Ye]:p[Ye]=0,Rt=ft+Ye;ie<=Rt&&Rt<W&&(p[Ye]=ft+1)}p[y.previousIndex]=ie-W}}T!==P&&s(y,T,P)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ac(s))throw new Ae(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let T=0;T<this.length;T++)p=s[T],y=this._trackByFn(T,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,T)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,T),c=!0),a=a._next}else d=0,function uf(o,s){if(Array.isArray(o))for(let a=0;a<o.length;a++)s(o[a]);else{const a=o[Ls()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,T=>{y=this._trackByFn(d,T),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,T,y,d)),Object.is(a.item,T)||this._addIdentityChange(a,T)):(a=this._mismatch(a,T,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new qD(a,c),p,d),s}_verifyReinsertion(s,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Mb),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class qD{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Mb{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new QD,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tb(o,s,a){const c=o.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class Sb{constructor(){}supports(s){return s instanceof Map||df(s)}create(){return new ZD}}class ZD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||df(s)))throw new Ae(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const c=new XD(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class XD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ab(){return new H_([new Eb])}let H_=(()=>{class o{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new o(a)}static extend(a){return{provide:o,useFactory:c=>o.create(a,c||Ab()),deps:[[o,new ia,new nl]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Ae(901,"")}}return o.\u0275prov=Vt({token:o,providedIn:"root",factory:Ab}),o})();function Ib(){return new G_([new Sb])}let G_=(()=>{class o{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new o(a)}static extend(a){return{provide:o,useFactory:c=>o.create(a,c||Ib()),deps:[[o,new ia,new nl]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(c)return c;throw new Ae(901,"")}}return o.\u0275prov=Vt({token:o,providedIn:"root",factory:Ib}),o})();const tw=mb(null,"core",[]);let nw=(()=>{class o{constructor(a){}}return o.\u0275fac=function(a){return new(a||o)(Br(N_))},o.\u0275mod=di({type:o}),o.\u0275inj=je({}),o})()},3075:(Ht,Qe,R)=>{R.d(Qe,{Cf:()=>Ue,F:()=>Ei,Fj:()=>Ie,JJ:()=>te,JL:()=>we,JU:()=>ke,UX:()=>Un,Zs:()=>Dr,_Y:()=>eo,a5:()=>Kt,kI:()=>zt,qu:()=>ni,sg:()=>ko,u:()=>kr,u5:()=>Fn});var _=R(5e3),z=R(9808),m=R(8996),ue=R(4128),de=R(4004);let xe=(()=>{class ${constructor(k,se){this._renderer=k,this._elementRef=se,this.onChange=Mt=>{},this.onTouched=()=>{}}setProperty(k,se){this._renderer.setProperty(this._elementRef.nativeElement,k,se)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return $.\u0275fac=function(k){return new(k||$)(_.Y36(_.Qsj),_.Y36(_.SBq))},$.\u0275dir=_.lG2({type:$}),$})(),Pe=(()=>{class $ extends xe{}return $.\u0275fac=function(){let N;return function(se){return(N||(N=_.n5z($)))(se||$)}}(),$.\u0275dir=_.lG2({type:$,features:[_.qOj]}),$})();const ke=new _.OlP("NgValueAccessor"),Te={provide:ke,useExisting:(0,_.Gpc)(()=>Ie),multi:!0},Fe=new _.OlP("CompositionEventMode");let Ie=(()=>{class $ extends xe{constructor(k,se,Mt){super(k,se),this._compositionMode=Mt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ee(){const $=(0,z.q)()?(0,z.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(k){this.setProperty("value",null==k?"":k)}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return $.\u0275fac=function(k){return new(k||$)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Fe,8))},$.\u0275dir=_.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,se){1&k&&_.NdJ("input",function(cn){return se._handleInput(cn.target.value)})("blur",function(){return se.onTouched()})("compositionstart",function(){return se._compositionStart()})("compositionend",function(cn){return se._compositionEnd(cn.target.value)})},features:[_._Bn([Te]),_.qOj]}),$})();function Ae($){return null==$||0===$.length}function ot($){return null!=$&&"number"==typeof $.length}const Ue=new _.OlP("NgValidators"),lt=new _.OlP("NgAsyncValidators"),Tt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zt{static min(N){return function st($){return N=>{if(Ae(N.value)||Ae($))return null;const k=parseFloat(N.value);return!isNaN(k)&&k<$?{min:{min:$,actual:N.value}}:null}}(N)}static max(N){return function ve($){return N=>{if(Ae(N.value)||Ae($))return null;const k=parseFloat(N.value);return!isNaN(k)&&k>$?{max:{max:$,actual:N.value}}:null}}(N)}static required(N){return me(N)}static requiredTrue(N){return Ne(N)}static email(N){return function ze($){return Ae($.value)||Tt.test($.value)?null:{email:!0}}(N)}static minLength(N){return function nt($){return N=>Ae(N.value)||!ot(N.value)?null:N.value.length<$?{minlength:{requiredLength:$,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function K($){return N=>ot(N.value)&&N.value.length>$?{maxlength:{requiredLength:$,actualLength:N.value.length}}:null}(N)}static pattern(N){return function fe($){if(!$)return Xe;let N,k;return"string"==typeof $?(k="","^"!==$.charAt(0)&&(k+="^"),k+=$,"$"!==$.charAt($.length-1)&&(k+="$"),N=new RegExp(k)):(k=$.toString(),N=$),se=>{if(Ae(se.value))return null;const Mt=se.value;return N.test(Mt)?null:{pattern:{requiredPattern:k,actualValue:Mt}}}}(N)}static nullValidator(N){return null}static compose(N){return xt(N)}static composeAsync(N){return $t(N)}}function me($){return Ae($.value)?{required:!0}:null}function Ne($){return!0===$.value?null:{required:!0}}function Xe($){return null}function ct($){return null!=$}function ht($){const N=(0,_.QGY)($)?(0,m.D)($):$;return(0,_.CqO)(N),N}function Ze($){let N={};return $.forEach(k=>{N=null!=k?Object.assign(Object.assign({},N),k):N}),0===Object.keys(N).length?null:N}function _t($,N){return N.map(k=>k($))}function Wt($){return $.map(N=>function at($){return!$.validate}(N)?N:k=>N.validate(k))}function xt($){if(!$)return null;const N=$.filter(ct);return 0==N.length?null:function(k){return Ze(_t(k,N))}}function Pt($){return null!=$?xt(Wt($)):null}function $t($){if(!$)return null;const N=$.filter(ct);return 0==N.length?null:function(k){const se=_t(k,N).map(ht);return(0,ue.D)(se).pipe((0,de.U)(Ze))}}function Ft($){return null!=$?$t(Wt($)):null}function Et($,N){return null===$?[N]:Array.isArray($)?[...$,N]:[$,N]}function Vt($){return $._rawValidators}function tt($){return $._rawAsyncValidators}function je($){return $?Array.isArray($)?$:[$]:[]}function et($,N){return Array.isArray($)?$.includes(N):$===N}function Oe($,N){const k=je(N);return je($).forEach(Mt=>{et(k,Mt)||k.push(Mt)}),k}function gt($,N){return je(N).filter(k=>!et($,k))}class Nt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=Pt(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=Ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,k){return!!this.control&&this.control.hasError(N,k)}getError(N,k){return this.control?this.control.getError(N,k):null}}class Kt extends Nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qt extends Nt{get formDirective(){return null}get path(){return null}}class ln{constructor(N){this._cd=N}is(N){var k,se,Mt;return"submitted"===N?!!(null===(k=this._cd)||void 0===k?void 0:k.submitted):!!(null===(Mt=null===(se=this._cd)||void 0===se?void 0:se.control)||void 0===Mt?void 0:Mt[N])}}let te=(()=>{class $ extends ln{constructor(k){super(k)}}return $.\u0275fac=function(k){return new(k||$)(_.Y36(Kt,2))},$.\u0275dir=_.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,se){2&k&&_.ekj("ng-untouched",se.is("untouched"))("ng-touched",se.is("touched"))("ng-pristine",se.is("pristine"))("ng-dirty",se.is("dirty"))("ng-valid",se.is("valid"))("ng-invalid",se.is("invalid"))("ng-pending",se.is("pending"))},features:[_.qOj]}),$})(),we=(()=>{class $ extends ln{constructor(k){super(k)}}return $.\u0275fac=function(k){return new(k||$)(_.Y36(Qt,10))},$.\u0275dir=_.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,se){2&k&&_.ekj("ng-untouched",se.is("untouched"))("ng-touched",se.is("touched"))("ng-pristine",se.is("pristine"))("ng-dirty",se.is("dirty"))("ng-valid",se.is("valid"))("ng-invalid",se.is("invalid"))("ng-pending",se.is("pending"))("ng-submitted",se.is("submitted"))},features:[_.qOj]}),$})();function Ge($,N){ne($,N),N.valueAccessor.writeValue($.value),function yt($,N){N.valueAccessor.registerOnChange(k=>{$._pendingValue=k,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Tn($,N)})}($,N),function xn($,N){const k=(se,Mt)=>{N.valueAccessor.writeValue(se),Mt&&N.viewToModelUpdate(se)};$.registerOnChange(k),N._registerOnDestroy(()=>{$._unregisterOnChange(k)})}($,N),function Yt($,N){N.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Tn($,N),"submit"!==$.updateOn&&$.markAsTouched()})}($,N),function U($,N){if(N.valueAccessor.setDisabledState){const k=se=>{N.valueAccessor.setDisabledState(se)};$.registerOnDisabledChange(k),N._registerOnDestroy(()=>{$._unregisterOnDisabledChange(k)})}}($,N)}function H($,N,k=!0){const se=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(se),N.valueAccessor.registerOnTouched(se)),_e($,N),$&&(N._invokeOnDestroyCallbacks(),$._registerOnCollectionChange(()=>{}))}function I($,N){$.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(N)})}function ne($,N){const k=Vt($);null!==N.validator?$.setValidators(Et(k,N.validator)):"function"==typeof k&&$.setValidators([k]);const se=tt($);null!==N.asyncValidator?$.setAsyncValidators(Et(se,N.asyncValidator)):"function"==typeof se&&$.setAsyncValidators([se]);const Mt=()=>$.updateValueAndValidity();I(N._rawValidators,Mt),I(N._rawAsyncValidators,Mt)}function _e($,N){let k=!1;if(null!==$){if(null!==N.validator){const Mt=Vt($);if(Array.isArray(Mt)&&Mt.length>0){const cn=Mt.filter(Ti=>Ti!==N.validator);cn.length!==Mt.length&&(k=!0,$.setValidators(cn))}}if(null!==N.asyncValidator){const Mt=tt($);if(Array.isArray(Mt)&&Mt.length>0){const cn=Mt.filter(Ti=>Ti!==N.asyncValidator);cn.length!==Mt.length&&(k=!0,$.setAsyncValidators(cn))}}}const se=()=>{};return I(N._rawValidators,se),I(N._rawAsyncValidators,se),k}function Tn($,N){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate($._pendingValue),$._pendingChange=!1}function An($,N){ne($,N)}function Je($,N){$._syncPendingControls(),N.forEach(k=>{const se=k.control;"submit"===se.updateOn&&se._pendingChange&&(k.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}function mn($,N){const k=$.indexOf(N);k>-1&&$.splice(k,1)}const Di="VALID",Hi="INVALID",gi="PENDING",Gi="DISABLED";function vr($){return(hi($)?$.validators:$)||null}function Vi($){return Array.isArray($)?Pt($):$||null}function en($,N){return(hi(N)?N.asyncValidators:$)||null}function Rn($){return Array.isArray($)?Ft($):$||null}function hi($){return null!=$&&!Array.isArray($)&&"object"==typeof $}const nr=$=>$ instanceof In,Xi=$=>$ instanceof Ir,wi=$=>$ instanceof yr;function lr($){return nr($)?$.value:$.getRawValue()}function Pn($,N){const k=Xi($),se=$.controls;if(!(k?Object.keys(se):se).length)throw new _.vHH(1e3,"");if(!se[N])throw new _.vHH(1001,"")}function _i($,N){Xi($),$._forEachChild((se,Mt)=>{if(void 0===N[Mt])throw new _.vHH(1002,"")})}class ir{constructor(N,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=N,this._rawAsyncValidators=k,this._composedValidatorFn=Vi(this._rawValidators),this._composedAsyncValidatorFn=Rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===Di}get invalid(){return this.status===Hi}get pending(){return this.status==gi}get disabled(){return this.status===Gi}get enabled(){return this.status!==Gi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._rawValidators=N,this._composedValidatorFn=Vi(N)}setAsyncValidators(N){this._rawAsyncValidators=N,this._composedAsyncValidatorFn=Rn(N)}addValidators(N){this.setValidators(Oe(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(Oe(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(gt(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(gt(N,this._rawAsyncValidators))}hasValidator(N){return et(this._rawValidators,N)}hasAsyncValidator(N){return et(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=gi,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const k=this._parentMarkedDirty(N.onlySelf);this.status=Gi,this.errors=null,this._forEachChild(se=>{se.disable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:k})),this._onDisabledChange.forEach(se=>se(!0))}enable(N={}){const k=this._parentMarkedDirty(N.onlySelf);this.status=Di,this._forEachChild(se=>{se.enable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:k})),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Di||this.status===gi)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gi:Di}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=gi,this._hasOwnPendingAsyncValidator=!0;const k=ht(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,k={}){this.errors=N,this._updateControlsErrors(!1!==k.emitEvent)}get(N){return function Ri($,N,k){if(null==N||(Array.isArray(N)||(N=N.split(k)),Array.isArray(N)&&0===N.length))return null;let se=$;return N.forEach(Mt=>{se=Xi(se)?se.controls.hasOwnProperty(Mt)?se.controls[Mt]:null:wi(se)&&se.at(Mt)||null}),se}(this,N,".")}getError(N,k){const se=k?this.get(k):this;return se&&se.errors?se.errors[N]:null}hasError(N,k){return!!this.getError(N,k)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Gi:this.errors?Hi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gi)?gi:this._anyControlsHaveStatus(Hi)?Hi:Di}_anyControlsHaveStatus(N){return this._anyControls(k=>k.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_isBoxedValue(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){hi(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class In extends ir{constructor(N=null,k,se){super(vr(k),en(se,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hi(k)&&k.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(N)?N.value:N)}setValue(N,k={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(N,k={}){this.setValue(N,k)}reset(N=this.defaultValue,k={}){this._applyFormState(N),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){mn(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){mn(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){this._isBoxedValue(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}}class Ir extends ir{constructor(N,k,se){super(vr(k),en(se,k)),this.controls=N,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,k){return this.controls[N]?this.controls[N]:(this.controls[N]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(N,k,se={}){this.registerControl(N,k),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(N,k={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(N,k,se={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],k&&this.registerControl(N,k),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,k={}){_i(this,N),Object.keys(N).forEach(se=>{Pn(this,se),this.controls[se].setValue(N[se],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(N,k={}){null!=N&&(Object.keys(N).forEach(se=>{this.controls[se]&&this.controls[se].patchValue(N[se],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(N={},k={}){this._forEachChild((se,Mt)=>{se.reset(N[Mt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(N,k,se)=>(N[se]=lr(k),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(k,se)=>!!se._syncPendingControls()||k);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(k=>{const se=this.controls[k];se&&N(se,k)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const k of Object.keys(this.controls)){const se=this.controls[k];if(this.contains(k)&&N(se))return!0}return!1}_reduceValue(){return this._reduceChildren({},(N,k,se)=>((k.enabled||this.disabled)&&(N[se]=k.value),N))}_reduceChildren(N,k){let se=N;return this._forEachChild((Mt,cn)=>{se=k(se,Mt,cn)}),se}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class yr extends ir{constructor(N,k,se){super(vr(k),en(se,k)),this.controls=N,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[N]}push(N,k={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(N,k,se={}){this.controls.splice(N,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:se.emitEvent})}removeAt(N,k={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(N,k,se={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),k&&(this.controls.splice(N,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,k={}){_i(this,N),N.forEach((se,Mt)=>{Pn(this,Mt),this.at(Mt).setValue(se,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(N,k={}){null!=N&&(N.forEach((se,Mt)=>{this.at(Mt)&&this.at(Mt).patchValue(se,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(N=[],k={}){this._forEachChild((se,Mt)=>{se.reset(N[Mt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this.controls.map(N=>lr(N))}clear(N={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_syncPendingControls(){let N=this.controls.reduce((k,se)=>!!se._syncPendingControls()||k,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((k,se)=>{N(k,se)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(k=>k.enabled&&N(k))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}}const Hr={provide:Qt,useExisting:(0,_.Gpc)(()=>Ei)},Fi=(()=>Promise.resolve(null))();let Ei=(()=>{class $ extends Qt{constructor(k,se){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new _.vpe,this.form=new Ir({},Pt(k),Ft(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(k){Fi.then(()=>{const se=this._findContainer(k.path);k.control=se.registerControl(k.name,k.control),Ge(k.control,k),k.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(k)})}getControl(k){return this.form.get(k.path)}removeControl(k){Fi.then(()=>{const se=this._findContainer(k.path);se&&se.removeControl(k.name),this._directives.delete(k)})}addFormGroup(k){Fi.then(()=>{const se=this._findContainer(k.path),Mt=new Ir({});An(Mt,k),se.registerControl(k.name,Mt),Mt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(k){Fi.then(()=>{const se=this._findContainer(k.path);se&&se.removeControl(k.name)})}getFormGroup(k){return this.form.get(k.path)}updateModel(k,se){Fi.then(()=>{this.form.get(k.path).setValue(se)})}setValue(k){this.control.setValue(k)}onSubmit(k){return this.submitted=!0,Je(this.form,this._directives),this.ngSubmit.emit(k),!1}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(k){return k.pop(),k.length?this.form.get(k):this.form}}return $.\u0275fac=function(k){return new(k||$)(_.Y36(Ue,10),_.Y36(lt,10))},$.\u0275dir=_.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(k,se){1&k&&_.NdJ("submit",function(cn){return se.onSubmit(cn)})("reset",function(){return se.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Hr]),_.qOj]}),$})(),eo=(()=>{class ${}return $.\u0275fac=function(k){return new(k||$)},$.\u0275dir=_.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})(),Yi=(()=>{class ${}return $.\u0275fac=function(k){return new(k||$)},$.\u0275mod=_.oAB({type:$}),$.\u0275inj=_.cJS({}),$})();const ws=new _.OlP("NgModelWithFormControlWarning"),os={provide:Qt,useExisting:(0,_.Gpc)(()=>ko)};let ko=(()=>{class $ extends Qt{constructor(k,se){super(),this.validators=k,this.asyncValidators=se,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(k),this._setAsyncValidators(se)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_e(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const se=this.form.get(k.path);return Ge(se,k),se.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),se}getControl(k){return this.form.get(k.path)}removeControl(k){H(k.control||null,k,!1),mn(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,se){this.form.get(k.path).setValue(se)}onSubmit(k){return this.submitted=!0,Je(this.form,this.directives),this.ngSubmit.emit(k),!1}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const se=k.control,Mt=this.form.get(k.path);se!==Mt&&(H(se||null,k),nr(Mt)&&(Ge(Mt,k),k.control=Mt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const se=this.form.get(k.path);An(se,k),se.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const se=this.form.get(k.path);se&&function Yn($,N){return _e($,N)}(se,k)&&se.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ne(this.form,this),this._oldForm&&_e(this._oldForm,this)}_checkFormPresent(){}}return $.\u0275fac=function(k){return new(k||$)(_.Y36(Ue,10),_.Y36(lt,10))},$.\u0275dir=_.lG2({type:$,selectors:[["","formGroup",""]],hostBindings:function(k,se){1&k&&_.NdJ("submit",function(cn){return se.onSubmit(cn)})("reset",function(){return se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([os]),_.qOj,_.TTD]}),$})();const cr={provide:Kt,useExisting:(0,_.Gpc)(()=>kr)};let kr=(()=>{class $ extends Kt{constructor(k,se,Mt,cn,Ti){super(),this._ngModelWarningConfig=Ti,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(se),this._setAsyncValidators(Mt),this.valueAccessor=function kt($,N){if(!N)return null;let k,se,Mt;return Array.isArray(N),N.forEach(cn=>{cn.constructor===Ie?k=cn:function Me($){return Object.getPrototypeOf($.constructor)===Pe}(cn)?se=cn:Mt=cn}),Mt||se||k||null}(0,cn)}set isDisabled(k){}ngOnChanges(k){this._added||this._setUpControl(),function Ke($,N){if(!$.hasOwnProperty("model"))return!1;const k=$.model;return!!k.isFirstChange()||!Object.is(N,k.currentValue)}(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return function Vn($,N){return[...N.path,$]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return $._ngModelWarningSentOnce=!1,$.\u0275fac=function(k){return new(k||$)(_.Y36(Qt,13),_.Y36(Ue,10),_.Y36(lt,10),_.Y36(ke,10),_.Y36(ws,8))},$.\u0275dir=_.lG2({type:$,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([cr]),_.qOj,_.TTD]}),$})(),Mi=(()=>{class ${constructor(){this._validator=Xe}ngOnChanges(k){if(this.inputName in k){const se=this.normalizeInput(k[this.inputName].currentValue);this._enabled=this.enabled(se),this._validator=this._enabled?this.createValidator(se):Xe,this._onChange&&this._onChange()}}validate(k){return this._validator(k)}registerOnValidatorChange(k){this._onChange=k}enabled(k){return null!=k}}return $.\u0275fac=function(k){return new(k||$)},$.\u0275dir=_.lG2({type:$,features:[_.TTD]}),$})();const bo={provide:Ue,useExisting:(0,_.Gpc)(()=>io),multi:!0},Yr={provide:Ue,useExisting:(0,_.Gpc)(()=>Dr),multi:!0};let io=(()=>{class $ extends Mi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=k=>function Oo($){return null!=$&&!1!==$&&"false"!=`${$}`}(k),this.createValidator=k=>me}enabled(k){return k}}return $.\u0275fac=function(){let N;return function(se){return(N||(N=_.n5z($)))(se||$)}}(),$.\u0275dir=_.lG2({type:$,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(k,se){2&k&&_.uIk("required",se._enabled?"":null)},inputs:{required:"required"},features:[_._Bn([bo]),_.qOj]}),$})(),Dr=(()=>{class $ extends io{constructor(){super(...arguments),this.createValidator=k=>Ne}}return $.\u0275fac=function(){let N;return function(se){return(N||(N=_.n5z($)))(se||$)}}(),$.\u0275dir=_.lG2({type:$,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(k,se){2&k&&_.uIk("required",se._enabled?"":null)},features:[_._Bn([Yr]),_.qOj]}),$})(),Kn=(()=>{class ${}return $.\u0275fac=function(k){return new(k||$)},$.\u0275mod=_.oAB({type:$}),$.\u0275inj=_.cJS({imports:[[Yi]]}),$})(),Fn=(()=>{class ${}return $.\u0275fac=function(k){return new(k||$)},$.\u0275mod=_.oAB({type:$}),$.\u0275inj=_.cJS({imports:[Kn]}),$})(),Un=(()=>{class ${static withConfig(k){return{ngModule:$,providers:[{provide:ws,useValue:k.warnOnNgModelWithFormControl}]}}}return $.\u0275fac=function(k){return new(k||$)},$.\u0275mod=_.oAB({type:$}),$.\u0275inj=_.cJS({imports:[Kn]}),$})(),ni=(()=>{class ${group(k,se=null){const Mt=this._reduceControls(k);let Wr,cn=null,Ti=null;return null!=se&&(function On($){return void 0!==$.asyncValidators||void 0!==$.validators||void 0!==$.updateOn}(se)?(cn=null!=se.validators?se.validators:null,Ti=null!=se.asyncValidators?se.asyncValidators:null,Wr=null!=se.updateOn?se.updateOn:void 0):(cn=null!=se.validator?se.validator:null,Ti=null!=se.asyncValidator?se.asyncValidator:null)),new Ir(Mt,{asyncValidators:Ti,updateOn:Wr,validators:cn})}control(k,se,Mt){return new In(k,se,Mt)}array(k,se,Mt){const cn=k.map(Ti=>this._createControl(Ti));return new yr(cn,se,Mt)}_reduceControls(k){const se={};return Object.keys(k).forEach(Mt=>{se[Mt]=this._createControl(k[Mt])}),se}_createControl(k){return nr(k)||Xi(k)||wi(k)?k:Array.isArray(k)?this.control(k[0],k.length>1?k[1]:null,k.length>2?k[2]:null):this.control(k)}}return $.\u0275fac=function(k){return new(k||$)},$.\u0275prov=_.Yz7({token:$,factory:$.\u0275fac,providedIn:Un}),$})()},7423:(Ht,Qe,R)=>{R.d(Qe,{lW:()=>Te,ot:()=>Fe});var _=R(5e3),z=R(508),m=R(6360),ue=R(8255);const de=["mat-button",""],xe=["*"],De=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],he=(0,z.pj)((0,z.Id)((0,z.Kr)(class{constructor(Ie){this._elementRef=Ie}})));let Te=(()=>{class Ie extends he{constructor(ot,Ue,lt){super(ot),this._focusMonitor=Ue,this._animationMode=lt,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Tt of De)this._hasHostAttributes(Tt)&&this._getHostElement().classList.add(Tt);ot.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ot,Ue){ot?this._focusMonitor.focusVia(this._getHostElement(),ot,Ue):this._getHostElement().focus(Ue)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...ot){return ot.some(Ue=>this._getHostElement().hasAttribute(Ue))}}return Ie.\u0275fac=function(ot){return new(ot||Ie)(_.Y36(_.SBq),_.Y36(ue.tE),_.Y36(m.Qb,8))},Ie.\u0275cmp=_.Xpm({type:Ie,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(ot,Ue){if(1&ot&&_.Gf(z.wG,5),2&ot){let lt;_.iGM(lt=_.CRH())&&(Ue.ripple=lt.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(ot,Ue){2&ot&&(_.uIk("disabled",Ue.disabled||null),_.ekj("_mat-animation-noopable","NoopAnimations"===Ue._animationMode)("mat-button-disabled",Ue.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[_.qOj],attrs:de,ngContentSelectors:xe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(ot,Ue){1&ot&&(_.F$t(),_.TgZ(0,"span",0),_.Hsn(1),_.qZA(),_._UZ(2,"span",1)(3,"span",2)),2&ot&&(_.xp6(2),_.ekj("mat-button-ripple-round",Ue.isRoundButton||Ue.isIconButton),_.Q6J("matRippleDisabled",Ue._isRippleDisabled())("matRippleCentered",Ue.isIconButton)("matRippleTrigger",Ue._getHostElement()))},directives:[z.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),Ie})(),Fe=(()=>{class Ie{}return Ie.\u0275fac=function(ot){return new(ot||Ie)},Ie.\u0275mod=_.oAB({type:Ie}),Ie.\u0275inj=_.cJS({imports:[[z.si,z.BQ],z.BQ]}),Ie})()},9224:(Ht,Qe,R)=>{R.d(Qe,{QW:()=>Ne,a8:()=>st});var _=R(5e3),z=R(6360),m=R(508);const ue=["*",[["mat-card-footer"]]],de=["*","mat-card-footer"];let st=(()=>{class ze{constructor(K){this._animationMode=K}}return ze.\u0275fac=function(K){return new(K||ze)(_.Y36(z.Qb,8))},ze.\u0275cmp=_.Xpm({type:ze,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(K,fe){2&K&&_.ekj("_mat-animation-noopable","NoopAnimations"===fe._animationMode)},exportAs:["matCard"],ngContentSelectors:de,decls:2,vars:0,template:function(K,fe){1&K&&(_.F$t(ue),_.Hsn(0),_.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),ze})(),Ne=(()=>{class ze{}return ze.\u0275fac=function(K){return new(K||ze)},ze.\u0275mod=_.oAB({type:ze}),ze.\u0275inj=_.cJS({imports:[[m.BQ],m.BQ]}),ze})()},508:(Ht,Qe,R)=>{R.d(Qe,{_A:()=>Ze,rD:()=>Vt,sG:()=>_t,BQ:()=>zt,XK:()=>Ft,Ng:()=>Ge,rN:()=>rn,wG:()=>dt,si:()=>ye,CB:()=>Hn,jH:()=>Vn,pj:()=>ze,Kr:()=>nt,Id:()=>Ne,FD:()=>fe,sb:()=>K});var _=R(5e3),z=R(226),ue=R(9808),de=R(925),xe=R(8255),Pe=R(3191),ke=R(7579),De=R(6360);const Tt=new _.OlP("mat-sanity-checks",{providedIn:"root",factory:function lt(){return!0}});let zt=(()=>{class H{constructor(U,ne,_e){this._sanityChecks=ne,this._document=_e,this._hasDoneGlobalChecks=!1,U._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(U){return!(0,de.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[U])}}return H.\u0275fac=function(U){return new(U||H)(_.LFG(xe.qm),_.LFG(Tt,8),_.LFG(ue.K0))},H.\u0275mod=_.oAB({type:H}),H.\u0275inj=_.cJS({imports:[[z.vT],z.vT]}),H})();function Ne(H){return class extends H{constructor(...I){super(...I),this._disabled=!1}get disabled(){return this._disabled}set disabled(I){this._disabled=(0,Pe.Ig)(I)}}}function ze(H,I){return class extends H{constructor(...U){super(...U),this.defaultColor=I,this.color=I}get color(){return this._color}set color(U){const ne=U||this.defaultColor;ne!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ne&&this._elementRef.nativeElement.classList.add(`mat-${ne}`),this._color=ne)}}}function nt(H){return class extends H{constructor(...I){super(...I),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(I){this._disableRipple=(0,Pe.Ig)(I)}}}function K(H,I=0){return class extends H{constructor(...U){super(...U),this._tabIndex=I,this.defaultTabIndex=I}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(U){this._tabIndex=null!=U?(0,Pe.su)(U):this.defaultTabIndex}}}function fe(H){return class extends H{constructor(...I){super(...I),this.stateChanges=new ke.x,this.errorState=!1}updateErrorState(){const I=this.errorState,yt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);yt!==I&&(this.errorState=yt,this.stateChanges.next())}}}const ct=new _.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function ht(){return(0,_.f3M)(_.soG)}});class Ze{constructor(){this._localeChanges=new ke.x,this.localeChanges=this._localeChanges}getValidDateOrNull(I){return this.isDateInstance(I)&&this.isValid(I)?I:null}deserialize(I){return null==I||this.isDateInstance(I)&&this.isValid(I)?I:this.invalid()}setLocale(I){this.locale=I,this._localeChanges.next()}compareDate(I,U){return this.getYear(I)-this.getYear(U)||this.getMonth(I)-this.getMonth(U)||this.getDate(I)-this.getDate(U)}sameDate(I,U){if(I&&U){let ne=this.isValid(I),_e=this.isValid(U);return ne&&_e?!this.compareDate(I,U):ne==_e}return I==U}clampDate(I,U,ne){return U&&this.compareDate(I,U)<0?U:ne&&this.compareDate(I,ne)>0?ne:I}}const _t=new _.OlP("mat-date-formats"),at=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Wt(H,I){const U=Array(H);for(let ne=0;ne<H;ne++)U[ne]=I(ne);return U}let xt=(()=>{class H extends Ze{constructor(U,ne){super(),this.useUtcForDisplay=!1,super.setLocale(U)}getYear(U){return U.getFullYear()}getMonth(U){return U.getMonth()}getDate(U){return U.getDate()}getDayOfWeek(U){return U.getDay()}getMonthNames(U){const ne=new Intl.DateTimeFormat(this.locale,{month:U,timeZone:"utc"});return Wt(12,_e=>this._format(ne,new Date(2017,_e,1)))}getDateNames(){const U=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Wt(31,ne=>this._format(U,new Date(2017,0,ne+1)))}getDayOfWeekNames(U){const ne=new Intl.DateTimeFormat(this.locale,{weekday:U,timeZone:"utc"});return Wt(7,_e=>this._format(ne,new Date(2017,0,_e+1)))}getYearName(U){const ne=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(ne,U)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(U){return this.getDate(this._createDateWithOverflow(this.getYear(U),this.getMonth(U)+1,0))}clone(U){return new Date(U.getTime())}createDate(U,ne,_e){let yt=this._createDateWithOverflow(U,ne,_e);return yt.getMonth(),yt}today(){return new Date}parse(U){return"number"==typeof U?new Date(U):U?new Date(Date.parse(U)):null}format(U,ne){if(!this.isValid(U))throw Error("NativeDateAdapter: Cannot format invalid date.");const _e=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},ne),{timeZone:"utc"}));return this._format(_e,U)}addCalendarYears(U,ne){return this.addCalendarMonths(U,12*ne)}addCalendarMonths(U,ne){let _e=this._createDateWithOverflow(this.getYear(U),this.getMonth(U)+ne,this.getDate(U));return this.getMonth(_e)!=((this.getMonth(U)+ne)%12+12)%12&&(_e=this._createDateWithOverflow(this.getYear(_e),this.getMonth(_e),0)),_e}addCalendarDays(U,ne){return this._createDateWithOverflow(this.getYear(U),this.getMonth(U),this.getDate(U)+ne)}toIso8601(U){return[U.getUTCFullYear(),this._2digit(U.getUTCMonth()+1),this._2digit(U.getUTCDate())].join("-")}deserialize(U){if("string"==typeof U){if(!U)return null;if(at.test(U)){let ne=new Date(U);if(this.isValid(ne))return ne}}return super.deserialize(U)}isDateInstance(U){return U instanceof Date}isValid(U){return!isNaN(U.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(U,ne,_e){const yt=new Date;return yt.setFullYear(U,ne,_e),yt.setHours(0,0,0,0),yt}_2digit(U){return("00"+U).slice(-2)}_format(U,ne){const _e=new Date;return _e.setUTCFullYear(ne.getFullYear(),ne.getMonth(),ne.getDate()),_e.setUTCHours(ne.getHours(),ne.getMinutes(),ne.getSeconds(),ne.getMilliseconds()),U.format(_e)}}return H.\u0275fac=function(U){return new(U||H)(_.LFG(ct,8),_.LFG(de.t4))},H.\u0275prov=_.Yz7({token:H,factory:H.\u0275fac}),H})();const Pt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let $t=(()=>{class H{}return H.\u0275fac=function(U){return new(U||H)},H.\u0275mod=_.oAB({type:H}),H.\u0275inj=_.cJS({providers:[{provide:Ze,useClass:xt}]}),H})(),Ft=(()=>{class H{}return H.\u0275fac=function(U){return new(U||H)},H.\u0275mod=_.oAB({type:H}),H.\u0275inj=_.cJS({providers:[{provide:_t,useValue:Pt}],imports:[[$t]]}),H})(),Vt=(()=>{class H{isErrorState(U,ne){return!!(U&&U.invalid&&(U.touched||ne&&ne.submitted))}}return H.\u0275fac=function(U){return new(U||H)},H.\u0275prov=_.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();class gt{constructor(I,U,ne){this._renderer=I,this.element=U,this.config=ne,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Nt={enterDuration:225,exitDuration:150},Qt=(0,de.i$)({passive:!0}),ln=["mousedown","touchstart"],fn=["mouseup","mouseleave","touchend","touchcancel"];class wt{constructor(I,U,ne,_e){this._target=I,this._ngZone=U,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,_e.isBrowser&&(this._containerElement=(0,Pe.fI)(ne))}fadeInRipple(I,U,ne={}){const _e=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),yt=Object.assign(Object.assign({},Nt),ne.animation);ne.centered&&(I=_e.left+_e.width/2,U=_e.top+_e.height/2);const Yt=ne.radius||function we(H,I,U){const ne=Math.max(Math.abs(H-U.left),Math.abs(H-U.right)),_e=Math.max(Math.abs(I-U.top),Math.abs(I-U.bottom));return Math.sqrt(ne*ne+_e*_e)}(I,U,_e),Tn=I-_e.left,xn=U-_e.top,An=yt.enterDuration,Yn=document.createElement("div");Yn.classList.add("mat-ripple-element"),Yn.style.left=Tn-Yt+"px",Yn.style.top=xn-Yt+"px",Yn.style.height=2*Yt+"px",Yn.style.width=2*Yt+"px",null!=ne.color&&(Yn.style.backgroundColor=ne.color),Yn.style.transitionDuration=`${An}ms`,this._containerElement.appendChild(Yn),function te(H){window.getComputedStyle(H).getPropertyValue("opacity")}(Yn),Yn.style.transform="scale(1)";const Wn=new gt(this,Yn,ne);return Wn.state=0,this._activeRipples.add(Wn),ne.persistent||(this._mostRecentTransientRipple=Wn),this._runTimeoutOutsideZone(()=>{const di=Wn===this._mostRecentTransientRipple;Wn.state=1,!ne.persistent&&(!di||!this._isPointerDown)&&Wn.fadeOut()},An),Wn}fadeOutRipple(I){const U=this._activeRipples.delete(I);if(I===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!U)return;const ne=I.element,_e=Object.assign(Object.assign({},Nt),I.config.animation);ne.style.transitionDuration=`${_e.exitDuration}ms`,ne.style.opacity="0",I.state=2,this._runTimeoutOutsideZone(()=>{I.state=3,ne.remove()},_e.exitDuration)}fadeOutAll(){this._activeRipples.forEach(I=>I.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(I=>{I.config.persistent||I.fadeOut()})}setupTriggerEvents(I){const U=(0,Pe.fI)(I);!U||U===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=U,this._registerEvents(ln))}handleEvent(I){"mousedown"===I.type?this._onMousedown(I):"touchstart"===I.type?this._onTouchStart(I):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(fn),this._pointerUpEventsRegistered=!0)}_onMousedown(I){const U=(0,xe.X6)(I),ne=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!U&&!ne&&(this._isPointerDown=!0,this.fadeInRipple(I.clientX,I.clientY,this._target.rippleConfig))}_onTouchStart(I){if(!this._target.rippleDisabled&&!(0,xe.yG)(I)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const U=I.changedTouches;for(let ne=0;ne<U.length;ne++)this.fadeInRipple(U[ne].clientX,U[ne].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(I=>{!I.config.persistent&&(1===I.state||I.config.terminateOnPointerUp&&0===I.state)&&I.fadeOut()}))}_runTimeoutOutsideZone(I,U=0){this._ngZone.runOutsideAngular(()=>setTimeout(I,U))}_registerEvents(I){this._ngZone.runOutsideAngular(()=>{I.forEach(U=>{this._triggerElement.addEventListener(U,this,Qt)})})}_removeTriggerEvents(){this._triggerElement&&(ln.forEach(I=>{this._triggerElement.removeEventListener(I,this,Qt)}),this._pointerUpEventsRegistered&&fn.forEach(I=>{this._triggerElement.removeEventListener(I,this,Qt)}))}}const We=new _.OlP("mat-ripple-global-options");let dt=(()=>{class H{constructor(U,ne,_e,yt,Yt){this._elementRef=U,this._animationMode=Yt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=yt||{},this._rippleRenderer=new wt(this,ne,U,_e)}get disabled(){return this._disabled}set disabled(U){U&&this.fadeOutAllNonPersistent(),this._disabled=U,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(U){this._trigger=U,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(U,ne=0,_e){return"number"==typeof U?this._rippleRenderer.fadeInRipple(U,ne,Object.assign(Object.assign({},this.rippleConfig),_e)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),U))}}return H.\u0275fac=function(U){return new(U||H)(_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(de.t4),_.Y36(We,8),_.Y36(De.Qb,8))},H.\u0275dir=_.lG2({type:H,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(U,ne){2&U&&_.ekj("mat-ripple-unbounded",ne.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),H})(),ye=(()=>{class H{}return H.\u0275fac=function(U){return new(U||H)},H.\u0275mod=_.oAB({type:H}),H.\u0275inj=_.cJS({imports:[[zt],zt]}),H})(),Y=(()=>{class H{}return H.\u0275fac=function(U){return new(U||H)},H.\u0275mod=_.oAB({type:H}),H.\u0275inj=_.cJS({imports:[[zt]]}),H})();class rn{constructor(I,U=!1){this.source=I,this.isUserInput=U}}function Hn(H,I,U){if(U.length){let ne=I.toArray(),_e=U.toArray(),yt=0;for(let Yt=0;Yt<H+1;Yt++)ne[Yt].group&&ne[Yt].group===_e[yt]&&yt++;return yt}return 0}function Vn(H,I,U,ne){return H<U?H:H+I>U+ne?Math.max(0,H-ne+I):U}let Ge=(()=>{class H{}return H.\u0275fac=function(U){return new(U||H)},H.\u0275mod=_.oAB({type:H}),H.\u0275inj=_.cJS({imports:[[ye,ue.ez,zt,Y]]}),H})()},8966:(Ht,Qe,R)=>{R.d(Qe,{Is:()=>tt,WI:()=>K,so:()=>ze,uw:()=>at});var _=R(1314),z=R(7429),m=R(5e3),ue=R(508),de=R(226),xe=R(7579),Pe=R(9770),ke=R(9646),De=R(9300),he=R(5698),Te=R(5965),Ee=R(925),Fe=R(9808),Ie=R(1777),Ae=R(8255),ot=R(1159),Ue=R(6360);function lt(je,et){}class Tt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const zt={dialogContainer:(0,Ie.X$)("dialogContainer",[(0,Ie.SB)("void, exit",(0,Ie.oB)({opacity:0,transform:"scale(0.7)"})),(0,Ie.SB)("enter",(0,Ie.oB)({transform:"none"})),(0,Ie.eR)("* => enter",(0,Ie.ru)([(0,Ie.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,Ie.oB)({transform:"none",opacity:1})),(0,Ie.IO)("@*",(0,Ie.pV)(),{optional:!0})])),(0,Ie.eR)("* => void, * => exit",(0,Ie.ru)([(0,Ie.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Ie.oB)({opacity:0})),(0,Ie.IO)("@*",(0,Ie.pV)(),{optional:!0})]))])};let ve=(()=>{class je extends z.en{constructor(Oe,gt,Nt,Kt,Qt,ln,fn,wt){super(),this._elementRef=Oe,this._focusTrapFactory=gt,this._changeDetectorRef=Nt,this._config=Qt,this._interactivityChecker=ln,this._ngZone=fn,this._focusMonitor=wt,this._animationStateChanged=new m.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=te=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(te)),this._ariaLabelledBy=Qt.ariaLabelledBy||null,this._document=Kt}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Ee.ht)())}attachComponentPortal(Oe){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(Oe)}attachTemplatePortal(Oe){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(Oe)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Oe,gt){this._interactivityChecker.isFocusable(Oe)||(Oe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Nt=()=>{Oe.removeEventListener("blur",Nt),Oe.removeEventListener("mousedown",Nt),Oe.removeAttribute("tabindex")};Oe.addEventListener("blur",Nt),Oe.addEventListener("mousedown",Nt)})),Oe.focus(gt)}_focusByCssSelector(Oe,gt){let Nt=this._elementRef.nativeElement.querySelector(Oe);Nt&&this._forceFocus(Nt,gt)}_trapFocus(){const Oe=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Oe.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(gt=>{gt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Oe=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&Oe&&"function"==typeof Oe.focus){const gt=(0,Ee.ht)(),Nt=this._elementRef.nativeElement;(!gt||gt===this._document.body||gt===Nt||Nt.contains(gt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Oe,this._closeInteractionType),this._closeInteractionType=null):Oe.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Oe=this._elementRef.nativeElement,gt=(0,Ee.ht)();return Oe===gt||Oe.contains(gt)}}return je.\u0275fac=function(Oe){return new(Oe||je)(m.Y36(m.SBq),m.Y36(Ae.qV),m.Y36(m.sBO),m.Y36(Fe.K0,8),m.Y36(Tt),m.Y36(Ae.ic),m.Y36(m.R0b),m.Y36(Ae.tE))},je.\u0275dir=m.lG2({type:je,viewQuery:function(Oe,gt){if(1&Oe&&m.Gf(z.Pl,7),2&Oe){let Nt;m.iGM(Nt=m.CRH())&&(gt._portalOutlet=Nt.first)}},features:[m.qOj]}),je})(),me=(()=>{class je extends ve{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:Oe,totalTime:gt}){"enter"===Oe?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:gt})):"exit"===Oe&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:gt}))}_onAnimationStart({toState:Oe,totalTime:gt}){"enter"===Oe?this._animationStateChanged.next({state:"opening",totalTime:gt}):("exit"===Oe||"void"===Oe)&&this._animationStateChanged.next({state:"closing",totalTime:gt})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return je.\u0275fac=function(){let et;return function(gt){return(et||(et=m.n5z(je)))(gt||je)}}(),je.\u0275cmp=m.Xpm({type:je,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(Oe,gt){1&Oe&&m.WFA("@dialogContainer.start",function(Kt){return gt._onAnimationStart(Kt)})("@dialogContainer.done",function(Kt){return gt._onAnimationDone(Kt)}),2&Oe&&(m.Ikx("id",gt._id),m.uIk("role",gt._config.role)("aria-labelledby",gt._config.ariaLabel?null:gt._ariaLabelledBy)("aria-label",gt._config.ariaLabel)("aria-describedby",gt._config.ariaDescribedBy||null),m.d8E("@dialogContainer",gt._state))},features:[m.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Oe,gt){1&Oe&&m.YNc(0,lt,0,0,"ng-template",0)},directives:[z.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[zt.dialogContainer]}}),je})(),Ne=0;class ze{constructor(et,Oe,gt="mat-dialog-"+Ne++){this._overlayRef=et,this._containerInstance=Oe,this.id=gt,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new xe.x,this._afterClosed=new xe.x,this._beforeClosed=new xe.x,this._state=0,Oe._id=gt,Oe._animationStateChanged.pipe((0,De.h)(Nt=>"opened"===Nt.state),(0,he.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Oe._animationStateChanged.pipe((0,De.h)(Nt=>"closed"===Nt.state),(0,he.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),et.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),et.keydownEvents().pipe((0,De.h)(Nt=>Nt.keyCode===ot.hY&&!this.disableClose&&!(0,ot.Vb)(Nt))).subscribe(Nt=>{Nt.preventDefault(),nt(this,"keyboard")}),et.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():nt(this,"mouse")})}close(et){this._result=et,this._containerInstance._animationStateChanged.pipe((0,De.h)(Oe=>"closing"===Oe.state),(0,he.q)(1)).subscribe(Oe=>{this._beforeClosed.next(et),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Oe.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(et){let Oe=this._getPositionStrategy();return et&&(et.left||et.right)?et.left?Oe.left(et.left):Oe.right(et.right):Oe.centerHorizontally(),et&&(et.top||et.bottom)?et.top?Oe.top(et.top):Oe.bottom(et.bottom):Oe.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(et="",Oe=""){return this._overlayRef.updateSize({width:et,height:Oe}),this._overlayRef.updatePosition(),this}addPanelClass(et){return this._overlayRef.addPanelClass(et),this}removePanelClass(et){return this._overlayRef.removePanelClass(et),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function nt(je,et,Oe){return void 0!==je._containerInstance&&(je._containerInstance._closeInteractionType=et),je.close(Oe)}const K=new m.OlP("MatDialogData"),fe=new m.OlP("mat-dialog-default-options"),Xe=new m.OlP("mat-dialog-scroll-strategy"),Ze={provide:Xe,deps:[_.aV],useFactory:function ht(je){return()=>je.scrollStrategies.block()}};let _t=(()=>{class je{constructor(Oe,gt,Nt,Kt,Qt,ln,fn,wt,te,we){this._overlay=Oe,this._injector=gt,this._defaultOptions=Nt,this._parentDialog=Kt,this._overlayContainer=Qt,this._dialogRefConstructor=fn,this._dialogContainerType=wt,this._dialogDataToken=te,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new xe.x,this._afterOpenedAtThisLevel=new xe.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Pe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Te.O)(void 0))),this._scrollStrategy=ln}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Oe=this._parentDialog;return Oe?Oe._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(Oe,gt){gt=function Wt(je,et){return Object.assign(Object.assign({},et),je)}(gt,this._defaultOptions||new Tt),gt.id&&this.getDialogById(gt.id);const Nt=this._createOverlay(gt),Kt=this._attachDialogContainer(Nt,gt),Qt=this._attachDialogContent(Oe,Kt,Nt,gt);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Qt),Qt.afterClosed().subscribe(()=>this._removeOpenDialog(Qt)),this.afterOpened.next(Qt),Kt._initializeWithAttachedContent(),Qt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Oe){return this.openDialogs.find(gt=>gt.id===Oe)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(Oe){const gt=this._getOverlayConfig(Oe);return this._overlay.create(gt)}_getOverlayConfig(Oe){const gt=new _.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:Oe.scrollStrategy||this._scrollStrategy(),panelClass:Oe.panelClass,hasBackdrop:Oe.hasBackdrop,direction:Oe.direction,minWidth:Oe.minWidth,minHeight:Oe.minHeight,maxWidth:Oe.maxWidth,maxHeight:Oe.maxHeight,disposeOnNavigation:Oe.closeOnNavigation});return Oe.backdropClass&&(gt.backdropClass=Oe.backdropClass),gt}_attachDialogContainer(Oe,gt){const Kt=m.zs3.create({parent:gt&&gt.viewContainerRef&&gt.viewContainerRef.injector||this._injector,providers:[{provide:Tt,useValue:gt}]}),Qt=new z.C5(this._dialogContainerType,gt.viewContainerRef,Kt,gt.componentFactoryResolver);return Oe.attach(Qt).instance}_attachDialogContent(Oe,gt,Nt,Kt){const Qt=new this._dialogRefConstructor(Nt,gt,Kt.id);if(Oe instanceof m.Rgc)gt.attachTemplatePortal(new z.UE(Oe,null,{$implicit:Kt.data,dialogRef:Qt}));else{const ln=this._createInjector(Kt,Qt,gt),fn=gt.attachComponentPortal(new z.C5(Oe,Kt.viewContainerRef,ln,Kt.componentFactoryResolver));Qt.componentInstance=fn.instance}return Qt.updateSize(Kt.width,Kt.height).updatePosition(Kt.position),Qt}_createInjector(Oe,gt,Nt){const Kt=Oe&&Oe.viewContainerRef&&Oe.viewContainerRef.injector,Qt=[{provide:this._dialogContainerType,useValue:Nt},{provide:this._dialogDataToken,useValue:Oe.data},{provide:this._dialogRefConstructor,useValue:gt}];return Oe.direction&&(!Kt||!Kt.get(de.Is,null,m.XFs.Optional))&&Qt.push({provide:de.Is,useValue:{value:Oe.direction,change:(0,ke.of)()}}),m.zs3.create({parent:Kt||this._injector,providers:Qt})}_removeOpenDialog(Oe){const gt=this.openDialogs.indexOf(Oe);gt>-1&&(this.openDialogs.splice(gt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Nt,Kt)=>{Nt?Kt.setAttribute("aria-hidden",Nt):Kt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Oe=this._overlayContainer.getContainerElement();if(Oe.parentElement){const gt=Oe.parentElement.children;for(let Nt=gt.length-1;Nt>-1;Nt--){let Kt=gt[Nt];Kt!==Oe&&"SCRIPT"!==Kt.nodeName&&"STYLE"!==Kt.nodeName&&!Kt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Kt,Kt.getAttribute("aria-hidden")),Kt.setAttribute("aria-hidden","true"))}}}_closeDialogs(Oe){let gt=Oe.length;for(;gt--;)Oe[gt].close()}}return je.\u0275fac=function(Oe){m.$Z()},je.\u0275dir=m.lG2({type:je}),je})(),at=(()=>{class je extends _t{constructor(Oe,gt,Nt,Kt,Qt,ln,fn,wt){super(Oe,gt,Kt,ln,fn,Qt,ze,me,K,wt)}}return je.\u0275fac=function(Oe){return new(Oe||je)(m.LFG(_.aV),m.LFG(m.zs3),m.LFG(Fe.Ye,8),m.LFG(fe,8),m.LFG(Xe),m.LFG(je,12),m.LFG(_.Xj),m.LFG(Ue.Qb,8))},je.\u0275prov=m.Yz7({token:je,factory:je.\u0275fac}),je})(),tt=(()=>{class je{}return je.\u0275fac=function(Oe){return new(Oe||je)},je.\u0275mod=m.oAB({type:je}),je.\u0275inj=m.cJS({providers:[at,Ze],imports:[[_.U8,z.eL,ue.BQ],ue.BQ]}),je})()},4834:(Ht,Qe,R)=>{R.d(Qe,{d:()=>ue,t:()=>de});var _=R(5e3),z=R(3191),m=R(508);let ue=(()=>{class xe{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(ke){this._vertical=(0,z.Ig)(ke)}get inset(){return this._inset}set inset(ke){this._inset=(0,z.Ig)(ke)}}return xe.\u0275fac=function(ke){return new(ke||xe)},xe.\u0275cmp=_.Xpm({type:xe,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(ke,De){2&ke&&(_.uIk("aria-orientation",De.vertical?"vertical":"horizontal"),_.ekj("mat-divider-vertical",De.vertical)("mat-divider-horizontal",!De.vertical)("mat-divider-inset",De.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(ke,De){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),xe})(),de=(()=>{class xe{}return xe.\u0275fac=function(ke){return new(ke||xe)},xe.\u0275mod=_.oAB({type:xe}),xe.\u0275inj=_.cJS({imports:[[m.BQ],m.BQ]}),xe})()},7322:(Ht,Qe,R)=>{R.d(Qe,{Eo:()=>xt,G_:()=>we,KE:()=>We,TO:()=>at,hX:()=>je,lN:()=>dt});var _=R(6564),z=R(9808),m=R(5e3),ue=R(508),de=R(3191),xe=R(7579),Pe=R(6451),ke=R(4968),De=R(5965),he=R(2722),Te=R(5698),Ee=R(1777),Fe=R(6360),Ie=R(226),Ae=R(925);const ot=["connectionContainer"],Ue=["inputContainer"],lt=["label"];function Tt(ye,Re){1&ye&&(m.ynx(0),m.TgZ(1,"div",14),m._UZ(2,"div",15)(3,"div",16)(4,"div",17),m.qZA(),m.TgZ(5,"div",18),m._UZ(6,"div",15)(7,"div",16)(8,"div",17),m.qZA(),m.BQk())}function zt(ye,Re){if(1&ye){const Y=m.EpF();m.TgZ(0,"div",19),m.NdJ("cdkObserveContent",function(){return m.CHM(Y),m.oxw().updateOutlineGap()}),m.Hsn(1,1),m.qZA()}if(2&ye){const Y=m.oxw();m.Q6J("cdkObserveContentDisabled","outline"!=Y.appearance)}}function st(ye,Re){if(1&ye&&(m.ynx(0),m.Hsn(1,2),m.TgZ(2,"span"),m._uU(3),m.qZA(),m.BQk()),2&ye){const Y=m.oxw(2);m.xp6(3),m.Oqu(Y._control.placeholder)}}function ve(ye,Re){1&ye&&m.Hsn(0,3,["*ngSwitchCase","true"])}function me(ye,Re){1&ye&&(m.TgZ(0,"span",23),m._uU(1," *"),m.qZA())}function Ne(ye,Re){if(1&ye){const Y=m.EpF();m.TgZ(0,"label",20,21),m.NdJ("cdkObserveContent",function(){return m.CHM(Y),m.oxw().updateOutlineGap()}),m.YNc(2,st,4,1,"ng-container",12),m.YNc(3,ve,1,0,"ng-content",12),m.YNc(4,me,2,0,"span",22),m.qZA()}if(2&ye){const Y=m.oxw();m.ekj("mat-empty",Y._control.empty&&!Y._shouldAlwaysFloat())("mat-form-field-empty",Y._control.empty&&!Y._shouldAlwaysFloat())("mat-accent","accent"==Y.color)("mat-warn","warn"==Y.color),m.Q6J("cdkObserveContentDisabled","outline"!=Y.appearance)("id",Y._labelId)("ngSwitch",Y._hasLabel()),m.uIk("for",Y._control.id)("aria-owns",Y._control.id),m.xp6(2),m.Q6J("ngSwitchCase",!1),m.xp6(1),m.Q6J("ngSwitchCase",!0),m.xp6(1),m.Q6J("ngIf",!Y.hideRequiredMarker&&Y._control.required&&!Y._control.disabled)}}function ze(ye,Re){1&ye&&(m.TgZ(0,"div",24),m.Hsn(1,4),m.qZA())}function nt(ye,Re){if(1&ye&&(m.TgZ(0,"div",25),m._UZ(1,"span",26),m.qZA()),2&ye){const Y=m.oxw();m.xp6(1),m.ekj("mat-accent","accent"==Y.color)("mat-warn","warn"==Y.color)}}function K(ye,Re){if(1&ye&&(m.TgZ(0,"div"),m.Hsn(1,5),m.qZA()),2&ye){const Y=m.oxw();m.Q6J("@transitionMessages",Y._subscriptAnimationState)}}function fe(ye,Re){if(1&ye&&(m.TgZ(0,"div",30),m._uU(1),m.qZA()),2&ye){const Y=m.oxw(2);m.Q6J("id",Y._hintLabelId),m.xp6(1),m.Oqu(Y.hintLabel)}}function Xe(ye,Re){if(1&ye&&(m.TgZ(0,"div",27),m.YNc(1,fe,2,2,"div",28),m.Hsn(2,6),m._UZ(3,"div",29),m.Hsn(4,7),m.qZA()),2&ye){const Y=m.oxw();m.Q6J("@transitionMessages",Y._subscriptAnimationState),m.xp6(1),m.Q6J("ngIf",Y.hintLabel)}}const ct=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ht=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ze=0;const _t=new m.OlP("MatError");let at=(()=>{class ye{constructor(Y,q){this.id="mat-error-"+Ze++,Y||q.nativeElement.setAttribute("aria-live","polite")}}return ye.\u0275fac=function(Y){return new(Y||ye)(m.$8M("aria-live"),m.Y36(m.SBq))},ye.\u0275dir=m.lG2({type:ye,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(Y,q){2&Y&&m.uIk("id",q.id)},inputs:{id:"id"},features:[m._Bn([{provide:_t,useExisting:ye}])]}),ye})();const Wt={transitionMessages:(0,Ee.X$)("transitionMessages",[(0,Ee.SB)("enter",(0,Ee.oB)({opacity:1,transform:"translateY(0%)"})),(0,Ee.eR)("void => enter",[(0,Ee.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Ee.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let xt=(()=>{class ye{}return ye.\u0275fac=function(Y){return new(Y||ye)},ye.\u0275dir=m.lG2({type:ye}),ye})();const Vt=new m.OlP("MatHint");let je=(()=>{class ye{}return ye.\u0275fac=function(Y){return new(Y||ye)},ye.\u0275dir=m.lG2({type:ye,selectors:[["mat-label"]]}),ye})(),et=(()=>{class ye{}return ye.\u0275fac=function(Y){return new(Y||ye)},ye.\u0275dir=m.lG2({type:ye,selectors:[["mat-placeholder"]]}),ye})();const Oe=new m.OlP("MatPrefix"),Nt=new m.OlP("MatSuffix");let Qt=0;const wt=(0,ue.pj)(class{constructor(ye){this._elementRef=ye}},"primary"),te=new m.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),we=new m.OlP("MatFormField");let We=(()=>{class ye extends wt{constructor(Y,q,oe,Ve,it,bt,It){super(Y),this._changeDetectorRef=q,this._dir=oe,this._defaults=Ve,this._platform=it,this._ngZone=bt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new xe.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Qt++,this._labelId="mat-form-field-label-"+Qt++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==It,this.appearance=Ve&&Ve.appearance?Ve.appearance:"legacy",this._hideRequiredMarker=!(!Ve||null==Ve.hideRequiredMarker)&&Ve.hideRequiredMarker}get appearance(){return this._appearance}set appearance(Y){const q=this._appearance;this._appearance=Y||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&q!==Y&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Y){this._hideRequiredMarker=(0,de.Ig)(Y)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Y){this._hintLabel=Y,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Y){Y!==this._floatLabel&&(this._floatLabel=Y||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Y){this._explicitFormFieldControl=Y}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Y=this._control;Y.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Y.controlType}`),Y.stateChanges.pipe((0,De.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Y.ngControl&&Y.ngControl.valueChanges&&Y.ngControl.valueChanges.pipe((0,he.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,he.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Pe.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,De.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,De.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,he.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Y){const q=this._control?this._control.ngControl:null;return q&&q[Y]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,ke.R)(this._label.nativeElement,"transitionend").pipe((0,Te.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Y=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Y.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const q=this._hintChildren?this._hintChildren.find(Ve=>"start"===Ve.align):null,oe=this._hintChildren?this._hintChildren.find(Ve=>"end"===Ve.align):null;q?Y.push(q.id):this._hintLabel&&Y.push(this._hintLabelId),oe&&Y.push(oe.id)}else this._errorChildren&&Y.push(...this._errorChildren.map(q=>q.id));this._control.setDescribedByIds(Y)}}_validateControlChild(){}updateOutlineGap(){const Y=this._label?this._label.nativeElement:null,q=this._connectionContainerRef.nativeElement,oe=".mat-form-field-outline-start",Ve=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Y||!Y.children.length||!Y.textContent.trim()){const rn=q.querySelectorAll(`${oe}, ${Ve}`);for(let un=0;un<rn.length;un++)rn[un].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let it=0,bt=0;const It=q.querySelectorAll(oe),pn=q.querySelectorAll(Ve);if(this._label&&this._label.nativeElement.children.length){const rn=q.getBoundingClientRect();if(0===rn.width&&0===rn.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const un=this._getStartEnd(rn),$n=Y.children,Hn=this._getStartEnd($n[0].getBoundingClientRect());let Vn=0;for(let Ge=0;Ge<$n.length;Ge++)Vn+=$n[Ge].offsetWidth;it=Math.abs(Hn-un)-5,bt=Vn>0?.75*Vn+10:0}for(let rn=0;rn<It.length;rn++)It[rn].style.width=`${it}px`;for(let rn=0;rn<pn.length;rn++)pn[rn].style.width=`${bt}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Y){return this._dir&&"rtl"===this._dir.value?Y.right:Y.left}_isAttachedToDOM(){const Y=this._elementRef.nativeElement;if(Y.getRootNode){const q=Y.getRootNode();return q&&q!==Y}return document.documentElement.contains(Y)}}return ye.\u0275fac=function(Y){return new(Y||ye)(m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(Ie.Is,8),m.Y36(te,8),m.Y36(Ae.t4),m.Y36(m.R0b),m.Y36(Fe.Qb,8))},ye.\u0275cmp=m.Xpm({type:ye,selectors:[["mat-form-field"]],contentQueries:function(Y,q,oe){if(1&Y&&(m.Suo(oe,xt,5),m.Suo(oe,xt,7),m.Suo(oe,je,5),m.Suo(oe,je,7),m.Suo(oe,et,5),m.Suo(oe,_t,5),m.Suo(oe,Vt,5),m.Suo(oe,Oe,5),m.Suo(oe,Nt,5)),2&Y){let Ve;m.iGM(Ve=m.CRH())&&(q._controlNonStatic=Ve.first),m.iGM(Ve=m.CRH())&&(q._controlStatic=Ve.first),m.iGM(Ve=m.CRH())&&(q._labelChildNonStatic=Ve.first),m.iGM(Ve=m.CRH())&&(q._labelChildStatic=Ve.first),m.iGM(Ve=m.CRH())&&(q._placeholderChild=Ve.first),m.iGM(Ve=m.CRH())&&(q._errorChildren=Ve),m.iGM(Ve=m.CRH())&&(q._hintChildren=Ve),m.iGM(Ve=m.CRH())&&(q._prefixChildren=Ve),m.iGM(Ve=m.CRH())&&(q._suffixChildren=Ve)}},viewQuery:function(Y,q){if(1&Y&&(m.Gf(ot,7),m.Gf(Ue,5),m.Gf(lt,5)),2&Y){let oe;m.iGM(oe=m.CRH())&&(q._connectionContainerRef=oe.first),m.iGM(oe=m.CRH())&&(q._inputContainerRef=oe.first),m.iGM(oe=m.CRH())&&(q._label=oe.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Y,q){2&Y&&m.ekj("mat-form-field-appearance-standard","standard"==q.appearance)("mat-form-field-appearance-fill","fill"==q.appearance)("mat-form-field-appearance-outline","outline"==q.appearance)("mat-form-field-appearance-legacy","legacy"==q.appearance)("mat-form-field-invalid",q._control.errorState)("mat-form-field-can-float",q._canLabelFloat())("mat-form-field-should-float",q._shouldLabelFloat())("mat-form-field-has-label",q._hasFloatingLabel())("mat-form-field-hide-placeholder",q._hideControlPlaceholder())("mat-form-field-disabled",q._control.disabled)("mat-form-field-autofilled",q._control.autofilled)("mat-focused",q._control.focused)("ng-untouched",q._shouldForward("untouched"))("ng-touched",q._shouldForward("touched"))("ng-pristine",q._shouldForward("pristine"))("ng-dirty",q._shouldForward("dirty"))("ng-valid",q._shouldForward("valid"))("ng-invalid",q._shouldForward("invalid"))("ng-pending",q._shouldForward("pending"))("_mat-animation-noopable",!q._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[m._Bn([{provide:we,useExisting:ye}]),m.qOj],ngContentSelectors:ht,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Y,q){1&Y&&(m.F$t(ct),m.TgZ(0,"div",0)(1,"div",1,2),m.NdJ("click",function(Ve){return q._control.onContainerClick&&q._control.onContainerClick(Ve)}),m.YNc(3,Tt,9,0,"ng-container",3),m.YNc(4,zt,2,1,"div",4),m.TgZ(5,"div",5,6),m.Hsn(7),m.TgZ(8,"span",7),m.YNc(9,Ne,5,16,"label",8),m.qZA()(),m.YNc(10,ze,2,0,"div",9),m.qZA(),m.YNc(11,nt,2,4,"div",10),m.TgZ(12,"div",11),m.YNc(13,K,2,1,"div",12),m.YNc(14,Xe,5,2,"div",13),m.qZA()()),2&Y&&(m.xp6(3),m.Q6J("ngIf","outline"==q.appearance),m.xp6(1),m.Q6J("ngIf",q._prefixChildren.length),m.xp6(5),m.Q6J("ngIf",q._hasFloatingLabel()),m.xp6(1),m.Q6J("ngIf",q._suffixChildren.length),m.xp6(1),m.Q6J("ngIf","outline"!=q.appearance),m.xp6(1),m.Q6J("ngSwitch",q._getDisplayedMessages()),m.xp6(1),m.Q6J("ngSwitchCase","error"),m.xp6(1),m.Q6J("ngSwitchCase","hint"))},directives:[z.O5,_.wD,z.RF,z.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Wt.transitionMessages]},changeDetection:0}),ye})(),dt=(()=>{class ye{}return ye.\u0275fac=function(Y){return new(Y||ye)},ye.\u0275mod=m.oAB({type:ye}),ye.\u0275inj=m.cJS({imports:[[z.ez,ue.BQ,_.Q8],ue.BQ]}),ye})()},5245:(Ht,Qe,R)=>{R.d(Qe,{Hw:()=>$t,Ps:()=>Ft});var _=R(5e3),z=R(508),m=R(3191),ue=R(9808),de=R(9646),xe=R(2843),Pe=R(4128),ke=R(727),De=R(8505),he=R(4004),Te=R(262),Ee=R(8746),Fe=R(3099),Ie=R(5698),Ae=R(520),ot=R(2313);const Ue=["*"];let lt;function zt(Et){var Vt;return(null===(Vt=function Tt(){if(void 0===lt&&(lt=null,"undefined"!=typeof window)){const Et=window;void 0!==Et.trustedTypes&&(lt=Et.trustedTypes.createPolicy("angular#components",{createHTML:Vt=>Vt}))}return lt}())||void 0===Vt?void 0:Vt.createHTML(Et))||Et}function st(Et){return Error(`Unable to find icon with the name "${Et}"`)}function me(Et){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Et}".`)}function Ne(Et){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Et}".`)}class ze{constructor(Vt,tt,je){this.url=Vt,this.svgText=tt,this.options=je}}let nt=(()=>{class Et{constructor(tt,je,et,Oe){this._httpClient=tt,this._sanitizer=je,this._errorHandler=Oe,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=et}addSvgIcon(tt,je,et){return this.addSvgIconInNamespace("",tt,je,et)}addSvgIconLiteral(tt,je,et){return this.addSvgIconLiteralInNamespace("",tt,je,et)}addSvgIconInNamespace(tt,je,et,Oe){return this._addSvgIconConfig(tt,je,new ze(et,null,Oe))}addSvgIconResolver(tt){return this._resolvers.push(tt),this}addSvgIconLiteralInNamespace(tt,je,et,Oe){const gt=this._sanitizer.sanitize(_.q3G.HTML,et);if(!gt)throw Ne(et);const Nt=zt(gt);return this._addSvgIconConfig(tt,je,new ze("",Nt,Oe))}addSvgIconSet(tt,je){return this.addSvgIconSetInNamespace("",tt,je)}addSvgIconSetLiteral(tt,je){return this.addSvgIconSetLiteralInNamespace("",tt,je)}addSvgIconSetInNamespace(tt,je,et){return this._addSvgIconSetConfig(tt,new ze(je,null,et))}addSvgIconSetLiteralInNamespace(tt,je,et){const Oe=this._sanitizer.sanitize(_.q3G.HTML,je);if(!Oe)throw Ne(je);const gt=zt(Oe);return this._addSvgIconSetConfig(tt,new ze("",gt,et))}registerFontClassAlias(tt,je=tt){return this._fontCssClassesByAlias.set(tt,je),this}classNameForFontAlias(tt){return this._fontCssClassesByAlias.get(tt)||tt}setDefaultFontSetClass(tt){return this._defaultFontSetClass=tt,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(tt){const je=this._sanitizer.sanitize(_.q3G.RESOURCE_URL,tt);if(!je)throw me(tt);const et=this._cachedIconsByUrl.get(je);return et?(0,de.of)(Xe(et)):this._loadSvgIconFromConfig(new ze(tt,null)).pipe((0,De.b)(Oe=>this._cachedIconsByUrl.set(je,Oe)),(0,he.U)(Oe=>Xe(Oe)))}getNamedSvgIcon(tt,je=""){const et=ct(je,tt);let Oe=this._svgIconConfigs.get(et);if(Oe)return this._getSvgFromConfig(Oe);if(Oe=this._getIconConfigFromResolvers(je,tt),Oe)return this._svgIconConfigs.set(et,Oe),this._getSvgFromConfig(Oe);const gt=this._iconSetConfigs.get(je);return gt?this._getSvgFromIconSetConfigs(tt,gt):(0,xe._)(st(et))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(tt){return tt.svgText?(0,de.of)(Xe(this._svgElementFromConfig(tt))):this._loadSvgIconFromConfig(tt).pipe((0,he.U)(je=>Xe(je)))}_getSvgFromIconSetConfigs(tt,je){const et=this._extractIconWithNameFromAnySet(tt,je);if(et)return(0,de.of)(et);const Oe=je.filter(gt=>!gt.svgText).map(gt=>this._loadSvgIconSetFromConfig(gt).pipe((0,Te.K)(Nt=>{const Qt=`Loading icon set URL: ${this._sanitizer.sanitize(_.q3G.RESOURCE_URL,gt.url)} failed: ${Nt.message}`;return this._errorHandler.handleError(new Error(Qt)),(0,de.of)(null)})));return(0,Pe.D)(Oe).pipe((0,he.U)(()=>{const gt=this._extractIconWithNameFromAnySet(tt,je);if(!gt)throw st(tt);return gt}))}_extractIconWithNameFromAnySet(tt,je){for(let et=je.length-1;et>=0;et--){const Oe=je[et];if(Oe.svgText&&Oe.svgText.toString().indexOf(tt)>-1){const gt=this._svgElementFromConfig(Oe),Nt=this._extractSvgIconFromSet(gt,tt,Oe.options);if(Nt)return Nt}}return null}_loadSvgIconFromConfig(tt){return this._fetchIcon(tt).pipe((0,De.b)(je=>tt.svgText=je),(0,he.U)(()=>this._svgElementFromConfig(tt)))}_loadSvgIconSetFromConfig(tt){return tt.svgText?(0,de.of)(null):this._fetchIcon(tt).pipe((0,De.b)(je=>tt.svgText=je))}_extractSvgIconFromSet(tt,je,et){const Oe=tt.querySelector(`[id="${je}"]`);if(!Oe)return null;const gt=Oe.cloneNode(!0);if(gt.removeAttribute("id"),"svg"===gt.nodeName.toLowerCase())return this._setSvgAttributes(gt,et);if("symbol"===gt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(gt),et);const Nt=this._svgElementFromString(zt("<svg></svg>"));return Nt.appendChild(gt),this._setSvgAttributes(Nt,et)}_svgElementFromString(tt){const je=this._document.createElement("DIV");je.innerHTML=tt;const et=je.querySelector("svg");if(!et)throw Error("<svg> tag not found");return et}_toSvgElement(tt){const je=this._svgElementFromString(zt("<svg></svg>")),et=tt.attributes;for(let Oe=0;Oe<et.length;Oe++){const{name:gt,value:Nt}=et[Oe];"id"!==gt&&je.setAttribute(gt,Nt)}for(let Oe=0;Oe<tt.childNodes.length;Oe++)tt.childNodes[Oe].nodeType===this._document.ELEMENT_NODE&&je.appendChild(tt.childNodes[Oe].cloneNode(!0));return je}_setSvgAttributes(tt,je){return tt.setAttribute("fit",""),tt.setAttribute("height","100%"),tt.setAttribute("width","100%"),tt.setAttribute("preserveAspectRatio","xMidYMid meet"),tt.setAttribute("focusable","false"),je&&je.viewBox&&tt.setAttribute("viewBox",je.viewBox),tt}_fetchIcon(tt){var je;const{url:et,options:Oe}=tt,gt=null!==(je=null==Oe?void 0:Oe.withCredentials)&&void 0!==je&&je;if(!this._httpClient)throw function ve(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==et)throw Error(`Cannot fetch icon from URL "${et}".`);const Nt=this._sanitizer.sanitize(_.q3G.RESOURCE_URL,et);if(!Nt)throw me(et);const Kt=this._inProgressUrlFetches.get(Nt);if(Kt)return Kt;const Qt=this._httpClient.get(Nt,{responseType:"text",withCredentials:gt}).pipe((0,he.U)(ln=>zt(ln)),(0,Ee.x)(()=>this._inProgressUrlFetches.delete(Nt)),(0,Fe.B)());return this._inProgressUrlFetches.set(Nt,Qt),Qt}_addSvgIconConfig(tt,je,et){return this._svgIconConfigs.set(ct(tt,je),et),this}_addSvgIconSetConfig(tt,je){const et=this._iconSetConfigs.get(tt);return et?et.push(je):this._iconSetConfigs.set(tt,[je]),this}_svgElementFromConfig(tt){if(!tt.svgElement){const je=this._svgElementFromString(tt.svgText);this._setSvgAttributes(je,tt.options),tt.svgElement=je}return tt.svgElement}_getIconConfigFromResolvers(tt,je){for(let et=0;et<this._resolvers.length;et++){const Oe=this._resolvers[et](je,tt);if(Oe)return ht(Oe)?new ze(Oe.url,null,Oe.options):new ze(Oe,null)}}}return Et.\u0275fac=function(tt){return new(tt||Et)(_.LFG(Ae.eN,8),_.LFG(ot.H7),_.LFG(ue.K0,8),_.LFG(_.qLn))},Et.\u0275prov=_.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et})();function Xe(Et){return Et.cloneNode(!0)}function ct(Et,Vt){return Et+":"+Vt}function ht(Et){return!(!Et.url||!Et.options)}const Ze=(0,z.pj)(class{constructor(Et){this._elementRef=Et}}),_t=new _.OlP("mat-icon-location",{providedIn:"root",factory:function at(){const Et=(0,_.f3M)(ue.K0),Vt=Et?Et.location:null;return{getPathname:()=>Vt?Vt.pathname+Vt.search:""}}}),Wt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],xt=Wt.map(Et=>`[${Et}]`).join(", "),Pt=/^url\(['"]?#(.*?)['"]?\)$/;let $t=(()=>{class Et extends Ze{constructor(tt,je,et,Oe,gt){super(tt),this._iconRegistry=je,this._location=Oe,this._errorHandler=gt,this._inline=!1,this._currentIconFetch=ke.w0.EMPTY,et||tt.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(tt){this._inline=(0,m.Ig)(tt)}get svgIcon(){return this._svgIcon}set svgIcon(tt){tt!==this._svgIcon&&(tt?this._updateSvgIcon(tt):this._svgIcon&&this._clearSvgElement(),this._svgIcon=tt)}get fontSet(){return this._fontSet}set fontSet(tt){const je=this._cleanupFontValue(tt);je!==this._fontSet&&(this._fontSet=je,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(tt){const je=this._cleanupFontValue(tt);je!==this._fontIcon&&(this._fontIcon=je,this._updateFontIconClasses())}_splitIconName(tt){if(!tt)return["",""];const je=tt.split(":");switch(je.length){case 1:return["",je[0]];case 2:return je;default:throw Error(`Invalid icon name: "${tt}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const tt=this._elementsWithExternalReferences;if(tt&&tt.size){const je=this._location.getPathname();je!==this._previousPath&&(this._previousPath=je,this._prependPathToReferences(je))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(tt){this._clearSvgElement();const je=this._location.getPathname();this._previousPath=je,this._cacheChildrenWithExternalReferences(tt),this._prependPathToReferences(je),this._elementRef.nativeElement.appendChild(tt)}_clearSvgElement(){const tt=this._elementRef.nativeElement;let je=tt.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();je--;){const et=tt.childNodes[je];(1!==et.nodeType||"svg"===et.nodeName.toLowerCase())&&et.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const tt=this._elementRef.nativeElement,je=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();je!=this._previousFontSetClass&&(this._previousFontSetClass&&tt.classList.remove(this._previousFontSetClass),je&&tt.classList.add(je),this._previousFontSetClass=je),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&tt.classList.remove(this._previousFontIconClass),this.fontIcon&&tt.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(tt){return"string"==typeof tt?tt.trim().split(" ")[0]:tt}_prependPathToReferences(tt){const je=this._elementsWithExternalReferences;je&&je.forEach((et,Oe)=>{et.forEach(gt=>{Oe.setAttribute(gt.name,`url('${tt}#${gt.value}')`)})})}_cacheChildrenWithExternalReferences(tt){const je=tt.querySelectorAll(xt),et=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Oe=0;Oe<je.length;Oe++)Wt.forEach(gt=>{const Nt=je[Oe],Kt=Nt.getAttribute(gt),Qt=Kt?Kt.match(Pt):null;if(Qt){let ln=et.get(Nt);ln||(ln=[],et.set(Nt,ln)),ln.push({name:gt,value:Qt[1]})}})}_updateSvgIcon(tt){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),tt){const[je,et]=this._splitIconName(tt);je&&(this._svgNamespace=je),et&&(this._svgName=et),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(et,je).pipe((0,Ie.q)(1)).subscribe(Oe=>this._setSvgElement(Oe),Oe=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${je}:${et}! ${Oe.message}`))})}}}return Et.\u0275fac=function(tt){return new(tt||Et)(_.Y36(_.SBq),_.Y36(nt),_.$8M("aria-hidden"),_.Y36(_t),_.Y36(_.qLn))},Et.\u0275cmp=_.Xpm({type:Et,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(tt,je){2&tt&&(_.uIk("data-mat-icon-type",je._usingFontIcon()?"font":"svg")("data-mat-icon-name",je._svgName||je.fontIcon)("data-mat-icon-namespace",je._svgNamespace||je.fontSet),_.ekj("mat-icon-inline",je.inline)("mat-icon-no-color","primary"!==je.color&&"accent"!==je.color&&"warn"!==je.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[_.qOj],ngContentSelectors:Ue,decls:1,vars:0,template:function(tt,je){1&tt&&(_.F$t(),_.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Et})(),Ft=(()=>{class Et{}return Et.\u0275fac=function(tt){return new(tt||Et)},Et.\u0275mod=_.oAB({type:Et}),Et.\u0275inj=_.cJS({imports:[[z.BQ],z.BQ]}),Et})()},7531:(Ht,Qe,R)=>{R.d(Qe,{Jk:()=>Ae,Nt:()=>Tt,c:()=>zt});var _=R(3191),z=R(925),m=R(5e3),ue=R(3075),de=R(508),xe=R(7322),Pe=R(7579),ke=R(515);const De=(0,z.i$)({passive:!0});let he=(()=>{class st{constructor(me,Ne){this._platform=me,this._ngZone=Ne,this._monitoredElements=new Map}monitor(me){if(!this._platform.isBrowser)return ke.E;const Ne=(0,_.fI)(me),ze=this._monitoredElements.get(Ne);if(ze)return ze.subject;const nt=new Pe.x,K="cdk-text-field-autofilled",fe=Xe=>{"cdk-text-field-autofill-start"!==Xe.animationName||Ne.classList.contains(K)?"cdk-text-field-autofill-end"===Xe.animationName&&Ne.classList.contains(K)&&(Ne.classList.remove(K),this._ngZone.run(()=>nt.next({target:Xe.target,isAutofilled:!1}))):(Ne.classList.add(K),this._ngZone.run(()=>nt.next({target:Xe.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Ne.addEventListener("animationstart",fe,De),Ne.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Ne,{subject:nt,unlisten:()=>{Ne.removeEventListener("animationstart",fe,De)}}),nt}stopMonitoring(me){const Ne=(0,_.fI)(me),ze=this._monitoredElements.get(Ne);ze&&(ze.unlisten(),ze.subject.complete(),Ne.classList.remove("cdk-text-field-autofill-monitored"),Ne.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Ne))}ngOnDestroy(){this._monitoredElements.forEach((me,Ne)=>this.stopMonitoring(Ne))}}return st.\u0275fac=function(me){return new(me||st)(m.LFG(z.t4),m.LFG(m.R0b))},st.\u0275prov=m.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),st})(),Fe=(()=>{class st{}return st.\u0275fac=function(me){return new(me||st)},st.\u0275mod=m.oAB({type:st}),st.\u0275inj=m.cJS({}),st})();const Ae=new m.OlP("MAT_INPUT_VALUE_ACCESSOR"),ot=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Ue=0;const lt=(0,de.FD)(class{constructor(st,ve,me,Ne){this._defaultErrorStateMatcher=st,this._parentForm=ve,this._parentFormGroup=me,this.ngControl=Ne}});let Tt=(()=>{class st extends lt{constructor(me,Ne,ze,nt,K,fe,Xe,ct,ht,Ze){super(fe,nt,K,ze),this._elementRef=me,this._platform=Ne,this._autofillMonitor=ct,this._formField=Ze,this._uid="mat-input-"+Ue++,this.focused=!1,this.stateChanges=new Pe.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Wt=>(0,z.qK)().has(Wt)),this._iOSKeyupListener=Wt=>{const xt=Wt.target;!xt.value&&0===xt.selectionStart&&0===xt.selectionEnd&&(xt.setSelectionRange(1,1),xt.setSelectionRange(0,0))};const _t=this._elementRef.nativeElement,at=_t.nodeName.toLowerCase();this._inputValueAccessor=Xe||_t,this._previousNativeValue=this.value,this.id=this.id,Ne.IOS&&ht.runOutsideAngular(()=>{me.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===at,this._isTextarea="textarea"===at,this._isInFormField=!!Ze,this._isNativeSelect&&(this.controlType=_t.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(me){this._disabled=(0,_.Ig)(me),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(me){this._id=me||this._uid}get required(){var me,Ne,ze,nt;return null!==(nt=null!==(me=this._required)&&void 0!==me?me:null===(ze=null===(Ne=this.ngControl)||void 0===Ne?void 0:Ne.control)||void 0===ze?void 0:ze.hasValidator(ue.kI.required))&&void 0!==nt&&nt}set required(me){this._required=(0,_.Ig)(me)}get type(){return this._type}set type(me){this._type=me||"text",this._validateType(),!this._isTextarea&&(0,z.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(me){me!==this.value&&(this._inputValueAccessor.value=me,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(me){this._readonly=(0,_.Ig)(me)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(me=>{this.autofilled=me.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(me){this._elementRef.nativeElement.focus(me)}_focusChanged(me){me!==this.focused&&(this.focused=me,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var me,Ne;const ze=(null===(Ne=null===(me=this._formField)||void 0===me?void 0:me._hideControlPlaceholder)||void 0===Ne?void 0:Ne.call(me))?null:this.placeholder;if(ze!==this._previousPlaceholder){const nt=this._elementRef.nativeElement;this._previousPlaceholder=ze,ze?nt.setAttribute("placeholder",ze):nt.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const me=this._elementRef.nativeElement.value;this._previousNativeValue!==me&&(this._previousNativeValue=me,this.stateChanges.next())}_validateType(){ot.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let me=this._elementRef.nativeElement.validity;return me&&me.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const me=this._elementRef.nativeElement,Ne=me.options[0];return this.focused||me.multiple||!this.empty||!!(me.selectedIndex>-1&&Ne&&Ne.label)}return this.focused||!this.empty}setDescribedByIds(me){me.length?this._elementRef.nativeElement.setAttribute("aria-describedby",me.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const me=this._elementRef.nativeElement;return this._isNativeSelect&&(me.multiple||me.size>1)}}return st.\u0275fac=function(me){return new(me||st)(m.Y36(m.SBq),m.Y36(z.t4),m.Y36(ue.a5,10),m.Y36(ue.F,8),m.Y36(ue.sg,8),m.Y36(de.rD),m.Y36(Ae,10),m.Y36(he),m.Y36(m.R0b),m.Y36(xe.G_,8))},st.\u0275dir=m.lG2({type:st,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(me,Ne){1&me&&m.NdJ("focus",function(){return Ne._focusChanged(!0)})("blur",function(){return Ne._focusChanged(!1)})("input",function(){return Ne._onInput()}),2&me&&(m.Ikx("disabled",Ne.disabled)("required",Ne.required),m.uIk("id",Ne.id)("data-placeholder",Ne.placeholder)("name",Ne.name||null)("readonly",Ne.readonly&&!Ne._isNativeSelect||null)("aria-invalid",Ne.empty&&Ne.required?null:Ne.errorState)("aria-required",Ne.required),m.ekj("mat-input-server",Ne._isServer)("mat-native-select-inline",Ne._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[m._Bn([{provide:xe.Eo,useExisting:st}]),m.qOj,m.TTD]}),st})(),zt=(()=>{class st{}return st.\u0275fac=function(me){return new(me||st)},st.\u0275mod=m.oAB({type:st}),st.\u0275inj=m.cJS({providers:[de.rD],imports:[[Fe,xe.lN,de.BQ],Fe,xe.lN]}),st})()},6360:(Ht,Qe,R)=>{R.d(Qe,{Qb:()=>Ga,PW:()=>mr});var _=R(5e3),z=R(2313),m=R(1777);const ue=!1;function xe(Q){return new _.vHH(3e3,ue)}function tt(){return"undefined"!=typeof window&&void 0!==window.document}function je(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function et(Q){switch(Q.length){case 0:return new m.ZN;case 1:return Q[0];default:return new m.ZE(Q)}}function Oe(Q,v,D,L,ee={},pe={}){const Be=[],He=[];let ut=-1,At=null;if(L.forEach(sn=>{const tn=sn.offset,Nn=tn==ut,qn=Nn&&At||{};Object.keys(sn).forEach(En=>{let zn=En,yi=sn[En];if("offset"!==En)switch(zn=v.normalizePropertyName(zn,Be),yi){case m.k1:yi=ee[En];break;case m.l3:yi=pe[En];break;default:yi=v.normalizeStyleValue(En,zn,yi,Be)}qn[zn]=yi}),Nn||He.push(qn),At=qn,ut=tn}),Be.length)throw function ct(Q){return new _.vHH(3502,ue)}();return He}function gt(Q,v,D,L){switch(v){case"start":Q.onStart(()=>L(D&&Nt(D,"start",Q)));break;case"done":Q.onDone(()=>L(D&&Nt(D,"done",Q)));break;case"destroy":Q.onDestroy(()=>L(D&&Nt(D,"destroy",Q)))}}function Nt(Q,v,D){const L=D.totalTime,pe=Kt(Q.element,Q.triggerName,Q.fromState,Q.toState,v||Q.phaseName,null==L?Q.totalTime:L,!!D.disabled),Be=Q._data;return null!=Be&&(pe._data=Be),pe}function Kt(Q,v,D,L,ee="",pe=0,Be){return{element:Q,triggerName:v,fromState:D,toState:L,phaseName:ee,totalTime:pe,disabled:!!Be}}function Qt(Q,v,D){let L;return Q instanceof Map?(L=Q.get(v),L||Q.set(v,L=D)):(L=Q[v],L||(L=Q[v]=D)),L}function ln(Q){const v=Q.indexOf(":");return[Q.substring(1,v),Q.substr(v+1)]}let fn=(Q,v)=>!1,wt=(Q,v,D)=>[],te=null;function we(Q){const v=Q.parentNode||Q.host;return v===te?null:v}(je()||"undefined"!=typeof Element)&&(tt()?(te=(()=>document.documentElement)(),fn=(Q,v)=>{for(;v;){if(v===Q)return!0;v=we(v)}return!1}):fn=(Q,v)=>Q.contains(v),wt=(Q,v,D)=>{if(D)return Array.from(Q.querySelectorAll(v));const L=Q.querySelector(v);return L?[L]:[]});let ye=null,Re=!1;function Y(Q){ye||(ye=function q(){return"undefined"!=typeof document?document.body:null}()||{},Re=!!ye.style&&"WebkitAppearance"in ye.style);let v=!0;return ye.style&&!function dt(Q){return"ebkit"==Q.substring(1,6)}(Q)&&(v=Q in ye.style,!v&&Re&&(v="Webkit"+Q.charAt(0).toUpperCase()+Q.substr(1)in ye.style)),v}const oe=fn,Ve=wt;let bt=(()=>{class Q{validateStyleProperty(D){return Y(D)}matchesElement(D,L){return!1}containsElement(D,L){return oe(D,L)}getParentElement(D){return we(D)}query(D,L,ee){return Ve(D,L,ee)}computeStyle(D,L,ee){return ee||""}animate(D,L,ee,pe,Be,He=[],ut){return new m.ZN(ee,pe)}}return Q.\u0275fac=function(D){return new(D||Q)},Q.\u0275prov=_.Yz7({token:Q,factory:Q.\u0275fac}),Q})(),It=(()=>{class Q{}return Q.NOOP=new bt,Q})();const $n="ng-enter",Hn="ng-leave",Vn="ng-trigger",Ge=".ng-trigger",H="ng-animating",I=".ng-animating";function U(Q){if("number"==typeof Q)return Q;const v=Q.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:ne(parseFloat(v[1]),v[2])}function ne(Q,v){return"s"===v?1e3*Q:Q}function _e(Q,v,D){return Q.hasOwnProperty("duration")?Q:function yt(Q,v,D){let ee,pe=0,Be="";if("string"==typeof Q){const He=Q.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===He)return v.push(xe()),{duration:0,delay:0,easing:""};ee=ne(parseFloat(He[1]),He[2]);const ut=He[3];null!=ut&&(pe=ne(parseFloat(ut),He[4]));const At=He[5];At&&(Be=At)}else ee=Q;if(!D){let He=!1,ut=v.length;ee<0&&(v.push(function Pe(){return new _.vHH(3100,ue)}()),He=!0),pe<0&&(v.push(function ke(){return new _.vHH(3101,ue)}()),He=!0),He&&v.splice(ut,0,xe())}return{duration:ee,delay:pe,easing:Be}}(Q,v,D)}function Yt(Q,v={}){return Object.keys(Q).forEach(D=>{v[D]=Q[D]}),v}function xn(Q,v,D={}){if(v)for(let L in Q)D[L]=Q[L];else Yt(Q,D);return D}function An(Q,v,D){return D?v+":"+D+";":""}function Yn(Q){let v="";for(let D=0;D<Q.style.length;D++){const L=Q.style.item(D);v+=An(0,L,Q.style.getPropertyValue(L))}for(const D in Q.style)Q.style.hasOwnProperty(D)&&!D.startsWith("_")&&(v+=An(0,mi(D),Q.style[D]));Q.setAttribute("style",v)}function Wn(Q,v,D){Q.style&&(Object.keys(v).forEach(L=>{const ee=Dn(L);D&&!D.hasOwnProperty(L)&&(D[L]=Q.style[ee]),Q.style[ee]=v[L]}),je()&&Yn(Q))}function di(Q,v){Q.style&&(Object.keys(v).forEach(D=>{const L=Dn(D);Q.style[L]=""}),je()&&Yn(Q))}function Jn(Q){return Array.isArray(Q)?1==Q.length?Q[0]:(0,m.vP)(Q):Q}const Ke=new RegExp("{{\\s*(.+?)\\s*}}","g");function Me(Q){let v=[];if("string"==typeof Q){let D;for(;D=Ke.exec(Q);)v.push(D[1]);Ke.lastIndex=0}return v}function Je(Q,v,D){const L=Q.toString(),ee=L.replace(Ke,(pe,Be)=>{let He=v[Be];return v.hasOwnProperty(Be)||(D.push(function he(Q){return new _.vHH(3003,ue)}()),He=""),He.toString()});return ee==L?Q:ee}function kt(Q){const v=[];let D=Q.next();for(;!D.done;)v.push(D.value),D=Q.next();return v}const mn=/-+([a-z0-9])/g;function Dn(Q){return Q.replace(mn,(...v)=>v[1].toUpperCase())}function mi(Q){return Q.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gi(Q,v,D){switch(v.type){case 7:return Q.visitTrigger(v,D);case 0:return Q.visitState(v,D);case 1:return Q.visitTransition(v,D);case 2:return Q.visitSequence(v,D);case 3:return Q.visitGroup(v,D);case 4:return Q.visitAnimate(v,D);case 5:return Q.visitKeyframes(v,D);case 6:return Q.visitStyle(v,D);case 8:return Q.visitReference(v,D);case 9:return Q.visitAnimateChild(v,D);case 10:return Q.visitAnimateRef(v,D);case 11:return Q.visitQuery(v,D);case 12:return Q.visitStagger(v,D);default:throw function Te(Q){return new _.vHH(3004,ue)}()}}function Gi(Q,v){return window.getComputedStyle(Q)[v]}function wi(Q,v){const D=[];return"string"==typeof Q?Q.split(/\s*,\s*/).forEach(L=>function lr(Q,v,D){if(":"==Q[0]){const ut=function Pn(Q,v){switch(Q){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(D,L)=>parseFloat(L)>parseFloat(D);case":decrement":return(D,L)=>parseFloat(L)<parseFloat(D);default:return v.push(function nt(Q){return new _.vHH(3016,ue)}()),"* => *"}}(Q,D);if("function"==typeof ut)return void v.push(ut);Q=ut}const L=Q.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==L||L.length<4)return D.push(function ze(Q){return new _.vHH(3015,ue)}()),v;const ee=L[1],pe=L[2],Be=L[3];v.push(In(ee,Be));"<"==pe[0]&&!("*"==ee&&"*"==Be)&&v.push(In(Be,ee))}(L,D,v)):D.push(Q),D}const _i=new Set(["true","1"]),ir=new Set(["false","0"]);function In(Q,v){const D=_i.has(Q)||ir.has(Q),L=_i.has(v)||ir.has(v);return(ee,pe)=>{let Be="*"==Q||Q==ee,He="*"==v||v==pe;return!Be&&D&&"boolean"==typeof ee&&(Be=ee?_i.has(Q):ir.has(Q)),!He&&L&&"boolean"==typeof pe&&(He=pe?_i.has(v):ir.has(v)),Be&&He}}const yr=new RegExp("s*:selfs*,?","g");function Hr(Q,v,D,L){return new Ei(Q).build(v,D,L)}class Ei{constructor(v){this._driver=v}build(v,D,L){const ee=new pr(D);this._resetContextStyleTimingState(ee);const pe=gi(this,Jn(v),ee);return ee.unsupportedCSSPropertiesFound.size&&ee.unsupportedCSSPropertiesFound.keys(),pe}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles={},v.collectedStyles[""]={},v.currentTime=0}visitTrigger(v,D){let L=D.queryCount=0,ee=D.depCount=0;const pe=[],Be=[];return"@"==v.name.charAt(0)&&D.errors.push(function Fe(){return new _.vHH(3006,ue)}()),v.definitions.forEach(He=>{if(this._resetContextStyleTimingState(D),0==He.type){const ut=He,At=ut.name;At.toString().split(/\s*,\s*/).forEach(sn=>{ut.name=sn,pe.push(this.visitState(ut,D))}),ut.name=At}else if(1==He.type){const ut=this.visitTransition(He,D);L+=ut.queryCount,ee+=ut.depCount,Be.push(ut)}else D.errors.push(function Ie(){return new _.vHH(3007,ue)}())}),{type:7,name:v.name,states:pe,transitions:Be,queryCount:L,depCount:ee,options:null}}visitState(v,D){const L=this.visitStyle(v.styles,D),ee=v.options&&v.options.params||null;if(L.containsDynamicStyles){const pe=new Set,Be=ee||{};L.styles.forEach(He=>{if(zr(He)){const ut=He;Object.keys(ut).forEach(At=>{Me(ut[At]).forEach(sn=>{Be.hasOwnProperty(sn)||pe.add(sn)})})}}),pe.size&&(kt(pe.values()),D.errors.push(function Ae(Q,v){return new _.vHH(3008,ue)}()))}return{type:0,name:v.name,style:L,options:ee?{params:ee}:null}}visitTransition(v,D){D.queryCount=0,D.depCount=0;const L=gi(this,Jn(v.animation),D);return{type:1,matchers:wi(v.expr,D.errors),animation:L,queryCount:D.queryCount,depCount:D.depCount,options:vi(v.options)}}visitSequence(v,D){return{type:2,steps:v.steps.map(L=>gi(this,L,D)),options:vi(v.options)}}visitGroup(v,D){const L=D.currentTime;let ee=0;const pe=v.steps.map(Be=>{D.currentTime=L;const He=gi(this,Be,D);return ee=Math.max(ee,D.currentTime),He});return D.currentTime=ee,{type:3,steps:pe,options:vi(v.options)}}visitAnimate(v,D){const L=function Go(Q,v){if(Q.hasOwnProperty("duration"))return Q;if("number"==typeof Q)return zi(_e(Q,v).duration,0,"");const D=Q;if(D.split(/\s+/).some(pe=>"{"==pe.charAt(0)&&"{"==pe.charAt(1))){const pe=zi(0,0,"");return pe.dynamic=!0,pe.strValue=D,pe}const ee=_e(D,v);return zi(ee.duration,ee.delay,ee.easing)}(v.timings,D.errors);D.currentAnimateTimings=L;let ee,pe=v.styles?v.styles:(0,m.oB)({});if(5==pe.type)ee=this.visitKeyframes(pe,D);else{let Be=v.styles,He=!1;if(!Be){He=!0;const At={};L.easing&&(At.easing=L.easing),Be=(0,m.oB)(At)}D.currentTime+=L.duration+L.delay;const ut=this.visitStyle(Be,D);ut.isEmptyStep=He,ee=ut}return D.currentAnimateTimings=null,{type:4,timings:L,style:ee,options:null}}visitStyle(v,D){const L=this._makeStyleAst(v,D);return this._validateStyleAst(L,D),L}_makeStyleAst(v,D){const L=[];Array.isArray(v.styles)?v.styles.forEach(Be=>{"string"==typeof Be?Be==m.l3?L.push(Be):D.errors.push(function ot(Q){return new _.vHH(3002,ue)}()):L.push(Be)}):L.push(v.styles);let ee=!1,pe=null;return L.forEach(Be=>{if(zr(Be)){const He=Be,ut=He.easing;if(ut&&(pe=ut,delete He.easing),!ee)for(let At in He)if(He[At].toString().indexOf("{{")>=0){ee=!0;break}}}),{type:6,styles:L,easing:pe,offset:v.offset,containsDynamicStyles:ee,options:null}}_validateStyleAst(v,D){const L=D.currentAnimateTimings;let ee=D.currentTime,pe=D.currentTime;L&&pe>0&&(pe-=L.duration+L.delay),v.styles.forEach(Be=>{"string"!=typeof Be&&Object.keys(Be).forEach(He=>{if(!this._driver.validateStyleProperty(He))return delete Be[He],void D.unsupportedCSSPropertiesFound.add(He);const ut=D.collectedStyles[D.currentQuerySelector],At=ut[He];let sn=!0;At&&(pe!=ee&&pe>=At.startTime&&ee<=At.endTime&&(D.errors.push(function lt(Q,v,D,L,ee){return new _.vHH(3010,ue)}()),sn=!1),pe=At.startTime),sn&&(ut[He]={startTime:pe,endTime:ee}),D.options&&function qe(Q,v,D){const L=v.params||{},ee=Me(Q);ee.length&&ee.forEach(pe=>{L.hasOwnProperty(pe)||D.push(function De(Q){return new _.vHH(3001,ue)}())})}(Be[He],D.options,D.errors)})})}visitKeyframes(v,D){const L={type:5,styles:[],options:null};if(!D.currentAnimateTimings)return D.errors.push(function Tt(){return new _.vHH(3011,ue)}()),L;let pe=0;const Be=[];let He=!1,ut=!1,At=0;const sn=v.steps.map(Ki=>{const Pi=this._makeStyleAst(Ki,D);let gr=null!=Pi.offset?Pi.offset:function Gn(Q){if("string"==typeof Q)return null;let v=null;if(Array.isArray(Q))Q.forEach(D=>{if(zr(D)&&D.hasOwnProperty("offset")){const L=D;v=parseFloat(L.offset),delete L.offset}});else if(zr(Q)&&Q.hasOwnProperty("offset")){const D=Q;v=parseFloat(D.offset),delete D.offset}return v}(Pi.styles),Ji=0;return null!=gr&&(pe++,Ji=Pi.offset=gr),ut=ut||Ji<0||Ji>1,He=He||Ji<At,At=Ji,Be.push(Ji),Pi});ut&&D.errors.push(function zt(){return new _.vHH(3012,ue)}()),He&&D.errors.push(function st(){return new _.vHH(3200,ue)}());const tn=v.steps.length;let Nn=0;pe>0&&pe<tn?D.errors.push(function ve(){return new _.vHH(3202,ue)}()):0==pe&&(Nn=1/(tn-1));const qn=tn-1,En=D.currentTime,zn=D.currentAnimateTimings,yi=zn.duration;return sn.forEach((Ki,Pi)=>{const gr=Nn>0?Pi==qn?1:Nn*Pi:Be[Pi],Ji=gr*yi;D.currentTime=En+zn.delay+Ji,zn.duration=Ji,this._validateStyleAst(Ki,D),Ki.offset=gr,L.styles.push(Ki)}),L}visitReference(v,D){return{type:8,animation:gi(this,Jn(v.animation),D),options:vi(v.options)}}visitAnimateChild(v,D){return D.depCount++,{type:9,options:vi(v.options)}}visitAnimateRef(v,D){return{type:10,animation:this.visitReference(v.animation,D),options:vi(v.options)}}visitQuery(v,D){const L=D.currentQuerySelector,ee=v.options||{};D.queryCount++,D.currentQuery=v;const[pe,Be]=function br(Q){const v=!!Q.split(/\s*,\s*/).find(D=>":self"==D);return v&&(Q=Q.replace(yr,"")),Q=Q.replace(/@\*/g,Ge).replace(/@\w+/g,D=>Ge+"-"+D.substr(1)).replace(/:animating/g,I),[Q,v]}(v.selector);D.currentQuerySelector=L.length?L+" "+pe:pe,Qt(D.collectedStyles,D.currentQuerySelector,{});const He=gi(this,Jn(v.animation),D);return D.currentQuery=null,D.currentQuerySelector=L,{type:11,selector:pe,limit:ee.limit||0,optional:!!ee.optional,includeSelf:Be,animation:He,originalSelector:v.selector,options:vi(v.options)}}visitStagger(v,D){D.currentQuery||D.errors.push(function me(){return new _.vHH(3013,ue)}());const L="full"===v.timings?{duration:0,delay:0,easing:"full"}:_e(v.timings,D.errors,!0);return{type:12,animation:gi(this,Jn(v.animation),D),timings:L,options:null}}}class pr{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zr(Q){return!Array.isArray(Q)&&"object"==typeof Q}function vi(Q){return Q?(Q=Yt(Q)).params&&(Q.params=function Gr(Q){return Q?Yt(Q):null}(Q.params)):Q={},Q}function zi(Q,v,D){return{duration:Q,delay:v,easing:D}}function xr(Q,v,D,L,ee,pe,Be=null,He=!1){return{type:1,element:Q,keyframes:v,preStyleProps:D,postStyleProps:L,duration:ee,delay:pe,totalTime:ee+pe,easing:Be,subTimeline:He}}class $r{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,D){let L=this._map.get(v);L||this._map.set(v,L=[]),L.push(...D)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const Ds=new RegExp(":enter","g"),ga=new RegExp(":leave","g");function Yi(Q,v,D,L,ee,pe={},Be={},He,ut,At=[]){return(new _a).buildKeyframes(Q,v,D,L,ee,pe,Be,He,ut,At)}class _a{buildKeyframes(v,D,L,ee,pe,Be,He,ut,At,sn=[]){At=At||new $r;const tn=new Cr(v,D,At,ee,pe,sn,[]);tn.options=ut,tn.currentTimeline.setStyles([Be],null,tn.errors,ut),gi(this,L,tn);const Nn=tn.timelines.filter(qn=>qn.containsAnimation());if(Object.keys(He).length){let qn;for(let En=Nn.length-1;En>=0;En--){const zn=Nn[En];if(zn.element===D){qn=zn;break}}qn&&!qn.allowOnlyTimelineStyles()&&qn.setStyles([He],null,tn.errors,ut)}return Nn.length?Nn.map(qn=>qn.buildKeyframes()):[xr(D,[],[],[],0,0,"",!1)]}visitTrigger(v,D){}visitState(v,D){}visitTransition(v,D){}visitAnimateChild(v,D){const L=D.subInstructions.get(D.element);if(L){const ee=D.createSubContext(v.options),pe=D.currentTimeline.currentTime,Be=this._visitSubInstructions(L,ee,ee.options);pe!=Be&&D.transformIntoNewTimeline(Be)}D.previousNode=v}visitAnimateRef(v,D){const L=D.createSubContext(v.options);L.transformIntoNewTimeline(),this.visitReference(v.animation,L),D.transformIntoNewTimeline(L.currentTimeline.currentTime),D.previousNode=v}_visitSubInstructions(v,D,L){let pe=D.currentTimeline.currentTime;const Be=null!=L.duration?U(L.duration):null,He=null!=L.delay?U(L.delay):null;return 0!==Be&&v.forEach(ut=>{const At=D.appendInstructionToTimeline(ut,Be,He);pe=Math.max(pe,At.duration+At.delay)}),pe}visitReference(v,D){D.updateOptions(v.options,!0),gi(this,v.animation,D),D.previousNode=v}visitSequence(v,D){const L=D.subContextCount;let ee=D;const pe=v.options;if(pe&&(pe.params||pe.delay)&&(ee=D.createSubContext(pe),ee.transformIntoNewTimeline(),null!=pe.delay)){6==ee.previousNode.type&&(ee.currentTimeline.snapshotCurrentStyles(),ee.previousNode=vo);const Be=U(pe.delay);ee.delayNextStep(Be)}v.steps.length&&(v.steps.forEach(Be=>gi(this,Be,ee)),ee.currentTimeline.applyStylesToKeyframe(),ee.subContextCount>L&&ee.transformIntoNewTimeline()),D.previousNode=v}visitGroup(v,D){const L=[];let ee=D.currentTimeline.currentTime;const pe=v.options&&v.options.delay?U(v.options.delay):0;v.steps.forEach(Be=>{const He=D.createSubContext(v.options);pe&&He.delayNextStep(pe),gi(this,Be,He),ee=Math.max(ee,He.currentTimeline.currentTime),L.push(He.currentTimeline)}),L.forEach(Be=>D.currentTimeline.mergeTimelineCollectedStyles(Be)),D.transformIntoNewTimeline(ee),D.previousNode=v}_visitTiming(v,D){if(v.dynamic){const L=v.strValue;return _e(D.params?Je(L,D.params,D.errors):L,D.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,D){const L=D.currentAnimateTimings=this._visitTiming(v.timings,D),ee=D.currentTimeline;L.delay&&(D.incrementTime(L.delay),ee.snapshotCurrentStyles());const pe=v.style;5==pe.type?this.visitKeyframes(pe,D):(D.incrementTime(L.duration),this.visitStyle(pe,D),ee.applyStylesToKeyframe()),D.currentAnimateTimings=null,D.previousNode=v}visitStyle(v,D){const L=D.currentTimeline,ee=D.currentAnimateTimings;!ee&&L.getCurrentStyleProperties().length&&L.forwardFrame();const pe=ee&&ee.easing||v.easing;v.isEmptyStep?L.applyEmptyStep(pe):L.setStyles(v.styles,pe,D.errors,D.options),D.previousNode=v}visitKeyframes(v,D){const L=D.currentAnimateTimings,ee=D.currentTimeline.duration,pe=L.duration,He=D.createSubContext().currentTimeline;He.easing=L.easing,v.styles.forEach(ut=>{He.forwardTime((ut.offset||0)*pe),He.setStyles(ut.styles,ut.easing,D.errors,D.options),He.applyStylesToKeyframe()}),D.currentTimeline.mergeTimelineCollectedStyles(He),D.transformIntoNewTimeline(ee+pe),D.previousNode=v}visitQuery(v,D){const L=D.currentTimeline.currentTime,ee=v.options||{},pe=ee.delay?U(ee.delay):0;pe&&(6===D.previousNode.type||0==L&&D.currentTimeline.getCurrentStyleProperties().length)&&(D.currentTimeline.snapshotCurrentStyles(),D.previousNode=vo);let Be=L;const He=D.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!ee.optional,D.errors);D.currentQueryTotal=He.length;let ut=null;He.forEach((At,sn)=>{D.currentQueryIndex=sn;const tn=D.createSubContext(v.options,At);pe&&tn.delayNextStep(pe),At===D.element&&(ut=tn.currentTimeline),gi(this,v.animation,tn),tn.currentTimeline.applyStylesToKeyframe(),Be=Math.max(Be,tn.currentTimeline.currentTime)}),D.currentQueryIndex=0,D.currentQueryTotal=0,D.transformIntoNewTimeline(Be),ut&&(D.currentTimeline.mergeTimelineCollectedStyles(ut),D.currentTimeline.snapshotCurrentStyles()),D.previousNode=v}visitStagger(v,D){const L=D.parentContext,ee=D.currentTimeline,pe=v.timings,Be=Math.abs(pe.duration),He=Be*(D.currentQueryTotal-1);let ut=Be*D.currentQueryIndex;switch(pe.duration<0?"reverse":pe.easing){case"reverse":ut=He-ut;break;case"full":ut=L.currentStaggerTime}const sn=D.currentTimeline;ut&&sn.delayNextStep(ut);const tn=sn.currentTime;gi(this,v.animation,D),D.previousNode=v,L.currentStaggerTime=ee.currentTime-tn+(ee.startTime-L.currentTimeline.startTime)}}const vo={};class Cr{constructor(v,D,L,ee,pe,Be,He,ut){this._driver=v,this.element=D,this.subInstructions=L,this._enterClassName=ee,this._leaveClassName=pe,this.errors=Be,this.timelines=He,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ut||new Ro(this._driver,D,0),He.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,D){if(!v)return;const L=v;let ee=this.options;null!=L.duration&&(ee.duration=U(L.duration)),null!=L.delay&&(ee.delay=U(L.delay));const pe=L.params;if(pe){let Be=ee.params;Be||(Be=this.options.params={}),Object.keys(pe).forEach(He=>{(!D||!Be.hasOwnProperty(He))&&(Be[He]=Je(pe[He],Be,this.errors))})}}_copyOptions(){const v={};if(this.options){const D=this.options.params;if(D){const L=v.params={};Object.keys(D).forEach(ee=>{L[ee]=D[ee]})}}return v}createSubContext(v=null,D,L){const ee=D||this.element,pe=new Cr(this._driver,ee,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ee,L||0));return pe.previousNode=this.previousNode,pe.currentAnimateTimings=this.currentAnimateTimings,pe.options=this._copyOptions(),pe.updateOptions(v),pe.currentQueryIndex=this.currentQueryIndex,pe.currentQueryTotal=this.currentQueryTotal,pe.parentContext=this,this.subContextCount++,pe}transformIntoNewTimeline(v){return this.previousNode=vo,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,D,L){const ee={duration:null!=D?D:v.duration,delay:this.currentTimeline.currentTime+(null!=L?L:0)+v.delay,easing:""},pe=new ws(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,ee,v.stretchStartingKeyframe);return this.timelines.push(pe),ee}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,D,L,ee,pe,Be){let He=[];if(ee&&He.push(this.element),v.length>0){v=(v=v.replace(Ds,"."+this._enterClassName)).replace(ga,"."+this._leaveClassName);let At=this._driver.query(this.element,v,1!=L);0!==L&&(At=L<0?At.slice(At.length+L,At.length):At.slice(0,L)),He.push(...At)}return!pe&&0==He.length&&Be.push(function Ne(Q){return new _.vHH(3014,ue)}()),He}}class Ro{constructor(v,D,L,ee){this._driver=v,this.element=D,this.startTime=L,this._elementTimelineStylesLookup=ee,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(D),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(D,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const D=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||D?(this.forwardTime(this.currentTime+v),D&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,D){return this.applyStylesToKeyframe(),new Ro(this._driver,v,D||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,D){this._localTimelineStyles[v]=D,this._globalTimelineStyles[v]=D,this._styleSummary[v]={time:this.currentTime,value:D}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&(this._previousKeyframe.easing=v),Object.keys(this._globalTimelineStyles).forEach(D=>{this._backFill[D]=this._globalTimelineStyles[D]||m.l3,this._currentKeyframe[D]=m.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,D,L,ee){D&&(this._previousKeyframe.easing=D);const pe=ee&&ee.params||{},Be=function Vs(Q,v){const D={};let L;return Q.forEach(ee=>{"*"===ee?(L=L||Object.keys(v),L.forEach(pe=>{D[pe]=m.l3})):xn(ee,!1,D)}),D}(v,this._globalTimelineStyles);Object.keys(Be).forEach(He=>{const ut=Je(Be[He],pe,L);this._pendingStyles[He]=ut,this._localTimelineStyles.hasOwnProperty(He)||(this._backFill[He]=this._globalTimelineStyles.hasOwnProperty(He)?this._globalTimelineStyles[He]:m.l3),this._updateStyle(He,ut)})}applyStylesToKeyframe(){const v=this._pendingStyles,D=Object.keys(v);0!=D.length&&(this._pendingStyles={},D.forEach(L=>{this._currentKeyframe[L]=v[L]}),Object.keys(this._localTimelineStyles).forEach(L=>{this._currentKeyframe.hasOwnProperty(L)||(this._currentKeyframe[L]=this._localTimelineStyles[L])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(v=>{const D=this._localTimelineStyles[v];this._pendingStyles[v]=D,this._updateStyle(v,D)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let D in this._currentKeyframe)v.push(D);return v}mergeTimelineCollectedStyles(v){Object.keys(v._styleSummary).forEach(D=>{const L=this._styleSummary[D],ee=v._styleSummary[D];(!L||ee.time>L.time)&&this._updateStyle(D,ee.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,D=new Set,L=1===this._keyframes.size&&0===this.duration;let ee=[];this._keyframes.forEach((He,ut)=>{const At=xn(He,!0);Object.keys(At).forEach(sn=>{const tn=At[sn];tn==m.k1?v.add(sn):tn==m.l3&&D.add(sn)}),L||(At.offset=ut/this.duration),ee.push(At)});const pe=v.size?kt(v.values()):[],Be=D.size?kt(D.values()):[];if(L){const He=ee[0],ut=Yt(He);He.offset=0,ut.offset=1,ee=[He,ut]}return xr(this.element,ee,pe,Be,this.duration,this.startTime,this.easing,!1)}}class ws extends Ro{constructor(v,D,L,ee,pe,Be,He=!1){super(v,D,Be.delay),this.keyframes=L,this.preStyleProps=ee,this.postStyleProps=pe,this._stretchStartingKeyframe=He,this.timings={duration:Be.duration,delay:Be.delay,easing:Be.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:D,duration:L,easing:ee}=this.timings;if(this._stretchStartingKeyframe&&D){const pe=[],Be=L+D,He=D/Be,ut=xn(v[0],!1);ut.offset=0,pe.push(ut);const At=xn(v[0],!1);At.offset=to(He),pe.push(At);const sn=v.length-1;for(let tn=1;tn<=sn;tn++){let Nn=xn(v[tn],!1);Nn.offset=to((D+Nn.offset*L)/Be),pe.push(Nn)}L=Be,D=0,ee="",v=pe}return xr(this.element,v,this.preStyleProps,this.postStyleProps,L,D,ee,!0)}}function to(Q,v=3){const D=Math.pow(10,v-1);return Math.round(Q*D)/D}class ko{}class $o extends ko{normalizePropertyName(v,D){return Dn(v)}normalizeStyleValue(v,D,L,ee){let pe="";const Be=L.toString().trim();if(ki[D]&&0!==L&&"0"!==L)if("number"==typeof L)pe="px";else{const He=L.match(/^[+-]?[\d\.]+([a-z]*)$/);He&&0==He[1].length&&ee.push(function Ee(Q,v){return new _.vHH(3005,ue)}())}return Be+pe}}const ki=(()=>function Rr(Q){const v={};return Q.forEach(D=>v[D]=!0),v}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Wi(Q,v,D,L,ee,pe,Be,He,ut,At,sn,tn,Nn){return{type:0,element:Q,triggerName:v,isRemovalTransition:ee,fromState:D,fromStyles:pe,toState:L,toStyles:Be,timelines:He,queriedElements:ut,preStyleProps:At,postStyleProps:sn,totalTime:tn,errors:Nn}}const cr={};class kr{constructor(v,D,L){this._triggerName=v,this.ast=D,this._stateStyles=L}match(v,D,L,ee){return function Ms(Q,v,D,L,ee){return Q.some(pe=>pe(v,D,L,ee))}(this.ast.matchers,v,D,L,ee)}buildStyles(v,D,L){const ee=this._stateStyles["*"],pe=this._stateStyles[v],Be=ee?ee.buildStyles(D,L):{};return pe?pe.buildStyles(D,L):Be}build(v,D,L,ee,pe,Be,He,ut,At,sn){const tn=[],Nn=this.ast.options&&this.ast.options.params||cr,En=this.buildStyles(L,He&&He.params||cr,tn),zn=ut&&ut.params||cr,yi=this.buildStyles(ee,zn,tn),Ki=new Set,Pi=new Map,gr=new Map,Ji="void"===ee,qi={params:Object.assign(Object.assign({},Nn),zn)},Si=sn?[]:Yi(v,D,this.ast.animation,pe,Be,En,yi,qi,At,tn);let Qn=0;if(Si.forEach(ro=>{Qn=Math.max(ro.duration+ro.delay,Qn)}),tn.length)return Wi(D,this._triggerName,L,ee,Ji,En,yi,[],[],Pi,gr,Qn,tn);Si.forEach(ro=>{const wr=ro.element,ea=Qt(Pi,wr,{});ro.preStyleProps.forEach(Kr=>ea[Kr]=!0);const Qo=Qt(gr,wr,{});ro.postStyleProps.forEach(Kr=>Qo[Kr]=!0),wr!==D&&Ki.add(wr)});const Mo=kt(Ki.values());return Wi(D,this._triggerName,L,ee,Ji,En,yi,Si,Mo,Pi,gr,Qn)}}class ss{constructor(v,D,L){this.styles=v,this.defaultParams=D,this.normalizer=L}buildStyles(v,D){const L={},ee=Yt(this.defaultParams);return Object.keys(v).forEach(pe=>{const Be=v[pe];null!=Be&&(ee[pe]=Be)}),this.styles.styles.forEach(pe=>{if("string"!=typeof pe){const Be=pe;Object.keys(Be).forEach(He=>{let ut=Be[He];ut.length>1&&(ut=Je(ut,ee,D));const At=this.normalizer.normalizePropertyName(He,D);ut=this.normalizer.normalizeStyleValue(He,At,ut,D),L[At]=ut})}}),L}}class ur{constructor(v,D,L){this.name=v,this.ast=D,this._normalizer=L,this.transitionFactories=[],this.states={},D.states.forEach(ee=>{this.states[ee.name]=new ss(ee.style,ee.options&&ee.options.params||{},L)}),Or(this.states,"true","1"),Or(this.states,"false","0"),D.transitions.forEach(ee=>{this.transitionFactories.push(new kr(v,ee,this.states))}),this.fallbackTransition=function Ts(Q,v,D){return new kr(Q,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Be,He)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,D,L,ee){return this.transitionFactories.find(Be=>Be.match(v,D,L,ee))||null}matchStyles(v,D,L){return this.fallbackTransition.buildStyles(v,D,L)}}function Or(Q,v,D){Q.hasOwnProperty(v)?Q.hasOwnProperty(D)||(Q[D]=Q[v]):Q.hasOwnProperty(D)&&(Q[v]=Q[D])}const dr=new $r;class as{constructor(v,D,L){this.bodyNode=v,this._driver=D,this._normalizer=L,this._animations={},this._playersById={},this.players=[]}register(v,D){const L=[],pe=Hr(this._driver,D,L,[]);if(L.length)throw function ht(Q){return new _.vHH(3503,ue)}();this._animations[v]=pe}_buildPlayer(v,D,L){const ee=v.element,pe=Oe(0,this._normalizer,0,v.keyframes,D,L);return this._driver.animate(ee,pe,v.duration,v.delay,v.easing,[],!0)}create(v,D,L={}){const ee=[],pe=this._animations[v];let Be;const He=new Map;if(pe?(Be=Yi(this._driver,D,pe,$n,Hn,{},{},L,dr,ee),Be.forEach(sn=>{const tn=Qt(He,sn.element,{});sn.postStyleProps.forEach(Nn=>tn[Nn]=null)})):(ee.push(function Ze(){return new _.vHH(3300,ue)}()),Be=[]),ee.length)throw function _t(Q){return new _.vHH(3504,ue)}();He.forEach((sn,tn)=>{Object.keys(sn).forEach(Nn=>{sn[Nn]=this._driver.computeStyle(tn,Nn,m.l3)})});const At=et(Be.map(sn=>{const tn=He.get(sn.element);return this._buildPlayer(sn,{},tn)}));return this._playersById[v]=At,At.onDestroy(()=>this.destroy(v)),this.players.push(At),At}destroy(v){const D=this._getPlayer(v);D.destroy(),delete this._playersById[v];const L=this.players.indexOf(D);L>=0&&this.players.splice(L,1)}_getPlayer(v){const D=this._playersById[v];if(!D)throw function at(Q){return new _.vHH(3301,ue)}();return D}listen(v,D,L,ee){const pe=Kt(D,"","","");return gt(this._getPlayer(v),L,pe,ee),()=>{}}command(v,D,L,ee){if("register"==L)return void this.register(v,ee[0]);if("create"==L)return void this.create(v,D,ee[0]||{});const pe=this._getPlayer(v);switch(L){case"play":pe.play();break;case"pause":pe.pause();break;case"reset":pe.reset();break;case"restart":pe.restart();break;case"finish":pe.finish();break;case"init":pe.init();break;case"setPosition":pe.setPosition(parseFloat(ee[0]));break;case"destroy":this.destroy(v)}}}const Pr="ng-animate-queued",Wo="ng-animate-disabled",Mi=[],Ko={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Po={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rr="__ng_removed";class yo{constructor(v,D=""){this.namespaceId=D;const L=v&&v.hasOwnProperty("value");if(this.value=function G(Q){return null!=Q?Q:null}(L?v.value:v),L){const pe=Yt(v);delete pe.value,this.options=pe}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const D=v.params;if(D){const L=this.options.params;Object.keys(D).forEach(ee=>{null==L[ee]&&(L[ee]=D[ee])})}}}const bo="void",Yr=new yo(bo);class io{constructor(v,D,L){this.id=v,this.hostElement=D,this._engine=L,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,St(D,this._hostClassName)}listen(v,D,L,ee){if(!this._triggers.hasOwnProperty(D))throw function Wt(Q,v){return new _.vHH(3302,ue)}();if(null==L||0==L.length)throw function xt(Q){return new _.vHH(3303,ue)}();if(!function j(Q){return"start"==Q||"done"==Q}(L))throw function Pt(Q,v){return new _.vHH(3400,ue)}();const pe=Qt(this._elementListeners,v,[]),Be={name:D,phase:L,callback:ee};pe.push(Be);const He=Qt(this._engine.statesByElement,v,{});return He.hasOwnProperty(D)||(St(v,Vn),St(v,Vn+"-"+D),He[D]=Yr),()=>{this._engine.afterFlush(()=>{const ut=pe.indexOf(Be);ut>=0&&pe.splice(ut,1),this._triggers[D]||delete He[D]})}}register(v,D){return!this._triggers[v]&&(this._triggers[v]=D,!0)}_getTrigger(v){const D=this._triggers[v];if(!D)throw function $t(Q){return new _.vHH(3401,ue)}();return D}trigger(v,D,L,ee=!0){const pe=this._getTrigger(D),Be=new qo(this.id,D,v);let He=this._engine.statesByElement.get(v);He||(St(v,Vn),St(v,Vn+"-"+D),this._engine.statesByElement.set(v,He={}));let ut=He[D];const At=new yo(L,this.id);if(!(L&&L.hasOwnProperty("value"))&&ut&&At.absorbOptions(ut.options),He[D]=At,ut||(ut=Yr),At.value!==bo&&ut.value===At.value){if(!function Un(Q,v){const D=Object.keys(Q),L=Object.keys(v);if(D.length!=L.length)return!1;for(let ee=0;ee<D.length;ee++){const pe=D[ee];if(!v.hasOwnProperty(pe)||Q[pe]!==v[pe])return!1}return!0}(ut.params,At.params)){const zn=[],yi=pe.matchStyles(ut.value,ut.params,zn),Ki=pe.matchStyles(At.value,At.params,zn);zn.length?this._engine.reportError(zn):this._engine.afterFlush(()=>{di(v,yi),Wn(v,Ki)})}return}const Nn=Qt(this._engine.playersByElement,v,[]);Nn.forEach(zn=>{zn.namespaceId==this.id&&zn.triggerName==D&&zn.queued&&zn.destroy()});let qn=pe.matchTransition(ut.value,At.value,v,At.params),En=!1;if(!qn){if(!ee)return;qn=pe.fallbackTransition,En=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:D,transition:qn,fromState:ut,toState:At,player:Be,isFallbackTransition:En}),En||(St(v,Pr),Be.onStart(()=>{on(v,Pr)})),Be.onDone(()=>{let zn=this.players.indexOf(Be);zn>=0&&this.players.splice(zn,1);const yi=this._engine.playersByElement.get(v);if(yi){let Ki=yi.indexOf(Be);Ki>=0&&yi.splice(Ki,1)}}),this.players.push(Be),Nn.push(Be),Be}deregister(v){delete this._triggers[v],this._engine.statesByElement.forEach((D,L)=>{delete D[v]}),this._elementListeners.forEach((D,L)=>{this._elementListeners.set(L,D.filter(ee=>ee.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const D=this._engine.playersByElement.get(v);D&&(D.forEach(L=>L.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,D){const L=this._engine.driver.query(v,Ge,!0);L.forEach(ee=>{if(ee[rr])return;const pe=this._engine.fetchNamespacesByElement(ee);pe.size?pe.forEach(Be=>Be.triggerLeaveAnimation(ee,D,!1,!0)):this.clearElementCache(ee)}),this._engine.afterFlushAnimationsDone(()=>L.forEach(ee=>this.clearElementCache(ee)))}triggerLeaveAnimation(v,D,L,ee){const pe=this._engine.statesByElement.get(v),Be=new Map;if(pe){const He=[];if(Object.keys(pe).forEach(ut=>{if(Be.set(ut,pe[ut].value),this._triggers[ut]){const At=this.trigger(v,ut,bo,ee);At&&He.push(At)}}),He.length)return this._engine.markElementAsRemoved(this.id,v,!0,D,Be),L&&et(He).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const D=this._elementListeners.get(v),L=this._engine.statesByElement.get(v);if(D&&L){const ee=new Set;D.forEach(pe=>{const Be=pe.name;if(ee.has(Be))return;ee.add(Be);const ut=this._triggers[Be].fallbackTransition,At=L[Be]||Yr,sn=new yo(bo),tn=new qo(this.id,Be,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:Be,transition:ut,fromState:At,toState:sn,player:tn,isFallbackTransition:!0})})}}removeNode(v,D){const L=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,D),this.triggerLeaveAnimation(v,D,!0))return;let ee=!1;if(L.totalAnimations){const pe=L.players.length?L.playersByQueriedElement.get(v):[];if(pe&&pe.length)ee=!0;else{let Be=v;for(;Be=Be.parentNode;)if(L.statesByElement.get(Be)){ee=!0;break}}}if(this.prepareLeaveAnimationListeners(v),ee)L.markElementAsRemoved(this.id,v,!1,D);else{const pe=v[rr];(!pe||pe===Ko)&&(L.afterFlush(()=>this.clearElementCache(v)),L.destroyInnerAnimations(v),L._onRemovalComplete(v,D))}}insertNode(v,D){St(v,this._hostClassName)}drainQueuedTransitions(v){const D=[];return this._queue.forEach(L=>{const ee=L.player;if(ee.destroyed)return;const pe=L.element,Be=this._elementListeners.get(pe);Be&&Be.forEach(He=>{if(He.name==L.triggerName){const ut=Kt(pe,L.triggerName,L.fromState.value,L.toState.value);ut._data=v,gt(L.player,He.phase,ut,He.callback)}}),ee.markedForDestroy?this._engine.afterFlush(()=>{ee.destroy()}):D.push(L)}),this._queue=[],D.sort((L,ee)=>{const pe=L.transition.ast.depCount,Be=ee.transition.ast.depCount;return 0==pe||0==Be?pe-Be:this._engine.driver.containsElement(L.element,ee.element)?1:-1})}destroy(v){this.players.forEach(D=>D.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let D=!1;return this._elementListeners.has(v)&&(D=!0),D=!!this._queue.find(L=>L.element===v)||D,D}}class Dr{constructor(v,D,L){this.bodyNode=v,this.driver=D,this._normalizer=L,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ee,pe)=>{}}_onRemovalComplete(v,D){this.onRemovalComplete(v,D)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(D=>{D.players.forEach(L=>{L.queued&&v.push(L)})}),v}createNamespace(v,D){const L=new io(v,D,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,D)?this._balanceNamespaceList(L,D):(this.newHostElements.set(D,L),this.collectEnterElement(D)),this._namespaceLookup[v]=L}_balanceNamespaceList(v,D){const L=this._namespaceList,ee=this.namespacesByHostElement,pe=L.length-1;if(pe>=0){let Be=!1;if(void 0!==this.driver.getParentElement){let He=this.driver.getParentElement(D);for(;He;){const ut=ee.get(He);if(ut){const At=L.indexOf(ut);L.splice(At+1,0,v),Be=!0;break}He=this.driver.getParentElement(He)}}else for(let He=pe;He>=0;He--)if(this.driver.containsElement(L[He].hostElement,D)){L.splice(He+1,0,v),Be=!0;break}Be||L.unshift(v)}else L.push(v);return ee.set(D,v),v}register(v,D){let L=this._namespaceLookup[v];return L||(L=this.createNamespace(v,D)),L}registerTrigger(v,D,L){let ee=this._namespaceLookup[v];ee&&ee.register(D,L)&&this.totalAnimations++}destroy(v,D){if(!v)return;const L=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(L.hostElement),delete this._namespaceLookup[v];const ee=this._namespaceList.indexOf(L);ee>=0&&this._namespaceList.splice(ee,1)}),this.afterFlushAnimationsDone(()=>L.destroy(D))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const D=new Set,L=this.statesByElement.get(v);if(L){const ee=Object.keys(L);for(let pe=0;pe<ee.length;pe++){const Be=L[ee[pe]].namespaceId;if(Be){const He=this._fetchNamespace(Be);He&&D.add(He)}}}return D}trigger(v,D,L,ee){if(re(D)){const pe=this._fetchNamespace(v);if(pe)return pe.trigger(D,L,ee),!0}return!1}insertNode(v,D,L,ee){if(!re(D))return;const pe=D[rr];if(pe&&pe.setForRemoval){pe.setForRemoval=!1,pe.setForMove=!0;const Be=this.collectedLeaveElements.indexOf(D);Be>=0&&this.collectedLeaveElements.splice(Be,1)}if(v){const Be=this._fetchNamespace(v);Be&&Be.insertNode(D,L)}ee&&this.collectEnterElement(D)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,D){D?this.disabledNodes.has(v)||(this.disabledNodes.add(v),St(v,Wo)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),on(v,Wo))}removeNode(v,D,L,ee){if(re(D)){const pe=v?this._fetchNamespace(v):null;if(pe?pe.removeNode(D,ee):this.markElementAsRemoved(v,D,!1,ee),L){const Be=this.namespacesByHostElement.get(D);Be&&Be.id!==v&&Be.removeNode(D,ee)}}else this._onRemovalComplete(D,ee)}markElementAsRemoved(v,D,L,ee,pe){this.collectedLeaveElements.push(D),D[rr]={namespaceId:v,setForRemoval:ee,hasAnimation:L,removedBeforeQueried:!1,previousTriggersValues:pe}}listen(v,D,L,ee,pe){return re(D)?this._fetchNamespace(v).listen(D,L,ee,pe):()=>{}}_buildInstruction(v,D,L,ee,pe){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,L,ee,v.fromState.options,v.toState.options,D,pe)}destroyInnerAnimations(v){let D=this.driver.query(v,Ge,!0);D.forEach(L=>this.destroyActiveAnimationsForElement(L)),0!=this.playersByQueriedElement.size&&(D=this.driver.query(v,I,!0),D.forEach(L=>this.finishActiveQueriedAnimationOnElement(L)))}destroyActiveAnimationsForElement(v){const D=this.playersByElement.get(v);D&&D.forEach(L=>{L.queued?L.markedForDestroy=!0:L.destroy()})}finishActiveQueriedAnimationOnElement(v){const D=this.playersByQueriedElement.get(v);D&&D.forEach(L=>L.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return et(this.players).onDone(()=>v());v()})}processLeaveNode(v){var D;const L=v[rr];if(L&&L.setForRemoval){if(v[rr]=Ko,L.namespaceId){this.destroyInnerAnimations(v);const ee=this._fetchNamespace(L.namespaceId);ee&&ee.clearElementCache(v)}this._onRemovalComplete(v,L.setForRemoval)}(null===(D=v.classList)||void 0===D?void 0:D.contains(Wo))&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(ee=>{this.markElementAsDisabled(ee,!1)})}flush(v=-1){let D=[];if(this.newHostElements.size&&(this.newHostElements.forEach((L,ee)=>this._balanceNamespaceList(L,ee)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let L=0;L<this.collectedEnterElements.length;L++)St(this.collectedEnterElements[L],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const L=[];try{D=this._flushAnimations(L,v)}finally{for(let ee=0;ee<L.length;ee++)L[ee]()}}else for(let L=0;L<this.collectedLeaveElements.length;L++)this.processLeaveNode(this.collectedLeaveElements[L]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(L=>L()),this._flushFns=[],this._whenQuietFns.length){const L=this._whenQuietFns;this._whenQuietFns=[],D.length?et(D).onDone(()=>{L.forEach(ee=>ee())}):L.forEach(ee=>ee())}}reportError(v){throw function Ft(Q){return new _.vHH(3402,ue)}()}_flushAnimations(v,D){const L=new $r,ee=[],pe=new Map,Be=[],He=new Map,ut=new Map,At=new Map,sn=new Set;this.disabledNodes.forEach(dn=>{sn.add(dn);const bn=this.driver.query(dn,".ng-animate-queued",!0);for(let Mn=0;Mn<bn.length;Mn++)sn.add(bn[Mn])});const tn=this.bodyNode,Nn=Array.from(this.statesByElement.keys()),qn=Dt(Nn,this.collectedEnterElements),En=new Map;let zn=0;qn.forEach((dn,bn)=>{const Mn=$n+zn++;En.set(bn,Mn),dn.forEach(Zn=>St(Zn,Mn))});const yi=[],Ki=new Set,Pi=new Set;for(let dn=0;dn<this.collectedLeaveElements.length;dn++){const bn=this.collectedLeaveElements[dn],Mn=bn[rr];Mn&&Mn.setForRemoval&&(yi.push(bn),Ki.add(bn),Mn.hasAnimation?this.driver.query(bn,".ng-star-inserted",!0).forEach(Zn=>Ki.add(Zn)):Pi.add(bn))}const gr=new Map,Ji=Dt(Nn,Array.from(Ki));Ji.forEach((dn,bn)=>{const Mn=Hn+zn++;gr.set(bn,Mn),dn.forEach(Zn=>St(Zn,Mn))}),v.push(()=>{qn.forEach((dn,bn)=>{const Mn=En.get(bn);dn.forEach(Zn=>on(Zn,Mn))}),Ji.forEach((dn,bn)=>{const Mn=gr.get(bn);dn.forEach(Zn=>on(Zn,Mn))}),yi.forEach(dn=>{this.processLeaveNode(dn)})});const qi=[],Si=[];for(let dn=this._namespaceList.length-1;dn>=0;dn--)this._namespaceList[dn].drainQueuedTransitions(D).forEach(Mn=>{const Zn=Mn.player,pi=Mn.element;if(qi.push(Zn),this.collectedEnterElements.length){const or=pi[rr];if(or&&or.setForMove){if(or.previousTriggersValues&&or.previousTriggersValues.has(Mn.triggerName)){const so=or.previousTriggersValues.get(Mn.triggerName),ji=this.statesByElement.get(Mn.element);ji&&ji[Mn.triggerName]&&(ji[Mn.triggerName].value=so)}return void Zn.destroy()}}const hr=!tn||!this.driver.containsElement(tn,pi),Qi=gr.get(pi),oo=En.get(pi),li=this._buildInstruction(Mn,L,oo,Qi,hr);if(li.errors&&li.errors.length)return void Si.push(li);if(hr)return Zn.onStart(()=>di(pi,li.fromStyles)),Zn.onDestroy(()=>Wn(pi,li.toStyles)),void ee.push(Zn);if(Mn.isFallbackTransition)return Zn.onStart(()=>di(pi,li.fromStyles)),Zn.onDestroy(()=>Wn(pi,li.toStyles)),void ee.push(Zn);const Fr=[];li.timelines.forEach(or=>{or.stretchStartingKeyframe=!0,this.disabledNodes.has(or.element)||Fr.push(or)}),li.timelines=Fr,L.append(pi,li.timelines),Be.push({instruction:li,player:Zn,element:pi}),li.queriedElements.forEach(or=>Qt(He,or,[]).push(Zn)),li.preStyleProps.forEach((or,so)=>{const ji=Object.keys(or);if(ji.length){let Er=ut.get(so);Er||ut.set(so,Er=new Set),ji.forEach(ds=>Er.add(ds))}}),li.postStyleProps.forEach((or,so)=>{const ji=Object.keys(or);let Er=At.get(so);Er||At.set(so,Er=new Set),ji.forEach(ds=>Er.add(ds))})});if(Si.length){const dn=[];Si.forEach(bn=>{dn.push(function Vt(Q,v){return new _.vHH(3505,ue)}())}),qi.forEach(bn=>bn.destroy()),this.reportError(dn)}const Qn=new Map,Mo=new Map;Be.forEach(dn=>{const bn=dn.element;L.has(bn)&&(Mo.set(bn,bn),this._beforeAnimationBuild(dn.player.namespaceId,dn.instruction,Qn))}),ee.forEach(dn=>{const bn=dn.element;this._getPreviousPlayers(bn,!1,dn.namespaceId,dn.triggerName,null).forEach(Zn=>{Qt(Qn,bn,[]).push(Zn),Zn.destroy()})});const ro=yi.filter(dn=>On(dn,ut,At)),wr=new Map;$e(wr,this.driver,Pi,At,m.l3).forEach(dn=>{On(dn,ut,At)&&ro.push(dn)});const Qo=new Map;qn.forEach((dn,bn)=>{$e(Qo,this.driver,new Set(dn),ut,m.k1)}),ro.forEach(dn=>{const bn=wr.get(dn),Mn=Qo.get(dn);wr.set(dn,Object.assign(Object.assign({},bn),Mn))});const Kr=[],To=[],Ni={};Be.forEach(dn=>{const{element:bn,player:Mn,instruction:Zn}=dn;if(L.has(bn)){if(sn.has(bn))return Mn.onDestroy(()=>Wn(bn,Zn.toStyles)),Mn.disabled=!0,Mn.overrideTotalTime(Zn.totalTime),void ee.push(Mn);let pi=Ni;if(Mo.size>1){let Qi=bn;const oo=[];for(;Qi=Qi.parentNode;){const li=Mo.get(Qi);if(li){pi=li;break}oo.push(Qi)}oo.forEach(li=>Mo.set(li,pi))}const hr=this._buildAnimation(Mn.namespaceId,Zn,Qn,pe,Qo,wr);if(Mn.setRealPlayer(hr),pi===Ni)Kr.push(Mn);else{const Qi=this.playersByElement.get(pi);Qi&&Qi.length&&(Mn.parentPlayer=et(Qi)),ee.push(Mn)}}else di(bn,Zn.fromStyles),Mn.onDestroy(()=>Wn(bn,Zn.toStyles)),To.push(Mn),sn.has(bn)&&ee.push(Mn)}),To.forEach(dn=>{const bn=pe.get(dn.element);if(bn&&bn.length){const Mn=et(bn);dn.setRealPlayer(Mn)}}),ee.forEach(dn=>{dn.parentPlayer?dn.syncPlayerEvents(dn.parentPlayer):dn.destroy()});for(let dn=0;dn<yi.length;dn++){const bn=yi[dn],Mn=bn[rr];if(on(bn,Hn),Mn&&Mn.hasAnimation)continue;let Zn=[];if(He.size){let hr=He.get(bn);hr&&hr.length&&Zn.push(...hr);let Qi=this.driver.query(bn,I,!0);for(let oo=0;oo<Qi.length;oo++){let li=He.get(Qi[oo]);li&&li.length&&Zn.push(...li)}}const pi=Zn.filter(hr=>!hr.destroyed);pi.length?si(this,bn,pi):this.processLeaveNode(bn)}return yi.length=0,Kr.forEach(dn=>{this.players.push(dn),dn.onDone(()=>{dn.destroy();const bn=this.players.indexOf(dn);this.players.splice(bn,1)}),dn.play()}),Kr}elementContainsData(v,D){let L=!1;const ee=D[rr];return ee&&ee.setForRemoval&&(L=!0),this.playersByElement.has(D)&&(L=!0),this.playersByQueriedElement.has(D)&&(L=!0),this.statesByElement.has(D)&&(L=!0),this._fetchNamespace(v).elementContainsData(D)||L}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,D,L,ee,pe){let Be=[];if(D){const He=this.playersByQueriedElement.get(v);He&&(Be=He)}else{const He=this.playersByElement.get(v);if(He){const ut=!pe||pe==bo;He.forEach(At=>{At.queued||!ut&&At.triggerName!=ee||Be.push(At)})}}return(L||ee)&&(Be=Be.filter(He=>!(L&&L!=He.namespaceId||ee&&ee!=He.triggerName))),Be}_beforeAnimationBuild(v,D,L){const pe=D.element,Be=D.isRemovalTransition?void 0:v,He=D.isRemovalTransition?void 0:D.triggerName;for(const ut of D.timelines){const At=ut.element,sn=At!==pe,tn=Qt(L,At,[]);this._getPreviousPlayers(At,sn,Be,He,D.toState).forEach(qn=>{const En=qn.getRealPlayer();En.beforeDestroy&&En.beforeDestroy(),qn.destroy(),tn.push(qn)})}di(pe,D.fromStyles)}_buildAnimation(v,D,L,ee,pe,Be){const He=D.triggerName,ut=D.element,At=[],sn=new Set,tn=new Set,Nn=D.timelines.map(En=>{const zn=En.element;sn.add(zn);const yi=zn[rr];if(yi&&yi.removedBeforeQueried)return new m.ZN(En.duration,En.delay);const Ki=zn!==ut,Pi=function Kn(Q){const v=[];return Fn(Q,v),v}((L.get(zn)||Mi).map(Qn=>Qn.getRealPlayer())).filter(Qn=>!!Qn.element&&Qn.element===zn),gr=pe.get(zn),Ji=Be.get(zn),qi=Oe(0,this._normalizer,0,En.keyframes,gr,Ji),Si=this._buildPlayer(En,qi,Pi);if(En.subTimeline&&ee&&tn.add(zn),Ki){const Qn=new qo(v,He,zn);Qn.setRealPlayer(Si),At.push(Qn)}return Si});At.forEach(En=>{Qt(this.playersByQueriedElement,En.element,[]).push(En),En.onDone(()=>function ti(Q,v,D){let L;if(Q instanceof Map){if(L=Q.get(v),L){if(L.length){const ee=L.indexOf(D);L.splice(ee,1)}0==L.length&&Q.delete(v)}}else if(L=Q[v],L){if(L.length){const ee=L.indexOf(D);L.splice(ee,1)}0==L.length&&delete Q[v]}return L}(this.playersByQueriedElement,En.element,En))}),sn.forEach(En=>St(En,H));const qn=et(Nn);return qn.onDestroy(()=>{sn.forEach(En=>on(En,H)),Wn(ut,D.toStyles)}),tn.forEach(En=>{Qt(ee,En,[]).push(qn)}),qn}_buildPlayer(v,D,L){return D.length>0?this.driver.animate(v.element,D,v.duration,v.delay,v.easing,L):new m.ZN(v.duration,v.delay)}}class qo{constructor(v,D,L){this.namespaceId=v,this.triggerName=D,this.element=L,this._player=new m.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,Object.keys(this._queuedCallbacks).forEach(D=>{this._queuedCallbacks[D].forEach(L=>gt(v,D,void 0,L))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const D=this._player;D.triggerCallback&&v.onStart(()=>D.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,D){Qt(this._queuedCallbacks,v,[]).push(D)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const D=this._player;D.triggerCallback&&D.triggerCallback(v)}}function re(Q){return Q&&1===Q.nodeType}function ce(Q,v){const D=Q.style.display;return Q.style.display=null!=v?v:"none",D}function $e(Q,v,D,L,ee){const pe=[];D.forEach(ut=>pe.push(ce(ut)));const Be=[];L.forEach((ut,At)=>{const sn={};ut.forEach(tn=>{const Nn=sn[tn]=v.computeStyle(At,tn,ee);(!Nn||0==Nn.length)&&(At[rr]=Po,Be.push(At))}),Q.set(At,sn)});let He=0;return D.forEach(ut=>ce(ut,pe[He++])),Be}function Dt(Q,v){const D=new Map;if(Q.forEach(He=>D.set(He,[])),0==v.length)return D;const ee=new Set(v),pe=new Map;function Be(He){if(!He)return 1;let ut=pe.get(He);if(ut)return ut;const At=He.parentNode;return ut=D.has(At)?At:ee.has(At)?1:Be(At),pe.set(He,ut),ut}return v.forEach(He=>{const ut=Be(He);1!==ut&&D.get(ut).push(He)}),D}function St(Q,v){var D;null===(D=Q.classList)||void 0===D||D.add(v)}function on(Q,v){var D;null===(D=Q.classList)||void 0===D||D.remove(v)}function si(Q,v,D){et(D).onDone(()=>Q.processLeaveNode(v))}function Fn(Q,v){for(let D=0;D<Q.length;D++){const L=Q[D];L instanceof m.ZE?Fn(L.players,v):v.push(L)}}function On(Q,v,D){const L=D.get(Q);if(!L)return!1;let ee=v.get(Q);return ee?L.forEach(pe=>ee.add(pe)):v.set(Q,L),D.delete(Q),!0}class ni{constructor(v,D,L){this.bodyNode=v,this._driver=D,this._normalizer=L,this._triggerCache={},this.onRemovalComplete=(ee,pe)=>{},this._transitionEngine=new Dr(v,D,L),this._timelineEngine=new as(v,D,L),this._transitionEngine.onRemovalComplete=(ee,pe)=>this.onRemovalComplete(ee,pe)}registerTrigger(v,D,L,ee,pe){const Be=v+"-"+ee;let He=this._triggerCache[Be];if(!He){const ut=[],sn=Hr(this._driver,pe,ut,[]);if(ut.length)throw function Xe(Q,v){return new _.vHH(3404,ue)}();He=function js(Q,v,D){return new ur(Q,v,D)}(ee,sn,this._normalizer),this._triggerCache[Be]=He}this._transitionEngine.registerTrigger(D,ee,He)}register(v,D){this._transitionEngine.register(v,D)}destroy(v,D){this._transitionEngine.destroy(v,D)}onInsert(v,D,L,ee){this._transitionEngine.insertNode(v,D,L,ee)}onRemove(v,D,L,ee){this._transitionEngine.removeNode(v,D,ee||!1,L)}disableAnimations(v,D){this._transitionEngine.markElementAsDisabled(v,D)}process(v,D,L,ee){if("@"==L.charAt(0)){const[pe,Be]=ln(L);this._timelineEngine.command(pe,D,Be,ee)}else this._transitionEngine.trigger(v,D,L,ee)}listen(v,D,L,ee,pe){if("@"==L.charAt(0)){const[Be,He]=ln(L);return this._timelineEngine.listen(Be,D,He,pe)}return this._transitionEngine.listen(v,D,L,ee,pe)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let $=(()=>{class Q{constructor(D,L,ee){this._element=D,this._startStyles=L,this._endStyles=ee,this._state=0;let pe=Q.initialStylesByElement.get(D);pe||Q.initialStylesByElement.set(D,pe={}),this._initialStyles=pe}start(){this._state<1&&(this._startStyles&&Wn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wn(this._element,this._initialStyles),this._endStyles&&(Wn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Q.initialStylesByElement.delete(this._element),this._startStyles&&(di(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(di(this._element,this._endStyles),this._endStyles=null),Wn(this._element,this._initialStyles),this._state=3)}}return Q.initialStylesByElement=new WeakMap,Q})();function N(Q){let v=null;const D=Object.keys(Q);for(let L=0;L<D.length;L++){const ee=D[L];k(ee)&&(v=v||{},v[ee]=Q[ee])}return v}function k(Q){return"display"===Q||"position"===Q}class se{constructor(v,D,L,ee){this.element=v,this.keyframes=D,this.options=L,this._specialStyles=ee,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=L.duration,this._delay=L.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(v,D,L){return v.animate(D,L)}onStart(v){this._onStartFns.push(v)}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v={};if(this.hasStarted()){const D=this._finalKeyframe;Object.keys(D).forEach(L=>{"offset"!=L&&(v[L]=this._finished?D[L]:Gi(this.element,L))})}this.currentSnapshot=v}triggerCallback(v){const D="start"==v?this._onStartFns:this._onDoneFns;D.forEach(L=>L()),D.length=0}}class Mt{validateStyleProperty(v){return Y(v)}matchesElement(v,D){return!1}containsElement(v,D){return oe(v,D)}getParentElement(v){return we(v)}query(v,D,L){return Ve(v,D,L)}computeStyle(v,D,L){return window.getComputedStyle(v)[D]}animate(v,D,L,ee,pe,Be=[]){const ut={duration:L,delay:ee,fill:0==ee?"both":"forwards"};pe&&(ut.easing=pe);const At={},sn=Be.filter(Nn=>Nn instanceof se);(function Di(Q,v){return 0===Q||0===v})(L,ee)&&sn.forEach(Nn=>{let qn=Nn.currentSnapshot;Object.keys(qn).forEach(En=>At[En]=qn[En])}),D=function Hi(Q,v,D){const L=Object.keys(D);if(L.length&&v.length){let pe=v[0],Be=[];if(L.forEach(He=>{pe.hasOwnProperty(He)||Be.push(He),pe[He]=D[He]}),Be.length)for(var ee=1;ee<v.length;ee++){let He=v[ee];Be.forEach(function(ut){He[ut]=Gi(Q,ut)})}}return v}(v,D=D.map(Nn=>xn(Nn,!1)),At);const tn=function Ii(Q,v){let D=null,L=null;return Array.isArray(v)&&v.length?(D=N(v[0]),v.length>1&&(L=N(v[v.length-1]))):v&&(D=N(v)),D||L?new $(Q,D,L):null}(v,D);return new se(v,D,ut,tn)}}var cn=R(9808);let Ti=(()=>{class Q extends m._j{constructor(D,L){super(),this._nextAnimationId=0,this._renderer=D.createRenderer(L.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(D){const L=this._nextAnimationId.toString();this._nextAnimationId++;const ee=Array.isArray(D)?(0,m.vP)(D):D;return Fo(this._renderer,null,L,"register",[ee]),new Wr(L,this._renderer)}}return Q.\u0275fac=function(D){return new(D||Q)(_.LFG(_.FYo),_.LFG(cn.K0))},Q.\u0275prov=_.Yz7({token:Q,factory:Q.\u0275fac}),Q})();class Wr extends m.LC{constructor(v,D){super(),this._id=v,this._renderer=D}create(v,D){return new Co(this._id,v,D||{},this._renderer)}}class Co{constructor(v,D,L,ee){this.id=v,this.element=D,this._renderer=ee,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",L)}_listen(v,D){return this._renderer.listen(this.element,`@@${this.id}:${v}`,D)}_command(v,...D){return Fo(this._renderer,this.element,this.id,v,D)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){var v,D;return null!==(D=null===(v=this._renderer.engine.players[+this.id])||void 0===v?void 0:v.getPosition())&&void 0!==D?D:0}}function Fo(Q,v,D,L,ee){return Q.setProperty(v,`@@${D}:${L}`,ee)}const Bt="@.disabled";let ai=(()=>{class Q{constructor(D,L,ee){this.delegate=D,this.engine=L,this._zone=ee,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),L.onRemovalComplete=(pe,Be)=>{const He=null==Be?void 0:Be.parentNode(pe);He&&Be.removeChild(He,pe)}}createRenderer(D,L){const pe=this.delegate.createRenderer(D,L);if(!(D&&L&&L.data&&L.data.animation)){let sn=this._rendererCache.get(pe);return sn||(sn=new cs("",pe,this.engine),this._rendererCache.set(pe,sn)),sn}const Be=L.id,He=L.id+"-"+this._currentId;this._currentId++,this.engine.register(He,D);const ut=sn=>{Array.isArray(sn)?sn.forEach(ut):this.engine.registerTrigger(Be,He,D,sn.name,sn)};return L.data.animation.forEach(ut),new Oi(this,He,pe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(D,L,ee){D>=0&&D<this._microtaskId?this._zone.run(()=>L(ee)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(pe=>{const[Be,He]=pe;Be(He)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([L,ee]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return Q.\u0275fac=function(D){return new(D||Q)(_.LFG(_.FYo),_.LFG(ni),_.LFG(_.R0b))},Q.\u0275prov=_.Yz7({token:Q,factory:Q.\u0275fac}),Q})();class cs{constructor(v,D,L){this.namespaceId=v,this.delegate=D,this.engine=L,this.destroyNode=this.delegate.destroyNode?ee=>D.destroyNode(ee):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(v,D){return this.delegate.createElement(v,D)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,D){this.delegate.appendChild(v,D),this.engine.onInsert(this.namespaceId,D,v,!1)}insertBefore(v,D,L,ee=!0){this.delegate.insertBefore(v,D,L),this.engine.onInsert(this.namespaceId,D,v,ee)}removeChild(v,D,L){this.engine.onRemove(this.namespaceId,D,this.delegate,L)}selectRootElement(v,D){return this.delegate.selectRootElement(v,D)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,D,L,ee){this.delegate.setAttribute(v,D,L,ee)}removeAttribute(v,D,L){this.delegate.removeAttribute(v,D,L)}addClass(v,D){this.delegate.addClass(v,D)}removeClass(v,D){this.delegate.removeClass(v,D)}setStyle(v,D,L,ee){this.delegate.setStyle(v,D,L,ee)}removeStyle(v,D,L){this.delegate.removeStyle(v,D,L)}setProperty(v,D,L){"@"==D.charAt(0)&&D==Bt?this.disableAnimations(v,!!L):this.delegate.setProperty(v,D,L)}setValue(v,D){this.delegate.setValue(v,D)}listen(v,D,L){return this.delegate.listen(v,D,L)}disableAnimations(v,D){this.engine.disableAnimations(v,D)}}class Oi extends cs{constructor(v,D,L,ee){super(D,L,ee),this.factory=v,this.namespaceId=D}setProperty(v,D,L){"@"==D.charAt(0)?"."==D.charAt(1)&&D==Bt?this.disableAnimations(v,L=void 0===L||!!L):this.engine.process(this.namespaceId,v,D.substr(1),L):this.delegate.setProperty(v,D,L)}listen(v,D,L){if("@"==D.charAt(0)){const ee=function Ua(Q){switch(Q){case"body":return document.body;case"document":return document;case"window":return window;default:return Q}}(v);let pe=D.substr(1),Be="";return"@"!=pe.charAt(0)&&([pe,Be]=function No(Q){const v=Q.indexOf(".");return[Q.substring(0,v),Q.substr(v+1)]}(pe)),this.engine.listen(this.namespaceId,ee,pe,Be,He=>{this.factory.scheduleListenerCallback(He._data||-1,L,He)})}return this.delegate.listen(v,D,L)}}let wo=(()=>{class Q extends ni{constructor(D,L,ee){super(D.body,L,ee)}ngOnDestroy(){this.flush()}}return Q.\u0275fac=function(D){return new(D||Q)(_.LFG(cn.K0),_.LFG(It),_.LFG(ko))},Q.\u0275prov=_.Yz7({token:Q,factory:Q.\u0275fac}),Q})();const Ga=new _.OlP("AnimationModuleType"),us=[{provide:m._j,useClass:Ti},{provide:ko,useFactory:function Ha(){return new $o}},{provide:ni,useClass:wo},{provide:_.FYo,useFactory:function va(Q,v,D){return new ai(Q,v,D)},deps:[z.se,ni,_.R0b]}],ya=[{provide:It,useFactory:()=>new Mt},{provide:Ga,useValue:"BrowserAnimations"},...us],Us=[{provide:It,useClass:bt},{provide:Ga,useValue:"NoopAnimations"},...us];let mr=(()=>{class Q{static withConfig(D){return{ngModule:Q,providers:D.disableAnimations?Us:ya}}}return Q.\u0275fac=function(D){return new(D||Q)},Q.\u0275mod=_.oAB({type:Q}),Q.\u0275inj=_.cJS({providers:ya,imports:[z.b2]}),Q})()},2313:(Ht,Qe,R)=>{R.d(Qe,{H7:()=>Yn,b2:()=>fn,q6:()=>Qt,se:()=>ht});var _=R(9808),z=R(5e3);class m extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends m{static makeCurrent(){(0,_.HT)(new ue)}onAndCancel(Ke,Me,Je){return Ke.addEventListener(Me,Je,!1),()=>{Ke.removeEventListener(Me,Je,!1)}}dispatchEvent(Ke,Me){Ke.dispatchEvent(Me)}remove(Ke){Ke.parentNode&&Ke.parentNode.removeChild(Ke)}createElement(Ke,Me){return(Me=Me||this.getDefaultDocument()).createElement(Ke)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ke){return Ke.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ke){return Ke instanceof DocumentFragment}getGlobalEventTarget(Ke,Me){return"window"===Me?window:"document"===Me?Ke:"body"===Me?Ke.body:null}getBaseHref(Ke){const Me=function xe(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==Me?null:function ke(qe){Pe=Pe||document.createElement("a"),Pe.setAttribute("href",qe);const Ke=Pe.pathname;return"/"===Ke.charAt(0)?Ke:`/${Ke}`}(Me)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ke){return(0,_.Mx)(document.cookie,Ke)}}let Pe,de=null;const De=new z.OlP("TRANSITION_ID"),Te=[{provide:z.ip1,useFactory:function he(qe,Ke,Me){return()=>{Me.get(z.CZH).donePromise.then(()=>{const Je=(0,_.q)(),kt=Ke.querySelectorAll(`style[ng-transition="${qe}"]`);for(let mn=0;mn<kt.length;mn++)Je.remove(kt[mn])})}},deps:[De,_.K0,z.zs3],multi:!0}];class Ee{static init(){(0,z.VLi)(new Ee)}addToWindow(Ke){z.dqk.getAngularTestability=(Je,kt=!0)=>{const mn=Ke.findTestabilityInTree(Je,kt);if(null==mn)throw new Error("Could not find testability for element.");return mn},z.dqk.getAllAngularTestabilities=()=>Ke.getAllTestabilities(),z.dqk.getAllAngularRootElements=()=>Ke.getAllRootElements(),z.dqk.frameworkStabilizers||(z.dqk.frameworkStabilizers=[]),z.dqk.frameworkStabilizers.push(Je=>{const kt=z.dqk.getAllAngularTestabilities();let mn=kt.length,Dn=!1;const mi=function(Di){Dn=Dn||Di,mn--,0==mn&&Je(Dn)};kt.forEach(function(Di){Di.whenStable(mi)})})}findTestabilityInTree(Ke,Me,Je){if(null==Me)return null;const kt=Ke.getTestability(Me);return null!=kt?kt:Je?(0,_.q)().isShadowRoot(Me)?this.findTestabilityInTree(Ke,Me.host,!0):this.findTestabilityInTree(Ke,Me.parentElement,!0):null}}let Fe=(()=>{class qe{build(){return new XMLHttpRequest}}return qe.\u0275fac=function(Me){return new(Me||qe)},qe.\u0275prov=z.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const Ie=new z.OlP("EventManagerPlugins");let Ae=(()=>{class qe{constructor(Me,Je){this._zone=Je,this._eventNameToPlugin=new Map,Me.forEach(kt=>kt.manager=this),this._plugins=Me.slice().reverse()}addEventListener(Me,Je,kt){return this._findPluginFor(Je).addEventListener(Me,Je,kt)}addGlobalEventListener(Me,Je,kt){return this._findPluginFor(Je).addGlobalEventListener(Me,Je,kt)}getZone(){return this._zone}_findPluginFor(Me){const Je=this._eventNameToPlugin.get(Me);if(Je)return Je;const kt=this._plugins;for(let mn=0;mn<kt.length;mn++){const Dn=kt[mn];if(Dn.supports(Me))return this._eventNameToPlugin.set(Me,Dn),Dn}throw new Error(`No event manager plugin found for event ${Me}`)}}return qe.\u0275fac=function(Me){return new(Me||qe)(z.LFG(Ie),z.LFG(z.R0b))},qe.\u0275prov=z.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class ot{constructor(Ke){this._doc=Ke}addGlobalEventListener(Ke,Me,Je){const kt=(0,_.q)().getGlobalEventTarget(this._doc,Ke);if(!kt)throw new Error(`Unsupported event target ${kt} for event ${Me}`);return this.addEventListener(kt,Me,Je)}}let Ue=(()=>{class qe{constructor(){this._stylesSet=new Set}addStyles(Me){const Je=new Set;Me.forEach(kt=>{this._stylesSet.has(kt)||(this._stylesSet.add(kt),Je.add(kt))}),this.onStylesAdded(Je)}onStylesAdded(Me){}getAllStyles(){return Array.from(this._stylesSet)}}return qe.\u0275fac=function(Me){return new(Me||qe)},qe.\u0275prov=z.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),lt=(()=>{class qe extends Ue{constructor(Me){super(),this._doc=Me,this._hostNodes=new Map,this._hostNodes.set(Me.head,[])}_addStylesToHost(Me,Je,kt){Me.forEach(mn=>{const Dn=this._doc.createElement("style");Dn.textContent=mn,kt.push(Je.appendChild(Dn))})}addHost(Me){const Je=[];this._addStylesToHost(this._stylesSet,Me,Je),this._hostNodes.set(Me,Je)}removeHost(Me){const Je=this._hostNodes.get(Me);Je&&Je.forEach(Tt),this._hostNodes.delete(Me)}onStylesAdded(Me){this._hostNodes.forEach((Je,kt)=>{this._addStylesToHost(Me,kt,Je)})}ngOnDestroy(){this._hostNodes.forEach(Me=>Me.forEach(Tt))}}return qe.\u0275fac=function(Me){return new(Me||qe)(z.LFG(_.K0))},qe.\u0275prov=z.Yz7({token:qe,factory:qe.\u0275fac}),qe})();function Tt(qe){(0,_.q)().remove(qe)}const zt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},st=/%COMP%/g;function fe(qe,Ke,Me){for(let Je=0;Je<Ke.length;Je++){let kt=Ke[Je];Array.isArray(kt)?fe(qe,kt,Me):(kt=kt.replace(st,qe),Me.push(kt))}return Me}function Xe(qe){return Ke=>{if("__ngUnwrap__"===Ke)return qe;!1===qe(Ke)&&(Ke.preventDefault(),Ke.returnValue=!1)}}let ht=(()=>{class qe{constructor(Me,Je,kt){this.eventManager=Me,this.sharedStylesHost=Je,this.appId=kt,this.rendererByCompId=new Map,this.defaultRenderer=new Ze(Me)}createRenderer(Me,Je){if(!Me||!Je)return this.defaultRenderer;switch(Je.encapsulation){case z.ifc.Emulated:{let kt=this.rendererByCompId.get(Je.id);return kt||(kt=new Wt(this.eventManager,this.sharedStylesHost,Je,this.appId),this.rendererByCompId.set(Je.id,kt)),kt.applyToHost(Me),kt}case 1:case z.ifc.ShadowDom:return new xt(this.eventManager,this.sharedStylesHost,Me,Je);default:if(!this.rendererByCompId.has(Je.id)){const kt=fe(Je.id,Je.styles,[]);this.sharedStylesHost.addStyles(kt),this.rendererByCompId.set(Je.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return qe.\u0275fac=function(Me){return new(Me||qe)(z.LFG(Ae),z.LFG(lt),z.LFG(z.AFp))},qe.\u0275prov=z.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class Ze{constructor(Ke){this.eventManager=Ke,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ke,Me){return Me?document.createElementNS(zt[Me]||Me,Ke):document.createElement(Ke)}createComment(Ke){return document.createComment(Ke)}createText(Ke){return document.createTextNode(Ke)}appendChild(Ke,Me){Ke.appendChild(Me)}insertBefore(Ke,Me,Je){Ke&&Ke.insertBefore(Me,Je)}removeChild(Ke,Me){Ke&&Ke.removeChild(Me)}selectRootElement(Ke,Me){let Je="string"==typeof Ke?document.querySelector(Ke):Ke;if(!Je)throw new Error(`The selector "${Ke}" did not match any elements`);return Me||(Je.textContent=""),Je}parentNode(Ke){return Ke.parentNode}nextSibling(Ke){return Ke.nextSibling}setAttribute(Ke,Me,Je,kt){if(kt){Me=kt+":"+Me;const mn=zt[kt];mn?Ke.setAttributeNS(mn,Me,Je):Ke.setAttribute(Me,Je)}else Ke.setAttribute(Me,Je)}removeAttribute(Ke,Me,Je){if(Je){const kt=zt[Je];kt?Ke.removeAttributeNS(kt,Me):Ke.removeAttribute(`${Je}:${Me}`)}else Ke.removeAttribute(Me)}addClass(Ke,Me){Ke.classList.add(Me)}removeClass(Ke,Me){Ke.classList.remove(Me)}setStyle(Ke,Me,Je,kt){kt&(z.JOm.DashCase|z.JOm.Important)?Ke.style.setProperty(Me,Je,kt&z.JOm.Important?"important":""):Ke.style[Me]=Je}removeStyle(Ke,Me,Je){Je&z.JOm.DashCase?Ke.style.removeProperty(Me):Ke.style[Me]=""}setProperty(Ke,Me,Je){Ke[Me]=Je}setValue(Ke,Me){Ke.nodeValue=Me}listen(Ke,Me,Je){return"string"==typeof Ke?this.eventManager.addGlobalEventListener(Ke,Me,Xe(Je)):this.eventManager.addEventListener(Ke,Me,Xe(Je))}}class Wt extends Ze{constructor(Ke,Me,Je,kt){super(Ke),this.component=Je;const mn=fe(kt+"-"+Je.id,Je.styles,[]);Me.addStyles(mn),this.contentAttr=function nt(qe){return"_ngcontent-%COMP%".replace(st,qe)}(kt+"-"+Je.id),this.hostAttr=function K(qe){return"_nghost-%COMP%".replace(st,qe)}(kt+"-"+Je.id)}applyToHost(Ke){super.setAttribute(Ke,this.hostAttr,"")}createElement(Ke,Me){const Je=super.createElement(Ke,Me);return super.setAttribute(Je,this.contentAttr,""),Je}}class xt extends Ze{constructor(Ke,Me,Je,kt){super(Ke),this.sharedStylesHost=Me,this.hostEl=Je,this.shadowRoot=Je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mn=fe(kt.id,kt.styles,[]);for(let Dn=0;Dn<mn.length;Dn++){const mi=document.createElement("style");mi.textContent=mn[Dn],this.shadowRoot.appendChild(mi)}}nodeOrShadowRoot(Ke){return Ke===this.hostEl?this.shadowRoot:Ke}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ke,Me){return super.appendChild(this.nodeOrShadowRoot(Ke),Me)}insertBefore(Ke,Me,Je){return super.insertBefore(this.nodeOrShadowRoot(Ke),Me,Je)}removeChild(Ke,Me){return super.removeChild(this.nodeOrShadowRoot(Ke),Me)}parentNode(Ke){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ke)))}}let Pt=(()=>{class qe extends ot{constructor(Me){super(Me)}supports(Me){return!0}addEventListener(Me,Je,kt){return Me.addEventListener(Je,kt,!1),()=>this.removeEventListener(Me,Je,kt)}removeEventListener(Me,Je,kt){return Me.removeEventListener(Je,kt)}}return qe.\u0275fac=function(Me){return new(Me||qe)(z.LFG(_.K0))},qe.\u0275prov=z.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const $t=["alt","control","meta","shift"],Et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tt={alt:qe=>qe.altKey,control:qe=>qe.ctrlKey,meta:qe=>qe.metaKey,shift:qe=>qe.shiftKey};let je=(()=>{class qe extends ot{constructor(Me){super(Me)}supports(Me){return null!=qe.parseEventName(Me)}addEventListener(Me,Je,kt){const mn=qe.parseEventName(Je),Dn=qe.eventCallback(mn.fullKey,kt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(Me,mn.domEventName,Dn))}static parseEventName(Me){const Je=Me.toLowerCase().split("."),kt=Je.shift();if(0===Je.length||"keydown"!==kt&&"keyup"!==kt)return null;const mn=qe._normalizeKey(Je.pop());let Dn="";if($t.forEach(Di=>{const Hi=Je.indexOf(Di);Hi>-1&&(Je.splice(Hi,1),Dn+=Di+".")}),Dn+=mn,0!=Je.length||0===mn.length)return null;const mi={};return mi.domEventName=kt,mi.fullKey=Dn,mi}static getEventFullKey(Me){let Je="",kt=function et(qe){let Ke=qe.key;if(null==Ke){if(Ke=qe.keyIdentifier,null==Ke)return"Unidentified";Ke.startsWith("U+")&&(Ke=String.fromCharCode(parseInt(Ke.substring(2),16)),3===qe.location&&Vt.hasOwnProperty(Ke)&&(Ke=Vt[Ke]))}return Et[Ke]||Ke}(Me);return kt=kt.toLowerCase()," "===kt?kt="space":"."===kt&&(kt="dot"),$t.forEach(mn=>{mn!=kt&&tt[mn](Me)&&(Je+=mn+".")}),Je+=kt,Je}static eventCallback(Me,Je,kt){return mn=>{qe.getEventFullKey(mn)===Me&&kt.runGuarded(()=>Je(mn))}}static _normalizeKey(Me){return"esc"===Me?"escape":Me}}return qe.\u0275fac=function(Me){return new(Me||qe)(z.LFG(_.K0))},qe.\u0275prov=z.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const Qt=(0,z.eFA)(z._c5,"browser",[{provide:z.Lbi,useValue:_.bD},{provide:z.g9A,useValue:function Oe(){ue.makeCurrent(),Ee.init()},multi:!0},{provide:_.K0,useFactory:function Nt(){return(0,z.RDi)(document),document},deps:[]}]),ln=[{provide:z.zSh,useValue:"root"},{provide:z.qLn,useFactory:function gt(){return new z.qLn},deps:[]},{provide:Ie,useClass:Pt,multi:!0,deps:[_.K0,z.R0b,z.Lbi]},{provide:Ie,useClass:je,multi:!0,deps:[_.K0]},{provide:ht,useClass:ht,deps:[Ae,lt,z.AFp]},{provide:z.FYo,useExisting:ht},{provide:Ue,useExisting:lt},{provide:lt,useClass:lt,deps:[_.K0]},{provide:z.dDg,useClass:z.dDg,deps:[z.R0b]},{provide:Ae,useClass:Ae,deps:[Ie,z.R0b]},{provide:_.JF,useClass:Fe,deps:[]}];let fn=(()=>{class qe{constructor(Me){if(Me)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Me){return{ngModule:qe,providers:[{provide:z.AFp,useValue:Me.appId},{provide:De,useExisting:z.AFp},Te]}}}return qe.\u0275fac=function(Me){return new(Me||qe)(z.LFG(qe,12))},qe.\u0275mod=z.oAB({type:qe}),qe.\u0275inj=z.cJS({providers:ln,imports:[_.ez,z.hGG]}),qe})();"undefined"!=typeof window&&window;let Yn=(()=>{class qe{}return qe.\u0275fac=function(Me){return new(Me||qe)},qe.\u0275prov=z.Yz7({token:qe,factory:function(Me){let Je=null;return Je=Me?new(Me||qe):z.LFG(di),Je},providedIn:"root"}),qe})(),di=(()=>{class qe extends Yn{constructor(Me){super(),this._doc=Me}sanitize(Me,Je){if(null==Je)return null;switch(Me){case z.q3G.NONE:return Je;case z.q3G.HTML:return(0,z.qzn)(Je,"HTML")?(0,z.z3N)(Je):(0,z.EiD)(this._doc,String(Je)).toString();case z.q3G.STYLE:return(0,z.qzn)(Je,"Style")?(0,z.z3N)(Je):Je;case z.q3G.SCRIPT:if((0,z.qzn)(Je,"Script"))return(0,z.z3N)(Je);throw new Error("unsafe value used in a script context");case z.q3G.URL:return(0,z.yhl)(Je),(0,z.qzn)(Je,"URL")?(0,z.z3N)(Je):(0,z.mCW)(String(Je));case z.q3G.RESOURCE_URL:if((0,z.qzn)(Je,"ResourceURL"))return(0,z.z3N)(Je);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Me} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Me){return(0,z.JVY)(Me)}bypassSecurityTrustStyle(Me){return(0,z.L6k)(Me)}bypassSecurityTrustScript(Me){return(0,z.eBb)(Me)}bypassSecurityTrustUrl(Me){return(0,z.LAX)(Me)}bypassSecurityTrustResourceUrl(Me){return(0,z.pB0)(Me)}}return qe.\u0275fac=function(Me){return new(Me||qe)(z.LFG(_.K0))},qe.\u0275prov=z.Yz7({token:qe,factory:function(Me){let Je=null;return Je=Me?new Me:function Wn(qe){return new di(qe.get(_.K0))}(z.LFG(z.zs3)),Je},providedIn:"root"}),qe})()},3287:(Ht,Qe,R)=>{R.d(Qe,{wm:()=>li,Bz:()=>hs,lC:()=>rr});var _=R(5e3),z=R(8306),m=R(4742),ue=R(8996),de=R(4671),xe=R(3268),Pe=R(3269),ke=R(1810),De=R(5403),he=R(9672);function Fe(x,E,C){x?(0,he.f)(C,x,E):E()}var Ie=R(727),Ae=R(4482);function ot(){return(0,Ae.e)((x,E)=>{let C=null;x._refCount++;const S=(0,De.x)(E,void 0,void 0,void 0,()=>{if(!x||x._refCount<=0||0<--x._refCount)return void(C=null);const V=x._connection,ae=C;C=null,V&&(!ae||V===ae)&&V.unsubscribe(),E.unsubscribe()});x.subscribe(S),S.closed||(C=x.connect())})}class Ue extends z.y{constructor(E,C){super(),this.source=E,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,Ae.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,null==E||E.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new Ie.w0;const C=this.getSubject();E.add(this.source.subscribe((0,De.x)(C,void 0,()=>{this._teardown(),C.complete()},S=>{this._teardown(),C.error(S)},()=>this._teardown()))),E.closed&&(this._connection=null,E=Ie.w0.EMPTY)}return E}refCount(){return ot()(this)}}var lt=R(9646),Tt=R(1135),zt=R(2843),st=R(6805),ve=R(7272),me=R(9770),Ne=R(515),ze=R(7579),nt=R(9300);function K(x){return x<=0?()=>Ne.E:(0,Ae.e)((E,C)=>{let S=[];E.subscribe((0,De.x)(C,V=>{S.push(V),x<S.length&&S.shift()},()=>{for(const V of S)C.next(V);C.complete()},void 0,()=>{S=null}))})}var fe=R(8068),Xe=R(6590),ht=R(4004),Ze=R(3900),_t=R(5698),at=R(5965),Wt=R(5026),xt=R(262),Pt=R(4351),$t=R(590),Ft=R(5577),Et=R(8505),Vt=R(8746),tt=R(8189),je=R(9808);class et{constructor(E,C){this.id=E,this.url=C}}class Oe extends et{constructor(E,C,S="imperative",V=null){super(E,C),this.navigationTrigger=S,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gt extends et{constructor(E,C,S){super(E,C),this.urlAfterRedirects=S}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nt extends et{constructor(E,C,S){super(E,C),this.reason=S}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kt extends et{constructor(E,C,S){super(E,C),this.error=S}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qt extends et{constructor(E,C,S,V){super(E,C),this.urlAfterRedirects=S,this.state=V}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends et{constructor(E,C,S,V){super(E,C),this.urlAfterRedirects=S,this.state=V}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fn extends et{constructor(E,C,S,V,ae){super(E,C),this.urlAfterRedirects=S,this.state=V,this.shouldActivate=ae}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wt extends et{constructor(E,C,S,V){super(E,C),this.urlAfterRedirects=S,this.state=V}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class te extends et{constructor(E,C,S,V){super(E,C),this.urlAfterRedirects=S,this.state=V}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class we{constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class We{constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dt{constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ye{constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y{constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q{constructor(E,C,S){this.routerEvent=E,this.position=C,this.anchor=S}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const oe="primary";class Ve{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const C=this.params[E];return Array.isArray(C)?C[0]:C}return null}getAll(E){if(this.has(E)){const C=this.params[E];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function it(x){return new Ve(x)}const bt="ngNavigationCancelingError";function It(x){const E=Error("NavigationCancelingError: "+x);return E[bt]=!0,E}function rn(x,E,C){const S=C.path.split("/");if(S.length>x.length||"full"===C.pathMatch&&(E.hasChildren()||S.length<x.length))return null;const V={};for(let ae=0;ae<S.length;ae++){const Se=S[ae],ge=x[ae];if(Se.startsWith(":"))V[Se.substring(1)]=ge;else if(Se!==ge.path)return null}return{consumed:x.slice(0,S.length),posParams:V}}function $n(x,E){const C=x?Object.keys(x):void 0,S=E?Object.keys(E):void 0;if(!C||!S||C.length!=S.length)return!1;let V;for(let ae=0;ae<C.length;ae++)if(V=C[ae],!Hn(x[V],E[V]))return!1;return!0}function Hn(x,E){if(Array.isArray(x)&&Array.isArray(E)){if(x.length!==E.length)return!1;const C=[...x].sort(),S=[...E].sort();return C.every((V,ae)=>S[ae]===V)}return x===E}function Vn(x){return Array.prototype.concat.apply([],x)}function Ge(x){return x.length>0?x[x.length-1]:null}function I(x,E){for(const C in x)x.hasOwnProperty(C)&&E(x[C],C)}function U(x){return(0,_.CqO)(x)?x:(0,_.QGY)(x)?(0,ue.D)(Promise.resolve(x)):(0,lt.of)(x)}const _e={exact:function xn(x,E,C){if(!Je(x.segments,E.segments)||!di(x.segments,E.segments,C)||x.numberOfChildren!==E.numberOfChildren)return!1;for(const S in E.children)if(!x.children[S]||!xn(x.children[S],E.children[S],C))return!1;return!0},subset:Yn},yt={exact:function Tn(x,E){return $n(x,E)},subset:function An(x,E){return Object.keys(E).length<=Object.keys(x).length&&Object.keys(E).every(C=>Hn(x[C],E[C]))},ignored:()=>!0};function Yt(x,E,C){return _e[C.paths](x.root,E.root,C.matrixParams)&&yt[C.queryParams](x.queryParams,E.queryParams)&&!("exact"===C.fragment&&x.fragment!==E.fragment)}function Yn(x,E,C){return Wn(x,E,E.segments,C)}function Wn(x,E,C,S){if(x.segments.length>C.length){const V=x.segments.slice(0,C.length);return!(!Je(V,C)||E.hasChildren()||!di(V,C,S))}if(x.segments.length===C.length){if(!Je(x.segments,C)||!di(x.segments,C,S))return!1;for(const V in E.children)if(!x.children[V]||!Yn(x.children[V],E.children[V],S))return!1;return!0}{const V=C.slice(0,x.segments.length),ae=C.slice(x.segments.length);return!!(Je(x.segments,V)&&di(x.segments,V,S)&&x.children[oe])&&Wn(x.children[oe],E,ae,S)}}function di(x,E,C){return E.every((S,V)=>yt[C](x[V].parameters,S.parameters))}class Jn{constructor(E,C,S){this.root=E,this.queryParams=C,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=it(this.queryParams)),this._queryParamMap}toString(){return mi.serialize(this)}}class qe{constructor(E,C){this.segments=E,this.children=C,this.parent=null,I(C,(S,V)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Di(this)}}class Ke{constructor(E,C){this.path=E,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=it(this.parameters)),this._parameterMap}toString(){return Rn(this)}}function Je(x,E){return x.length===E.length&&x.every((C,S)=>C.path===E[S].path)}class mn{}class Dn{parse(E){const C=new In(E);return new Jn(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(E){const C=`/${Hi(E.root,!0)}`,S=function nr(x){const E=Object.keys(x).map(C=>{const S=x[C];return Array.isArray(S)?S.map(V=>`${Gi(C)}=${Gi(V)}`).join("&"):`${Gi(C)}=${Gi(S)}`}).filter(C=>!!C);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${C}${S}${"string"==typeof E.fragment?`#${function Ri(x){return encodeURI(x)}(E.fragment)}`:""}`}}const mi=new Dn;function Di(x){return x.segments.map(E=>Rn(E)).join("/")}function Hi(x,E){if(!x.hasChildren())return Di(x);if(E){const C=x.children[oe]?Hi(x.children[oe],!1):"",S=[];return I(x.children,(V,ae)=>{ae!==oe&&S.push(`${ae}:${Hi(V,!1)}`)}),S.length>0?`${C}(${S.join("//")})`:C}{const C=function kt(x,E){let C=[];return I(x.children,(S,V)=>{V===oe&&(C=C.concat(E(S,V)))}),I(x.children,(S,V)=>{V!==oe&&(C=C.concat(E(S,V)))}),C}(x,(S,V)=>V===oe?[Hi(x.children[oe],!1)]:[`${V}:${Hi(S,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[oe]?`${Di(x)}/${C[0]}`:`${Di(x)}/(${C.join("//")})`}}function gi(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gi(x){return gi(x).replace(/%3B/gi,";")}function vr(x){return gi(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vi(x){return decodeURIComponent(x)}function en(x){return Vi(x.replace(/\+/g,"%20"))}function Rn(x){return`${vr(x.path)}${function hi(x){return Object.keys(x).map(E=>`;${vr(E)}=${vr(x[E])}`).join("")}(x.parameters)}`}const Xi=/^[^\/()?;=#]+/;function wi(x){const E=x.match(Xi);return E?E[0]:""}const lr=/^[^=?&#]+/,_i=/^[^&#]+/;class In{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qe([],{}):new qe([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(E.length>0||Object.keys(C).length>0)&&(S[oe]=new qe(E,C)),S}parseSegment(){const E=wi(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(E),new Ke(Vi(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const C=wi(this.remaining);if(!C)return;this.capture(C);let S="";if(this.consumeOptional("=")){const V=wi(this.remaining);V&&(S=V,this.capture(S))}E[Vi(C)]=Vi(S)}parseQueryParam(E){const C=function Pn(x){const E=x.match(lr);return E?E[0]:""}(this.remaining);if(!C)return;this.capture(C);let S="";if(this.consumeOptional("=")){const Se=function ir(x){const E=x.match(_i);return E?E[0]:""}(this.remaining);Se&&(S=Se,this.capture(S))}const V=en(C),ae=en(S);if(E.hasOwnProperty(V)){let Se=E[V];Array.isArray(Se)||(Se=[Se],E[V]=Se),Se.push(ae)}else E[V]=ae}parseParens(E){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=wi(this.remaining),V=this.remaining[S.length];if("/"!==V&&")"!==V&&";"!==V)throw new Error(`Cannot parse url '${this.url}'`);let ae;S.indexOf(":")>-1?(ae=S.substr(0,S.indexOf(":")),this.capture(ae),this.capture(":")):E&&(ae=oe);const Se=this.parseChildren();C[ae]=1===Object.keys(Se).length?Se[oe]:new qe([],Se),this.consumeOptional("//")}return C}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new Error(`Expected "${E}".`)}}class Ir{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const C=this.pathFromRoot(E);return C.length>1?C[C.length-2]:null}children(E){const C=yr(E,this._root);return C?C.children.map(S=>S.value):[]}firstChild(E){const C=yr(E,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(E){const C=Hr(E,this._root);return C.length<2?[]:C[C.length-2].children.map(V=>V.value).filter(V=>V!==E)}pathFromRoot(E){return Hr(E,this._root).map(C=>C.value)}}function yr(x,E){if(x===E.value)return E;for(const C of E.children){const S=yr(x,C);if(S)return S}return null}function Hr(x,E){if(x===E.value)return[E];for(const C of E.children){const S=Hr(x,C);if(S.length)return S.unshift(E),S}return[]}class Fi{constructor(E,C){this.value=E,this.children=C}toString(){return`TreeNode(${this.value})`}}function Ei(x){const E={};return x&&x.children.forEach(C=>E[C.value.outlet]=C),E}class br extends Ir{constructor(E,C){super(E),this.snapshot=C,xr(this,E)}toString(){return this.snapshot.toString()}}function Gr(x,E){const C=function pr(x,E){const Se=new vi([],{},{},"",{},oe,E,null,x.root,-1,{});return new zi("",new Fi(Se,[]))}(x,E),S=new Tt.X([new Ke("",{})]),V=new Tt.X({}),ae=new Tt.X({}),Se=new Tt.X({}),ge=new Tt.X(""),vt=new Gn(S,V,Se,ge,ae,oe,E,C.root);return vt.snapshot=C.root,new br(new Fi(vt,[]),C)}class Gn{constructor(E,C,S,V,ae,Se,ge,vt){this.url=E,this.params=C,this.queryParams=S,this.fragment=V,this.data=ae,this.outlet=Se,this.component=ge,this._futureSnapshot=vt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(E=>it(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(E=>it(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zr(x,E="emptyOnly"){const C=x.pathFromRoot;let S=0;if("always"!==E)for(S=C.length-1;S>=1;){const V=C[S],ae=C[S-1];if(V.routeConfig&&""===V.routeConfig.path)S--;else{if(ae.component)break;S--}}return function Go(x){return x.reduce((E,C)=>({params:Object.assign(Object.assign({},E.params),C.params),data:Object.assign(Object.assign({},E.data),C.data),resolve:Object.assign(Object.assign({},E.resolve),C._resolvedData)}),{params:{},data:{},resolve:{}})}(C.slice(S))}class vi{constructor(E,C,S,V,ae,Se,ge,vt,hn,ei,Ot){this.url=E,this.params=C,this.queryParams=S,this.fragment=V,this.data=ae,this.outlet=Se,this.component=ge,this.routeConfig=vt,this._urlSegment=hn,this._lastPathIndex=ei,this._resolve=Ot}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=it(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=it(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zi extends Ir{constructor(E,C){super(C),this.url=E,xr(this,C)}toString(){return $r(this._root)}}function xr(x,E){E.value._routerState=x,E.children.forEach(C=>xr(x,C))}function $r(x){const E=x.children.length>0?` { ${x.children.map($r).join(", ")} } `:"";return`${x.value}${E}`}function eo(x){if(x.snapshot){const E=x.snapshot,C=x._futureSnapshot;x.snapshot=C,$n(E.queryParams,C.queryParams)||x.queryParams.next(C.queryParams),E.fragment!==C.fragment&&x.fragment.next(C.fragment),$n(E.params,C.params)||x.params.next(C.params),function un(x,E){if(x.length!==E.length)return!1;for(let C=0;C<x.length;++C)if(!$n(x[C],E[C]))return!1;return!0}(E.url,C.url)||x.url.next(C.url),$n(E.data,C.data)||x.data.next(C.data)}else x.snapshot=x._futureSnapshot,x.data.next(x._futureSnapshot.data)}function $i(x,E){const C=$n(x.params,E.params)&&function Me(x,E){return Je(x,E)&&x.every((C,S)=>$n(C.parameters,E[S].parameters))}(x.url,E.url);return C&&!(!x.parent!=!E.parent)&&(!x.parent||$i(x.parent,E.parent))}function zo(x,E,C){if(C&&x.shouldReuseRoute(E.value,C.value.snapshot)){const S=C.value;S._futureSnapshot=E.value;const V=function ga(x,E,C){return E.children.map(S=>{for(const V of C.children)if(x.shouldReuseRoute(S.value,V.value.snapshot))return zo(x,S,V);return zo(x,S)})}(x,E,C);return new Fi(S,V)}{if(x.shouldAttach(E.value)){const ae=x.retrieve(E.value);if(null!==ae){const Se=ae.route;return Se.value._futureSnapshot=E.value,Se.children=E.children.map(ge=>zo(x,ge)),Se}}const S=function Yi(x){return new Gn(new Tt.X(x.url),new Tt.X(x.params),new Tt.X(x.queryParams),new Tt.X(x.fragment),new Tt.X(x.data),x.outlet,x.component,x)}(E.value),V=E.children.map(ae=>zo(x,ae));return new Fi(S,V)}}function vo(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function Cr(x){return"object"==typeof x&&null!=x&&x.outlets}function Ro(x,E,C,S,V){let ae={};if(S&&I(S,(ge,vt)=>{ae[vt]=Array.isArray(ge)?ge.map(hn=>`${hn}`):`${ge}`}),x===E)return new Jn(C,ae,V);const Se=ws(x,E,C);return new Jn(Se,ae,V)}function ws(x,E,C){const S={};return I(x.children,(V,ae)=>{S[ae]=V===E?C:ws(V,E,C)}),new qe(x.segments,S)}class to{constructor(E,C,S){if(this.isAbsolute=E,this.numberOfDoubleDots=C,this.commands=S,E&&S.length>0&&vo(S[0]))throw new Error("Root segment cannot have matrix parameters");const V=S.find(Cr);if(V&&V!==Ge(S))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class os{constructor(E,C,S){this.segmentGroup=E,this.processChildren=C,this.index=S}}function ki(x,E,C){if(x||(x=new qe([],{})),0===x.segments.length&&x.hasChildren())return Rr(x,E,C);const S=function Wi(x,E,C){let S=0,V=E;const ae={match:!1,pathIndex:0,commandIndex:0};for(;V<x.segments.length;){if(S>=C.length)return ae;const Se=x.segments[V],ge=C[S];if(Cr(ge))break;const vt=`${ge}`,hn=S<C.length-1?C[S+1]:null;if(V>0&&void 0===vt)break;if(vt&&hn&&"object"==typeof hn&&void 0===hn.outlets){if(!ss(vt,hn,Se))return ae;S+=2}else{if(!ss(vt,{},Se))return ae;S++}V++}return{match:!0,pathIndex:V,commandIndex:S}}(x,E,C),V=C.slice(S.commandIndex);if(S.match&&S.pathIndex<x.segments.length){const ae=new qe(x.segments.slice(0,S.pathIndex),{});return ae.children[oe]=new qe(x.segments.slice(S.pathIndex),x.children),Rr(ae,0,V)}return S.match&&0===V.length?new qe(x.segments,{}):S.match&&!x.hasChildren()?cr(x,E,C):S.match?Rr(x,0,V):cr(x,E,C)}function Rr(x,E,C){if(0===C.length)return new qe(x.segments,{});{const S=function $o(x){return Cr(x[0])?x[0].outlets:{[oe]:x}}(C),V={};return I(S,(ae,Se)=>{"string"==typeof ae&&(ae=[ae]),null!==ae&&(V[Se]=ki(x.children[Se],E,ae))}),I(x.children,(ae,Se)=>{void 0===S[Se]&&(V[Se]=ae)}),new qe(x.segments,V)}}function cr(x,E,C){const S=x.segments.slice(0,E);let V=0;for(;V<C.length;){const ae=C[V];if(Cr(ae)){const vt=kr(ae.outlets);return new qe(S,vt)}if(0===V&&vo(C[0])){S.push(new Ke(x.segments[E].path,Ms(C[0]))),V++;continue}const Se=Cr(ae)?ae.outlets[oe]:`${ae}`,ge=V<C.length-1?C[V+1]:null;Se&&ge&&vo(ge)?(S.push(new Ke(Se,Ms(ge))),V+=2):(S.push(new Ke(Se,{})),V++)}return new qe(S,{})}function kr(x){const E={};return I(x,(C,S)=>{"string"==typeof C&&(C=[C]),null!==C&&(E[S]=cr(new qe([],{}),0,C))}),E}function Ms(x){const E={};return I(x,(C,S)=>E[S]=`${C}`),E}function ss(x,E,C){return x==C.path&&$n(E,C.parameters)}class ur{constructor(E,C,S,V){this.routeReuseStrategy=E,this.futureState=C,this.currState=S,this.forwardEvent=V}activate(E){const C=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,S,E),eo(this.futureState.root),this.activateChildRoutes(C,S,E)}deactivateChildRoutes(E,C,S){const V=Ei(C);E.children.forEach(ae=>{const Se=ae.value.outlet;this.deactivateRoutes(ae,V[Se],S),delete V[Se]}),I(V,(ae,Se)=>{this.deactivateRouteAndItsChildren(ae,S)})}deactivateRoutes(E,C,S){const V=E.value,ae=C?C.value:null;if(V===ae)if(V.component){const Se=S.getContext(V.outlet);Se&&this.deactivateChildRoutes(E,C,Se.children)}else this.deactivateChildRoutes(E,C,S);else ae&&this.deactivateRouteAndItsChildren(C,S)}deactivateRouteAndItsChildren(E,C){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,C):this.deactivateRouteAndOutlet(E,C)}detachAndStoreRouteSubtree(E,C){const S=C.getContext(E.value.outlet),V=S&&E.value.component?S.children:C,ae=Ei(E);for(const Se of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Se],V);if(S&&S.outlet){const Se=S.outlet.detach(),ge=S.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:Se,route:E,contexts:ge})}}deactivateRouteAndOutlet(E,C){const S=C.getContext(E.value.outlet),V=S&&E.value.component?S.children:C,ae=Ei(E);for(const Se of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Se],V);S&&S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated(),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(E,C,S){const V=Ei(C);E.children.forEach(ae=>{this.activateRoutes(ae,V[ae.value.outlet],S),this.forwardEvent(new Y(ae.value.snapshot))}),E.children.length&&this.forwardEvent(new ye(E.value.snapshot))}activateRoutes(E,C,S){const V=E.value,ae=C?C.value:null;if(eo(V),V===ae)if(V.component){const Se=S.getOrCreateContext(V.outlet);this.activateChildRoutes(E,C,Se.children)}else this.activateChildRoutes(E,C,S);else if(V.component){const Se=S.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const ge=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),Se.children.onOutletReAttached(ge.contexts),Se.attachRef=ge.componentRef,Se.route=ge.route.value,Se.outlet&&Se.outlet.attach(ge.componentRef,ge.route.value),eo(ge.route.value),this.activateChildRoutes(E,null,Se.children)}else{const ge=function Ts(x){for(let E=x.parent;E;E=E.parent){const C=E.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig;if(C&&C.component)return null}return null}(V.snapshot),vt=ge?ge.module.componentFactoryResolver:null;Se.attachRef=null,Se.route=V,Se.resolver=vt,Se.outlet&&Se.outlet.activateWith(V,vt),this.activateChildRoutes(E,null,Se.children)}}else this.activateChildRoutes(E,null,S)}}class Or{constructor(E,C){this.routes=E,this.module=C}}function dr(x){return"function"==typeof x}function Pr(x){return x instanceof Jn}const no=Symbol("INITIAL_VALUE");function Mi(){return(0,Ze.w)(x=>function Te(...x){const E=(0,Pe.yG)(x),C=(0,Pe.jO)(x),{args:S,keys:V}=(0,m.D)(x);if(0===S.length)return(0,ue.D)([],E);const ae=new z.y(function Ee(x,E,C=de.y){return S=>{Fe(E,()=>{const{length:V}=x,ae=new Array(V);let Se=V,ge=V;for(let vt=0;vt<V;vt++)Fe(E,()=>{const hn=(0,ue.D)(x[vt],E);let ei=!1;hn.subscribe((0,De.x)(S,Ot=>{ae[vt]=Ot,ei||(ei=!0,ge--),ge||S.next(C(ae.slice()))},()=>{--Se||S.complete()}))},S)},S)}}(S,E,V?Se=>(0,ke.n)(V,Se):de.y));return C?ae.pipe((0,xe.Z)(C)):ae}(x.map(E=>E.pipe((0,_t.q)(1),(0,at.O)(no)))).pipe((0,Wt.R)((E,C)=>{let S=!1;return C.reduce((V,ae,Se)=>V!==no?V:(ae===no&&(S=!0),S||!1!==ae&&Se!==C.length-1&&!Pr(ae)?V:ae),E)},no),(0,nt.h)(E=>E!==no),(0,ht.U)(E=>Pr(E)?E:!0===E),(0,_t.q)(1)))}class Ko{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Po,this.attachRef=null}}class Po{constructor(){this.contexts=new Map}onChildOutletCreated(E,C){const S=this.getOrCreateContext(E);S.outlet=C,this.contexts.set(E,S)}onChildOutletDestroyed(E){const C=this.getContext(E);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let C=this.getContext(E);return C||(C=new Ko,this.contexts.set(E,C)),C}getContext(E){return this.contexts.get(E)||null}}let rr=(()=>{class x{constructor(C,S,V,ae,Se){this.parentContexts=C,this.location=S,this.resolver=V,this.changeDetector=Se,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.name=ae||oe,C.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const C=this.parentContexts.getContext(this.name);C&&C.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,S){this.activated=C,this._activatedRoute=S,this.location.insert(C.hostView),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,S){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=C;const Se=(S=S||this.resolver).resolveComponentFactory(C._futureSnapshot.routeConfig.component),ge=this.parentContexts.getOrCreateContext(this.name).children,vt=new yo(C,ge,this.location.injector);this.activated=this.location.createComponent(Se,this.location.length,vt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(C){return new(C||x)(_.Y36(Po),_.Y36(_.s_b),_.Y36(_._Vd),_.$8M("name"),_.Y36(_.sBO))},x.\u0275dir=_.lG2({type:x,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),x})();class yo{constructor(E,C,S){this.route=E,this.childContexts=C,this.parent=S}get(E,C){return E===Gn?this.route:E===Po?this.childContexts:this.parent.get(E,C)}}let bo=(()=>{class x{}return x.\u0275fac=function(C){return new(C||x)},x.\u0275cmp=_.Xpm({type:x,selectors:[["ng-component"]],decls:1,vars:0,template:function(C,S){1&C&&_._UZ(0,"router-outlet")},directives:[rr],encapsulation:2}),x})();function Yr(x,E=""){for(let C=0;C<x.length;C++){const S=x[C];io(S,Dr(E,S))}}function io(x,E){x.children&&Yr(x.children,E)}function Dr(x,E){return E?x||E.path?x&&!E.path?`${x}/`:!x&&E.path?E.path:`${x}/${E.path}`:"":x}function qo(x){const E=x.children&&x.children.map(qo),C=E?Object.assign(Object.assign({},x),{children:E}):Object.assign({},x);return!C.component&&(E||C.loadChildren)&&C.outlet&&C.outlet!==oe&&(C.component=bo),C}function ti(x){return x.outlet||oe}function G(x,E){const C=x.filter(S=>ti(S)===E);return C.push(...x.filter(S=>ti(S)!==E)),C}const re={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j(x,E,C){var S;if(""===E.path)return"full"===E.pathMatch&&(x.hasChildren()||C.length>0)?Object.assign({},re):{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const ae=(E.matcher||rn)(C,x,E);if(!ae)return Object.assign({},re);const Se={};I(ae.posParams,(vt,hn)=>{Se[hn]=vt.path});const ge=ae.consumed.length>0?Object.assign(Object.assign({},Se),ae.consumed[ae.consumed.length-1].parameters):Se;return{matched:!0,consumedSegments:ae.consumed,remainingSegments:C.slice(ae.consumed.length),parameters:ge,positionalParamSegments:null!==(S=ae.posParams)&&void 0!==S?S:{}}}function ce(x,E,C,S,V="corrected"){if(C.length>0&&function St(x,E,C){return C.some(S=>si(x,E,S)&&ti(S)!==oe)}(x,C,S)){const Se=new qe(E,function Dt(x,E,C,S){const V={};V[oe]=S,S._sourceSegment=x,S._segmentIndexShift=E.length;for(const ae of C)if(""===ae.path&&ti(ae)!==oe){const Se=new qe([],{});Se._sourceSegment=x,Se._segmentIndexShift=E.length,V[ti(ae)]=Se}return V}(x,E,S,new qe(C,x.children)));return Se._sourceSegment=x,Se._segmentIndexShift=E.length,{segmentGroup:Se,slicedSegments:[]}}if(0===C.length&&function on(x,E,C){return C.some(S=>si(x,E,S))}(x,C,S)){const Se=new qe(x.segments,function $e(x,E,C,S,V,ae){const Se={};for(const ge of S)if(si(x,C,ge)&&!V[ti(ge)]){const vt=new qe([],{});vt._sourceSegment=x,vt._segmentIndexShift="legacy"===ae?x.segments.length:E.length,Se[ti(ge)]=vt}return Object.assign(Object.assign({},V),Se)}(x,E,C,S,x.children,V));return Se._sourceSegment=x,Se._segmentIndexShift=E.length,{segmentGroup:Se,slicedSegments:C}}const ae=new qe(x.segments,x.children);return ae._sourceSegment=x,ae._segmentIndexShift=E.length,{segmentGroup:ae,slicedSegments:C}}function si(x,E,C){return(!(x.hasChildren()||E.length>0)||"full"!==C.pathMatch)&&""===C.path}function Kn(x,E,C,S){return!!(ti(x)===S||S!==oe&&si(E,C,x))&&("**"===x.path||j(E,x,C).matched)}function Fn(x,E,C){return 0===E.length&&!x.children[C]}class Un{constructor(E){this.segmentGroup=E||null}}class On{constructor(E){this.urlTree=E}}function ni(x){return(0,zt._)(new Un(x))}function Ii(x){return(0,zt._)(new On(x))}class se{constructor(E,C,S,V,ae){this.configLoader=C,this.urlSerializer=S,this.urlTree=V,this.config=ae,this.allowRedirects=!0,this.ngModule=E.get(_.h0i)}apply(){const E=ce(this.urlTree.root,[],[],this.config).segmentGroup,C=new qe(E.segments,E.children);return this.expandSegmentGroup(this.ngModule,this.config,C,oe).pipe((0,ht.U)(ae=>this.createUrlTree(cn(ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,xt.K)(ae=>{if(ae instanceof On)return this.allowRedirects=!1,this.match(ae.urlTree);throw ae instanceof Un?this.noMatchError(ae):ae}))}match(E){return this.expandSegmentGroup(this.ngModule,this.config,E.root,oe).pipe((0,ht.U)(V=>this.createUrlTree(cn(V),E.queryParams,E.fragment))).pipe((0,xt.K)(V=>{throw V instanceof Un?this.noMatchError(V):V}))}noMatchError(E){return new Error(`Cannot match any routes. URL Segment: '${E.segmentGroup}'`)}createUrlTree(E,C,S){const V=E.segments.length>0?new qe([],{[oe]:E}):E;return new Jn(V,C,S)}expandSegmentGroup(E,C,S,V){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(E,C,S).pipe((0,ht.U)(ae=>new qe([],ae))):this.expandSegment(E,S,C,S.segments,V,!0)}expandChildren(E,C,S){const V=[];for(const ae of Object.keys(S.children))"primary"===ae?V.unshift(ae):V.push(ae);return(0,ue.D)(V).pipe((0,Pt.b)(ae=>{const Se=S.children[ae],ge=G(C,ae);return this.expandSegmentGroup(E,ge,Se,ae).pipe((0,ht.U)(vt=>({segment:vt,outlet:ae})))}),(0,Wt.R)((ae,Se)=>(ae[Se.outlet]=Se.segment,ae),{}),function ct(x,E){const C=arguments.length>=2;return S=>S.pipe(x?(0,nt.h)((V,ae)=>x(V,ae,S)):de.y,K(1),C?(0,Xe.d)(E):(0,fe.T)(()=>new st.K))}())}expandSegment(E,C,S,V,ae,Se){return(0,ue.D)(S).pipe((0,Pt.b)(ge=>this.expandSegmentAgainstRoute(E,C,S,ge,V,ae,Se).pipe((0,xt.K)(hn=>{if(hn instanceof Un)return(0,lt.of)(null);throw hn}))),(0,$t.P)(ge=>!!ge),(0,xt.K)((ge,vt)=>{if(ge instanceof st.K||"EmptyError"===ge.name)return Fn(C,V,ae)?(0,lt.of)(new qe([],{})):ni(C);throw ge}))}expandSegmentAgainstRoute(E,C,S,V,ae,Se,ge){return Kn(V,C,ae,Se)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(E,C,V,ae,Se):ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,C,S,V,ae,Se):ni(C):ni(C)}expandSegmentAgainstRouteUsingRedirect(E,C,S,V,ae,Se){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,S,V,Se):this.expandRegularSegmentAgainstRouteUsingRedirect(E,C,S,V,ae,Se)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,C,S,V){const ae=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Ii(ae):this.lineralizeSegments(S,ae).pipe((0,Ft.z)(Se=>{const ge=new qe(Se,{});return this.expandSegment(E,ge,C,Se,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,C,S,V,ae,Se){const{matched:ge,consumedSegments:vt,remainingSegments:hn,positionalParamSegments:ei}=j(C,V,ae);if(!ge)return ni(C);const Ot=this.applyRedirectCommands(vt,V.redirectTo,ei);return V.redirectTo.startsWith("/")?Ii(Ot):this.lineralizeSegments(V,Ot).pipe((0,Ft.z)(nn=>this.expandSegment(E,C,S,nn.concat(hn),Se,!1)))}matchSegmentAgainstRoute(E,C,S,V,ae){if("**"===S.path)return S.loadChildren?(S._loadedConfig?(0,lt.of)(S._loadedConfig):this.configLoader.load(E.injector,S)).pipe((0,ht.U)(Ot=>(S._loadedConfig=Ot,new qe(V,{})))):(0,lt.of)(new qe(V,{}));const{matched:Se,consumedSegments:ge,remainingSegments:vt}=j(C,S,V);return Se?this.getChildConfig(E,S,V).pipe((0,Ft.z)(ei=>{const Ot=ei.module,nn=ei.routes,{segmentGroup:Ut,slicedSegments:lo}=ce(C,ge,vt,nn),ps=new qe(Ut.segments,Ut.children);if(0===lo.length&&ps.hasChildren())return this.expandChildren(Ot,nn,ps).pipe((0,ht.U)(fr=>new qe(ge,fr)));if(0===nn.length&&0===lo.length)return(0,lt.of)(new qe(ge,{}));const Ln=ti(S)===ae;return this.expandSegment(Ot,ps,nn,lo,Ln?oe:ae,!0).pipe((0,ht.U)(Bo=>new qe(ge.concat(Bo.segments),Bo.children)))})):ni(C)}getChildConfig(E,C,S){return C.children?(0,lt.of)(new Or(C.children,E)):C.loadChildren?void 0!==C._loadedConfig?(0,lt.of)(C._loadedConfig):this.runCanLoadGuards(E.injector,C,S).pipe((0,Ft.z)(V=>V?this.configLoader.load(E.injector,C).pipe((0,ht.U)(ae=>(C._loadedConfig=ae,ae))):function N(x){return(0,zt._)(It(`Cannot load children because the guard of the route "path: '${x.path}'" returned false`))}(C))):(0,lt.of)(new Or([],E))}runCanLoadGuards(E,C,S){const V=C.canLoad;if(!V||0===V.length)return(0,lt.of)(!0);const ae=V.map(Se=>{const ge=E.get(Se);let vt;if(function Yo(x){return x&&dr(x.canLoad)}(ge))vt=ge.canLoad(C,S);else{if(!dr(ge))throw new Error("Invalid CanLoad guard");vt=ge(C,S)}return U(vt)});return(0,lt.of)(ae).pipe(Mi(),(0,Et.b)(Se=>{if(!Pr(Se))return;const ge=It(`Redirecting to "${this.urlSerializer.serialize(Se)}"`);throw ge.url=Se,ge}),(0,ht.U)(Se=>!0===Se))}lineralizeSegments(E,C){let S=[],V=C.root;for(;;){if(S=S.concat(V.segments),0===V.numberOfChildren)return(0,lt.of)(S);if(V.numberOfChildren>1||!V.children[oe])return(0,zt._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${E.redirectTo}'`));V=V.children[oe]}}applyRedirectCommands(E,C,S){return this.applyRedirectCreatreUrlTree(C,this.urlSerializer.parse(C),E,S)}applyRedirectCreatreUrlTree(E,C,S,V){const ae=this.createSegmentGroup(E,C.root,S,V);return new Jn(ae,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(E,C){const S={};return I(E,(V,ae)=>{if("string"==typeof V&&V.startsWith(":")){const ge=V.substring(1);S[ae]=C[ge]}else S[ae]=V}),S}createSegmentGroup(E,C,S,V){const ae=this.createSegments(E,C.segments,S,V);let Se={};return I(C.children,(ge,vt)=>{Se[vt]=this.createSegmentGroup(E,ge,S,V)}),new qe(ae,Se)}createSegments(E,C,S,V){return C.map(ae=>ae.path.startsWith(":")?this.findPosParam(E,ae,V):this.findOrReturn(ae,S))}findPosParam(E,C,S){const V=S[C.path.substring(1)];if(!V)throw new Error(`Cannot redirect to '${E}'. Cannot find '${C.path}'.`);return V}findOrReturn(E,C){let S=0;for(const V of C){if(V.path===E.path)return C.splice(S),V;S++}return E}}function cn(x){const E={};for(const S of Object.keys(x.children)){const ae=cn(x.children[S]);(ae.segments.length>0||ae.hasChildren())&&(E[S]=ae)}return function Mt(x){if(1===x.numberOfChildren&&x.children[oe]){const E=x.children[oe];return new qe(x.segments.concat(E.segments),E.children)}return x}(new qe(x.segments,E))}class Wr{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Co{constructor(E,C){this.component=E,this.route=C}}function Fo(x,E,C){const S=x._root;return cs(S,E?E._root:null,C,[S.value])}function Bt(x,E,C){const S=function ai(x){if(!x)return null;for(let E=x.parent;E;E=E.parent){const C=E.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig}return null}(E);return(S?S.module.injector:C).get(x)}function cs(x,E,C,S,V={canDeactivateChecks:[],canActivateChecks:[]}){const ae=Ei(E);return x.children.forEach(Se=>{(function Oi(x,E,C,S,V={canDeactivateChecks:[],canActivateChecks:[]}){const ae=x.value,Se=E?E.value:null,ge=C?C.getContext(x.value.outlet):null;if(Se&&ae.routeConfig===Se.routeConfig){const vt=function Ua(x,E,C){if("function"==typeof C)return C(x,E);switch(C){case"pathParamsChange":return!Je(x.url,E.url);case"pathParamsOrQueryParamsChange":return!Je(x.url,E.url)||!$n(x.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$i(x,E)||!$n(x.queryParams,E.queryParams);default:return!$i(x,E)}}(Se,ae,ae.routeConfig.runGuardsAndResolvers);vt?V.canActivateChecks.push(new Wr(S)):(ae.data=Se.data,ae._resolvedData=Se._resolvedData),cs(x,E,ae.component?ge?ge.children:null:C,S,V),vt&&ge&&ge.outlet&&ge.outlet.isActivated&&V.canDeactivateChecks.push(new Co(ge.outlet.component,Se))}else Se&&No(E,ge,V),V.canActivateChecks.push(new Wr(S)),cs(x,null,ae.component?ge?ge.children:null:C,S,V)})(Se,ae[Se.value.outlet],C,S.concat([Se.value]),V),delete ae[Se.value.outlet]}),I(ae,(Se,ge)=>No(Se,C.getContext(ge),V)),V}function No(x,E,C){const S=Ei(x),V=x.value;I(S,(ae,Se)=>{No(ae,V.component?E?E.children.getContext(Se):null:E,C)}),C.canDeactivateChecks.push(new Co(V.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,V))}class Eo{}function Q(x){return new z.y(E=>E.error(x))}class D{constructor(E,C,S,V,ae,Se){this.rootComponentType=E,this.config=C,this.urlTree=S,this.url=V,this.paramsInheritanceStrategy=ae,this.relativeLinkResolution=Se}recognize(){const E=ce(this.urlTree.root,[],[],this.config.filter(Se=>void 0===Se.redirectTo),this.relativeLinkResolution).segmentGroup,C=this.processSegmentGroup(this.config,E,oe);if(null===C)return null;const S=new vi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new Fi(S,C),ae=new zi(this.url,V);return this.inheritParamsAndData(ae._root),ae}inheritParamsAndData(E){const C=E.value,S=zr(C,this.paramsInheritanceStrategy);C.params=Object.freeze(S.params),C.data=Object.freeze(S.data),E.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(E,C,S){return 0===C.segments.length&&C.hasChildren()?this.processChildren(E,C):this.processSegment(E,C,C.segments,S)}processChildren(E,C){const S=[];for(const ae of Object.keys(C.children)){const Se=C.children[ae],ge=G(E,ae),vt=this.processSegmentGroup(ge,Se,ae);if(null===vt)return null;S.push(...vt)}const V=Be(S);return function L(x){x.sort((E,C)=>E.value.outlet===oe?-1:C.value.outlet===oe?1:E.value.outlet.localeCompare(C.value.outlet))}(V),V}processSegment(E,C,S,V){for(const ae of E){const Se=this.processSegmentAgainstRoute(ae,C,S,V);if(null!==Se)return Se}return Fn(C,S,V)?[]:null}processSegmentAgainstRoute(E,C,S,V){if(E.redirectTo||!Kn(E,C,S,V))return null;let ae,Se=[],ge=[];if("**"===E.path){const Ut=S.length>0?Ge(S).parameters:{};ae=new vi(S,Ut,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sn(E),ti(E),E.component,E,ut(C),At(C)+S.length,tn(E))}else{const Ut=j(C,E,S);if(!Ut.matched)return null;Se=Ut.consumedSegments,ge=Ut.remainingSegments,ae=new vi(Se,Ut.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sn(E),ti(E),E.component,E,ut(C),At(C)+Se.length,tn(E))}const vt=function ee(x){return x.children?x.children:x.loadChildren?x._loadedConfig.routes:[]}(E),{segmentGroup:hn,slicedSegments:ei}=ce(C,Se,ge,vt.filter(Ut=>void 0===Ut.redirectTo),this.relativeLinkResolution);if(0===ei.length&&hn.hasChildren()){const Ut=this.processChildren(vt,hn);return null===Ut?null:[new Fi(ae,Ut)]}if(0===vt.length&&0===ei.length)return[new Fi(ae,[])];const Ot=ti(E)===V,nn=this.processSegment(vt,hn,ei,Ot?oe:V);return null===nn?null:[new Fi(ae,nn)]}}function pe(x){const E=x.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Be(x){const E=[],C=new Set;for(const S of x){if(!pe(S)){E.push(S);continue}const V=E.find(ae=>S.value.routeConfig===ae.value.routeConfig);void 0!==V?(V.children.push(...S.children),C.add(V)):E.push(S)}for(const S of C){const V=Be(S.children);E.push(new Fi(S.value,V))}return E.filter(S=>!C.has(S))}function ut(x){let E=x;for(;E._sourceSegment;)E=E._sourceSegment;return E}function At(x){let E=x,C=E._segmentIndexShift?E._segmentIndexShift:0;for(;E._sourceSegment;)E=E._sourceSegment,C+=E._segmentIndexShift?E._segmentIndexShift:0;return C-1}function sn(x){return x.data||{}}function tn(x){return x.resolve||{}}function yi(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}function Pi(x){return(0,Ze.w)(E=>{const C=x(E);return C?(0,ue.D)(C).pipe((0,ht.U)(()=>E)):(0,lt.of)(E)})}class qi extends class Ji{shouldDetach(E){return!1}store(E,C){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,C){return E.routeConfig===C.routeConfig}}{}const Si=new _.OlP("ROUTES");class Qn{constructor(E,C,S,V){this.injector=E,this.compiler=C,this.onLoadStartListener=S,this.onLoadEndListener=V}load(E,C){if(C._loader$)return C._loader$;this.onLoadStartListener&&this.onLoadStartListener(C);const V=this.loadModuleFactory(C.loadChildren).pipe((0,ht.U)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(C);const Se=ae.create(E);return new Or(Vn(Se.injector.get(Si,void 0,_.XFs.Self|_.XFs.Optional)).map(qo),Se)}),(0,xt.K)(ae=>{throw C._loader$=void 0,ae}));return C._loader$=new Ue(V,()=>new ze.x).pipe(ot()),C._loader$}loadModuleFactory(E){return U(E()).pipe((0,Ft.z)(C=>C instanceof _.YKP?(0,lt.of)(C):(0,ue.D)(this.compiler.compileModuleAsync(C))))}}class ro{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,C){return E}}function wr(x){throw x}function ea(x,E,C){return E.parse("/")}function Qo(x,E){return(0,lt.of)(null)}const Kr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},To={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ni=(()=>{class x{constructor(C,S,V,ae,Se,ge,vt){this.rootComponentType=C,this.urlSerializer=S,this.rootContexts=V,this.location=ae,this.config=vt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ze.x,this.errorHandler=wr,this.malformedUriErrorHandler=ea,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qo,afterPreactivation:Qo},this.urlHandlingStrategy=new ro,this.routeReuseStrategy=new qi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Se.get(_.h0i),this.console=Se.get(_.c2e);const Ot=Se.get(_.R0b);this.isNgZoneEnabled=Ot instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(vt),this.currentUrlTree=function ne(){return new Jn(new qe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qn(Se,ge,nn=>this.triggerEvent(new we(nn)),nn=>this.triggerEvent(new We(nn))),this.routerState=Gr(this.currentUrlTree,this.rootComponentType),this.transitions=new Tt.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var C;return null===(C=this.location.getState())||void 0===C?void 0:C.\u0275routerPageId}setupNavigations(C){const S=this.events;return C.pipe((0,nt.h)(V=>0!==V.id),(0,ht.U)(V=>Object.assign(Object.assign({},V),{extractedUrl:this.urlHandlingStrategy.extract(V.rawUrl)})),(0,Ze.w)(V=>{let ae=!1,Se=!1;return(0,lt.of)(V).pipe((0,Et.b)(ge=>{this.currentNavigation={id:ge.id,initialUrl:ge.currentRawUrl,extractedUrl:ge.extractedUrl,trigger:ge.source,extras:ge.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ze.w)(ge=>{const vt=this.browserUrlTree.toString(),hn=!this.navigated||ge.extractedUrl.toString()!==vt||vt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||hn)&&this.urlHandlingStrategy.shouldProcessUrl(ge.rawUrl))return bn(ge.source)&&(this.browserUrlTree=ge.extractedUrl),(0,lt.of)(ge).pipe((0,Ze.w)(Ot=>{const nn=this.transitions.getValue();return S.next(new Oe(Ot.id,this.serializeUrl(Ot.extractedUrl),Ot.source,Ot.restoredState)),nn!==this.transitions.getValue()?Ne.E:Promise.resolve(Ot)}),function Ti(x,E,C,S){return(0,Ze.w)(V=>function k(x,E,C,S,V){return new se(x,E,C,S,V).apply()}(x,E,C,V.extractedUrl,S).pipe((0,ht.U)(ae=>Object.assign(Object.assign({},V),{urlAfterRedirects:ae}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Et.b)(Ot=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ot.urlAfterRedirects})}),function Nn(x,E,C,S,V){return(0,Ft.z)(ae=>function v(x,E,C,S,V="emptyOnly",ae="legacy"){try{const Se=new D(x,E,C,S,V,ae).recognize();return null===Se?Q(new Eo):(0,lt.of)(Se)}catch(Se){return Q(Se)}}(x,E,ae.urlAfterRedirects,C(ae.urlAfterRedirects),S,V).pipe((0,ht.U)(Se=>Object.assign(Object.assign({},ae),{targetSnapshot:Se}))))}(this.rootComponentType,this.config,Ot=>this.serializeUrl(Ot),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Et.b)(Ot=>{if("eager"===this.urlUpdateStrategy){if(!Ot.extras.skipLocationChange){const Ut=this.urlHandlingStrategy.merge(Ot.urlAfterRedirects,Ot.rawUrl);this.setBrowserUrl(Ut,Ot)}this.browserUrlTree=Ot.urlAfterRedirects}const nn=new Qt(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);S.next(nn)}));if(hn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:nn,extractedUrl:Ut,source:lo,restoredState:ps,extras:Ln}=ge,Lo=new Oe(nn,this.serializeUrl(Ut),lo,ps);S.next(Lo);const Bo=Gr(Ut,this.rootComponentType).snapshot;return(0,lt.of)(Object.assign(Object.assign({},ge),{targetSnapshot:Bo,urlAfterRedirects:Ut,extras:Object.assign(Object.assign({},Ln),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ge.rawUrl,ge.resolve(null),Ne.E}),Pi(ge=>{const{targetSnapshot:vt,id:hn,extractedUrl:ei,rawUrl:Ot,extras:{skipLocationChange:nn,replaceUrl:Ut}}=ge;return this.hooks.beforePreactivation(vt,{navigationId:hn,appliedUrlTree:ei,rawUrlTree:Ot,skipLocationChange:!!nn,replaceUrl:!!Ut})}),(0,Et.b)(ge=>{const vt=new ln(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot);this.triggerEvent(vt)}),(0,ht.U)(ge=>Object.assign(Object.assign({},ge),{guards:Fo(ge.targetSnapshot,ge.currentSnapshot,this.rootContexts)})),function wo(x,E){return(0,Ft.z)(C=>{const{targetSnapshot:S,currentSnapshot:V,guards:{canActivateChecks:ae,canDeactivateChecks:Se}}=C;return 0===Se.length&&0===ae.length?(0,lt.of)(Object.assign(Object.assign({},C),{guardsResult:!0})):function Ha(x,E,C,S){return(0,ue.D)(x).pipe((0,Ft.z)(V=>function mr(x,E,C,S,V){const ae=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,lt.of)(!0);const Se=ae.map(ge=>{const vt=Bt(ge,E,V);let hn;if(function Oo(x){return x&&dr(x.canDeactivate)}(vt))hn=U(vt.canDeactivate(x,E,C,S));else{if(!dr(vt))throw new Error("Invalid CanDeactivate guard");hn=U(vt(x,E,C,S))}return hn.pipe((0,$t.P)())});return(0,lt.of)(Se).pipe(Mi())}(V.component,V.route,C,E,S)),(0,$t.P)(V=>!0!==V,!0))}(Se,S,V,x).pipe((0,Ft.z)(ge=>ge&&function as(x){return"boolean"==typeof x}(ge)?function va(x,E,C,S){return(0,ue.D)(E).pipe((0,Pt.b)(V=>(0,ve.z)(function us(x,E){return null!==x&&E&&E(new dt(x)),(0,lt.of)(!0)}(V.route.parent,S),function Ga(x,E){return null!==x&&E&&E(new Re(x)),(0,lt.of)(!0)}(V.route,S),function Us(x,E,C){const S=E[E.length-1],ae=E.slice(0,E.length-1).reverse().map(Se=>function Do(x){const E=x.routeConfig?x.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:x,guards:E}:null}(Se)).filter(Se=>null!==Se).map(Se=>(0,me.P)(()=>{const ge=Se.guards.map(vt=>{const hn=Bt(vt,Se.node,C);let ei;if(function ls(x){return x&&dr(x.canActivateChild)}(hn))ei=U(hn.canActivateChild(S,x));else{if(!dr(hn))throw new Error("Invalid CanActivateChild guard");ei=U(hn(S,x))}return ei.pipe((0,$t.P)())});return(0,lt.of)(ge).pipe(Mi())}));return(0,lt.of)(ae).pipe(Mi())}(x,V.path,C),function ya(x,E,C){const S=E.routeConfig?E.routeConfig.canActivate:null;if(!S||0===S.length)return(0,lt.of)(!0);const V=S.map(ae=>(0,me.P)(()=>{const Se=Bt(ae,E,C);let ge;if(function Wo(x){return x&&dr(x.canActivate)}(Se))ge=U(Se.canActivate(E,x));else{if(!dr(Se))throw new Error("Invalid CanActivate guard");ge=U(Se(E,x))}return ge.pipe((0,$t.P)())}));return(0,lt.of)(V).pipe(Mi())}(x,V.route,C))),(0,$t.P)(V=>!0!==V,!0))}(S,ae,x,E):(0,lt.of)(ge)),(0,ht.U)(ge=>Object.assign(Object.assign({},C),{guardsResult:ge})))})}(this.ngModule.injector,ge=>this.triggerEvent(ge)),(0,Et.b)(ge=>{if(Pr(ge.guardsResult)){const hn=It(`Redirecting to "${this.serializeUrl(ge.guardsResult)}"`);throw hn.url=ge.guardsResult,hn}const vt=new fn(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot,!!ge.guardsResult);this.triggerEvent(vt)}),(0,nt.h)(ge=>!!ge.guardsResult||(this.restoreHistory(ge),this.cancelNavigationTransition(ge,""),!1)),Pi(ge=>{if(ge.guards.canActivateChecks.length)return(0,lt.of)(ge).pipe((0,Et.b)(vt=>{const hn=new wt(vt.id,this.serializeUrl(vt.extractedUrl),this.serializeUrl(vt.urlAfterRedirects),vt.targetSnapshot);this.triggerEvent(hn)}),(0,Ze.w)(vt=>{let hn=!1;return(0,lt.of)(vt).pipe(function qn(x,E){return(0,Ft.z)(C=>{const{targetSnapshot:S,guards:{canActivateChecks:V}}=C;if(!V.length)return(0,lt.of)(C);let ae=0;return(0,ue.D)(V).pipe((0,Pt.b)(Se=>function En(x,E,C,S){return function zn(x,E,C,S){const V=yi(x);if(0===V.length)return(0,lt.of)({});const ae={};return(0,ue.D)(V).pipe((0,Ft.z)(Se=>function Ki(x,E,C,S){const V=Bt(x,E,S);return U(V.resolve?V.resolve(E,C):V(E,C))}(x[Se],E,C,S).pipe((0,Et.b)(ge=>{ae[Se]=ge}))),K(1),(0,Ft.z)(()=>yi(ae).length===V.length?(0,lt.of)(ae):Ne.E))}(x._resolve,x,E,S).pipe((0,ht.U)(ae=>(x._resolvedData=ae,x.data=Object.assign(Object.assign({},x.data),zr(x,C).resolve),null)))}(Se.route,S,x,E)),(0,Et.b)(()=>ae++),K(1),(0,Ft.z)(Se=>ae===V.length?(0,lt.of)(C):Ne.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Et.b)({next:()=>hn=!0,complete:()=>{hn||(this.restoreHistory(vt),this.cancelNavigationTransition(vt,"At least one route resolver didn't emit any value."))}}))}),(0,Et.b)(vt=>{const hn=new te(vt.id,this.serializeUrl(vt.extractedUrl),this.serializeUrl(vt.urlAfterRedirects),vt.targetSnapshot);this.triggerEvent(hn)}))}),Pi(ge=>{const{targetSnapshot:vt,id:hn,extractedUrl:ei,rawUrl:Ot,extras:{skipLocationChange:nn,replaceUrl:Ut}}=ge;return this.hooks.afterPreactivation(vt,{navigationId:hn,appliedUrlTree:ei,rawUrlTree:Ot,skipLocationChange:!!nn,replaceUrl:!!Ut})}),(0,ht.U)(ge=>{const vt=function Ds(x,E,C){const S=zo(x,E._root,C?C._root:void 0);return new br(S,E)}(this.routeReuseStrategy,ge.targetSnapshot,ge.currentRouterState);return Object.assign(Object.assign({},ge),{targetRouterState:vt})}),(0,Et.b)(ge=>{this.currentUrlTree=ge.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ge.urlAfterRedirects,ge.rawUrl),this.routerState=ge.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ge.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ge),this.browserUrlTree=ge.urlAfterRedirects)}),((x,E,C)=>(0,ht.U)(S=>(new ur(E,S.targetRouterState,S.currentRouterState,C).activate(x),S)))(this.rootContexts,this.routeReuseStrategy,ge=>this.triggerEvent(ge)),(0,Et.b)({next(){ae=!0},complete(){ae=!0}}),(0,Vt.x)(()=>{var ge;ae||Se||this.cancelNavigationTransition(V,`Navigation ID ${V.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ge=this.currentNavigation)||void 0===ge?void 0:ge.id)===V.id&&(this.currentNavigation=null)}),(0,xt.K)(ge=>{if(Se=!0,function pn(x){return x&&x[bt]}(ge)){const vt=Pr(ge.url);vt||(this.navigated=!0,this.restoreHistory(V,!0));const hn=new Nt(V.id,this.serializeUrl(V.extractedUrl),ge.message);S.next(hn),vt?setTimeout(()=>{const ei=this.urlHandlingStrategy.merge(ge.url,this.rawUrlTree),Ot={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bn(V.source)};this.scheduleNavigation(ei,"imperative",null,Ot,{resolve:V.resolve,reject:V.reject,promise:V.promise})},0):V.resolve(!1)}else{this.restoreHistory(V,!0);const vt=new Kt(V.id,this.serializeUrl(V.extractedUrl),ge);S.next(vt);try{V.resolve(this.errorHandler(ge))}catch(hn){V.reject(hn)}}return Ne.E}))}))}resetRootComponentType(C){this.rootComponentType=C,this.routerState.root.component=this.rootComponentType}setTransition(C){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),C))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const S="popstate"===C.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{var V;const ae={replaceUrl:!0},Se=(null===(V=C.state)||void 0===V?void 0:V.navigationId)?C.state:null;if(Se){const vt=Object.assign({},Se);delete vt.navigationId,delete vt.\u0275routerPageId,0!==Object.keys(vt).length&&(ae.state=vt)}const ge=this.parseUrl(C.url);this.scheduleNavigation(ge,S,Se,ae)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(C){this.events.next(C)}resetConfig(C){Yr(C),this.config=C.map(qo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,S={}){const{relativeTo:V,queryParams:ae,fragment:Se,queryParamsHandling:ge,preserveFragment:vt}=S,hn=V||this.routerState.root,ei=vt?this.currentUrlTree.fragment:Se;let Ot=null;switch(ge){case"merge":Ot=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ae);break;case"preserve":Ot=this.currentUrlTree.queryParams;break;default:Ot=ae||null}return null!==Ot&&(Ot=this.removeEmptyProps(Ot)),function _a(x,E,C,S,V){if(0===C.length)return Ro(E.root,E.root,E.root,S,V);const ae=function Vs(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new to(!0,0,x);let E=0,C=!1;const S=x.reduce((V,ae,Se)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const ge={};return I(ae.outlets,(vt,hn)=>{ge[hn]="string"==typeof vt?vt.split("/"):vt}),[...V,{outlets:ge}]}if(ae.segmentPath)return[...V,ae.segmentPath]}return"string"!=typeof ae?[...V,ae]:0===Se?(ae.split("/").forEach((ge,vt)=>{0==vt&&"."===ge||(0==vt&&""===ge?C=!0:".."===ge?E++:""!=ge&&V.push(ge))}),V):[...V,ae]},[]);return new to(C,E,S)}(C);if(ae.toRoot())return Ro(E.root,E.root,new qe([],{}),S,V);const Se=function ko(x,E,C){if(x.isAbsolute)return new os(E.root,!0,0);if(-1===C.snapshot._lastPathIndex){const ae=C.snapshot._urlSegment;return new os(ae,ae===E.root,0)}const S=vo(x.commands[0])?0:1;return function Es(x,E,C){let S=x,V=E,ae=C;for(;ae>V;){if(ae-=V,S=S.parent,!S)throw new Error("Invalid number of '../'");V=S.segments.length}return new os(S,!1,V-ae)}(C.snapshot._urlSegment,C.snapshot._lastPathIndex+S,x.numberOfDoubleDots)}(ae,E,x),ge=Se.processChildren?Rr(Se.segmentGroup,Se.index,ae.commands):ki(Se.segmentGroup,Se.index,ae.commands);return Ro(E.root,Se.segmentGroup,ge,S,V)}(hn,this.currentUrlTree,C,Ot,null!=ei?ei:null)}navigateByUrl(C,S={skipLocationChange:!1}){const V=Pr(C)?C:this.parseUrl(C),ae=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(ae,"imperative",null,S)}navigate(C,S={skipLocationChange:!1}){return function dn(x){for(let E=0;E<x.length;E++){const C=x[E];if(null==C)throw new Error(`The requested path contains ${C} segment at index ${E}`)}}(C),this.navigateByUrl(this.createUrlTree(C,S),S)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let S;try{S=this.urlSerializer.parse(C)}catch(V){S=this.malformedUriErrorHandler(V,this.urlSerializer,C)}return S}isActive(C,S){let V;if(V=!0===S?Object.assign({},Kr):!1===S?Object.assign({},To):S,Pr(C))return Yt(this.currentUrlTree,C,V);const ae=this.parseUrl(C);return Yt(this.currentUrlTree,ae,V)}removeEmptyProps(C){return Object.keys(C).reduce((S,V)=>{const ae=C[V];return null!=ae&&(S[V]=ae),S},{})}processNavigations(){this.navigations.subscribe(C=>{this.navigated=!0,this.lastSuccessfulId=C.id,this.currentPageId=C.targetPageId,this.events.next(new gt(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,C.resolve(!0)},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}scheduleNavigation(C,S,V,ae,Se){var ge,vt;if(this.disposed)return Promise.resolve(!1);let hn,ei,Ot;Se?(hn=Se.resolve,ei=Se.reject,Ot=Se.promise):Ot=new Promise((lo,ps)=>{hn=lo,ei=ps});const nn=++this.navigationId;let Ut;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(V=this.location.getState()),Ut=V&&V.\u0275routerPageId?V.\u0275routerPageId:ae.replaceUrl||ae.skipLocationChange?null!==(ge=this.browserPageId)&&void 0!==ge?ge:0:(null!==(vt=this.browserPageId)&&void 0!==vt?vt:0)+1):Ut=0,this.setTransition({id:nn,targetPageId:Ut,source:S,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:C,extras:ae,resolve:hn,reject:ei,promise:Ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ot.catch(lo=>Promise.reject(lo))}setBrowserUrl(C,S){const V=this.urlSerializer.serialize(C),ae=Object.assign(Object.assign({},S.extras.state),this.generateNgRouterState(S.id,S.targetPageId));this.location.isCurrentPathEqualTo(V)||S.extras.replaceUrl?this.location.replaceState(V,"",ae):this.location.go(V,"",ae)}restoreHistory(C,S=!1){var V,ae;if("computed"===this.canceledNavigationResolution){const Se=this.currentPageId-C.targetPageId;"popstate"!==C.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(V=this.currentNavigation)||void 0===V?void 0:V.finalUrl)||0===Se?this.currentUrlTree===(null===(ae=this.currentNavigation)||void 0===ae?void 0:ae.finalUrl)&&0===Se&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Se)}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(C,S){const V=new Nt(C.id,this.serializeUrl(C.extractedUrl),S);this.triggerEvent(V),C.resolve(!1)}generateNgRouterState(C,S){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:S}:{navigationId:C}}}return x.\u0275fac=function(C){_.$Z()},x.\u0275prov=_.Yz7({token:x,factory:x.\u0275fac}),x})();function bn(x){return"imperative"!==x}class oo{}class li{preload(E,C){return C().pipe((0,xt.K)(()=>(0,lt.of)(null)))}}class Fr{preload(E,C){return(0,lt.of)(null)}}let Ss=(()=>{class x{constructor(C,S,V,ae){this.router=C,this.injector=V,this.preloadingStrategy=ae,this.loader=new Qn(V,S,vt=>C.triggerEvent(new we(vt)),vt=>C.triggerEvent(new We(vt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,nt.h)(C=>C instanceof gt),(0,Pt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const C=this.injector.get(_.h0i);return this.processRoutes(C,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,S){const V=[];for(const ae of S)if(ae.loadChildren&&!ae.canLoad&&ae._loadedConfig){const Se=ae._loadedConfig;V.push(this.processRoutes(Se.module,Se.routes))}else ae.loadChildren&&!ae.canLoad?V.push(this.preloadConfig(C,ae)):ae.children&&V.push(this.processRoutes(C,ae.children));return(0,ue.D)(V).pipe((0,tt.J)(),(0,ht.U)(ae=>{}))}preloadConfig(C,S){return this.preloadingStrategy.preload(S,()=>(S._loadedConfig?(0,lt.of)(S._loadedConfig):this.loader.load(C.injector,S)).pipe((0,Ft.z)(ae=>(S._loadedConfig=ae,this.processRoutes(ae.module,ae.routes)))))}}return x.\u0275fac=function(C){return new(C||x)(_.LFG(Ni),_.LFG(_.Sil),_.LFG(_.zs3),_.LFG(oo))},x.\u0275prov=_.Yz7({token:x,factory:x.\u0275fac}),x})(),or=(()=>{class x{constructor(C,S,V={}){this.router=C,this.viewportScroller=S,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(C=>{C instanceof Oe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof gt&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.router.parseUrl(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(C=>{C instanceof q&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,S){this.router.triggerEvent(new q(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return x.\u0275fac=function(C){_.$Z()},x.\u0275prov=_.Yz7({token:x,factory:x.\u0275fac}),x})();const ji=new _.OlP("ROUTER_CONFIGURATION"),Er=new _.OlP("ROUTER_FORROOT_GUARD"),ds=[je.Ye,{provide:mn,useClass:Dn},{provide:Ni,useFactory:function fs(x,E,C,S,V,ae,Se={},ge,vt){const hn=new Ni(null,x,E,C,S,V,Vn(ae));return ge&&(hn.urlHandlingStrategy=ge),vt&&(hn.routeReuseStrategy=vt),function za(x,E){x.errorHandler&&(E.errorHandler=x.errorHandler),x.malformedUriErrorHandler&&(E.malformedUriErrorHandler=x.malformedUriErrorHandler),x.onSameUrlNavigation&&(E.onSameUrlNavigation=x.onSameUrlNavigation),x.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=x.paramsInheritanceStrategy),x.relativeLinkResolution&&(E.relativeLinkResolution=x.relativeLinkResolution),x.urlUpdateStrategy&&(E.urlUpdateStrategy=x.urlUpdateStrategy),x.canceledNavigationResolution&&(E.canceledNavigationResolution=x.canceledNavigationResolution)}(Se,hn),Se.enableTracing&&hn.events.subscribe(ei=>{var Ot,nn;null===(Ot=console.group)||void 0===Ot||Ot.call(console,`Router Event: ${ei.constructor.name}`),console.log(ei.toString()),console.log(ei),null===(nn=console.groupEnd)||void 0===nn||nn.call(console)}),hn},deps:[mn,Po,je.Ye,_.zs3,_.Sil,Si,ji,[class Mo{},new _.FiY],[class gr{},new _.FiY]]},Po,{provide:Gn,useFactory:function Hs(x){return x.routerState.root},deps:[Ni]},Ss,Fr,li,{provide:ji,useValue:{enableTracing:!1}}];function ba(){return new _.PXZ("Router",Ni)}let hs=(()=>{class x{constructor(C,S){}static forRoot(C,S){return{ngModule:x,providers:[ds,ta(C),{provide:Er,useFactory:As,deps:[[Ni,new _.FiY,new _.tp0]]},{provide:ji,useValue:S||{}},{provide:je.S$,useFactory:Ca,deps:[je.lw,[new _.tBr(je.mr),new _.FiY],ji]},{provide:or,useFactory:Nr,deps:[Ni,je.EM,ji]},{provide:oo,useExisting:S&&S.preloadingStrategy?S.preloadingStrategy:Fr},{provide:_.PXZ,multi:!0,useFactory:ba},[Gs,{provide:_.ip1,multi:!0,useFactory:Ml,deps:[Gs]},{provide:zs,useFactory:$a,deps:[Gs]},{provide:_.tb,multi:!0,useExisting:zs}]]}}static forChild(C){return{ngModule:x,providers:[ta(C)]}}}return x.\u0275fac=function(C){return new(C||x)(_.LFG(Er,8),_.LFG(Ni,8))},x.\u0275mod=_.oAB({type:x}),x.\u0275inj=_.cJS({}),x})();function Nr(x,E,C){return C.scrollOffset&&E.setOffset(C.scrollOffset),new or(x,E,C)}function Ca(x,E,C={}){return C.useHash?new je.Do(x,E):new je.b0(x,E)}function As(x){return"guarded"}function ta(x){return[{provide:_.deG,multi:!0,useValue:x},{provide:Si,multi:!0,useValue:x}]}let Gs=(()=>{class x{constructor(C){this.injector=C,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ze.x}appInitializer(){return this.injector.get(je.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let S=null;const V=new Promise(ge=>S=ge),ae=this.injector.get(Ni),Se=this.injector.get(ji);return"disabled"===Se.initialNavigation?(ae.setUpLocationChangeListener(),S(!0)):"enabled"===Se.initialNavigation||"enabledBlocking"===Se.initialNavigation?(ae.hooks.afterPreactivation=()=>this.initNavigation?(0,lt.of)(null):(this.initNavigation=!0,S(!0),this.resultOfPreactivationDone),ae.initialNavigation()):S(!0),V})}bootstrapListener(C){const S=this.injector.get(ji),V=this.injector.get(Ss),ae=this.injector.get(or),Se=this.injector.get(Ni),ge=this.injector.get(_.z2F);C===ge.components[0]&&(("enabledNonBlocking"===S.initialNavigation||void 0===S.initialNavigation)&&Se.initialNavigation(),V.setUpPreloading(),ae.init(),Se.resetRootComponentType(ge.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return x.\u0275fac=function(C){return new(C||x)(_.LFG(_.zs3))},x.\u0275prov=_.Yz7({token:x,factory:x.\u0275fac}),x})();function Ml(x){return x.appInitializer.bind(x)}function $a(x){return x.bootstrapListener.bind(x)}const zs=new _.OlP("Router Initializer")}},Ht=>{Ht(Ht.s=8675)}]);